!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).getVPAIDAd=t()}}(function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var _="function"==typeof require&&require;if(!s&&_)return _(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n||t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){e.exports={SWF_VERSION:15,TARGET_PLAYER:"23.0"}},{}],2:[function(t,e,n){e.exports={adNetworkId:"926608",partner:"springserve"}},{}],3:[function(t,e,n){e.exports={moatPartnerCode:"yellowhammerflashint188671193078"}},{}],4:[function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&a.isObject(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}var o=t("punycode"),a=t("./util");n.parse=i,n.resolve=function(t,e){return i(t,!1,!0).resolve(e)},n.resolveObject=function(t,e){return t?i(t,!1,!0).resolveObject(e):e},n.format=function(t){return a.isString(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)},n.Url=r;var s=/^([a-z0-9.+-]+:)/i,_=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),d=["%","/","?",";","#"].concat(c),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},A={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=t("querystring");r.prototype.parse=function(t,e,n){if(!a.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=-1!==r&&r<t.indexOf("#")?"?":"#",_=t.split(i);_[0]=_[0].replace(/\\/g,"/");var l=t=_.join(i);if(l=l.trim(),!n&&1===t.split("#").length){var R=u.exec(l);if(R)return this.path=l,this.href=l,this.pathname=R[1],R[2]?(this.search=R[2],this.query=e?S.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var y=s.exec(l);if(y){var O=(y=y[0]).toLowerCase();this.protocol=O,l=l.substr(y.length)}if(n||y||l.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===l.substr(0,2);!T||y&&A[y]||(l=l.substr(2),this.slashes=!0)}if(!A[y]&&(T||y&&!v[y])){for(var I=-1,g=0;g<h.length;g++)-1!==(P=l.indexOf(h[g]))&&(-1===I||P<I)&&(I=P);var m,b;-1!==(b=-1===I?l.lastIndexOf("@"):l.lastIndexOf("@",I))&&(m=l.slice(0,b),l=l.slice(b+1),this.auth=decodeURIComponent(m)),I=-1;for(g=0;g<d.length;g++){var P=l.indexOf(d[g]);-1!==P&&(-1===I||P<I)&&(I=P)}-1===I&&(I=l.length),this.host=l.slice(0,I),l=l.slice(I),this.parseHost(),this.hostname=this.hostname||"";var D="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!D)for(var V=this.hostname.split(/\./),g=0,L=V.length;g<L;g++){var C=V[g];if(C&&!C.match(f)){for(var N="",w=0,M=C.length;w<M;w++)C.charCodeAt(w)>127?N+="x":N+=C[w];if(!N.match(f)){var j=V.slice(0,g),k=V.slice(g+1),x=C.match(p);x&&(j.push(x[1]),k.unshift(x[2])),k.length&&(l="/"+k.join(".")+l),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),D||(this.hostname=o.toASCII(this.hostname));var U=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+U,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==l[0]&&(l="/"+l))}if(!E[O])for(var g=0,L=c.length;g<L;g++){var B=c[g];if(-1!==l.indexOf(B)){var H=encodeURIComponent(B);H===B&&(H=escape(B)),l=l.split(B).join(H)}}var W=l.indexOf("#");-1!==W&&(this.hash=l.substr(W),l=l.slice(0,W));var G=l.indexOf("?");if(-1!==G?(this.search=l.substr(G),this.query=l.substr(G+1),e&&(this.query=S.parse(this.query)),l=l.slice(0,G)):e&&(this.search="",this.query={}),l&&(this.pathname=l),v[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",X=this.search||"";this.path=U+X}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=S.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+i+n+s+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(a.isString(t)){var e=new r;e.parse(t,!1,!0),t=e}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var _=Object.keys(t),u=0;u<_.length;u++){var l=_[u];"protocol"!==l&&(n[l]=t[l])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!v[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var h=c[d];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||A[t.protocol])n.pathname=t.pathname;else{for(T=(t.pathname||"").split("/");T.length&&!(t.host=T.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==T[0]&&T.unshift(""),T.length<2&&T.unshift(""),n.pathname=T.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var f=n.pathname||"",p=n.search||"";n.path=f+p}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var E=n.pathname&&"/"===n.pathname.charAt(0),S=t.host||t.pathname&&"/"===t.pathname.charAt(0),R=S||E||n.host&&t.pathname,y=R,O=n.pathname&&n.pathname.split("/")||[],T=t.pathname&&t.pathname.split("/")||[],I=n.protocol&&!v[n.protocol];if(I&&(n.hostname="",n.port=null,n.host&&(""===O[0]?O[0]=n.host:O.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===T[0]?T[0]=t.host:T.unshift(t.host)),t.host=null),R=R&&(""===T[0]||""===O[0])),S)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,O=T;else if(T.length)O||(O=[]),O.pop(),O=O.concat(T),n.search=t.search,n.query=t.query;else if(!a.isNullOrUndefined(t.search))return I&&(n.hostname=n.host=O.shift(),(V=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=V.shift(),n.host=n.hostname=V.shift())),n.search=t.search,n.query=t.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!O.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var g=O.slice(-1)[0],m=(n.host||t.host||O.length>1)&&("."===g||".."===g)||""===g,b=0,P=O.length;P>=0;P--)"."===(g=O[P])?O.splice(P,1):".."===g?(O.splice(P,1),b++):b&&(O.splice(P,1),b--);if(!R&&!y)for(;b--;b)O.unshift("..");!R||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),m&&"/"!==O.join("/").substr(-1)&&O.push("");var D=""===O[0]||O[0]&&"/"===O[0].charAt(0);if(I){n.hostname=n.host=D?"":O.length?O.shift():"";var V=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");V&&(n.auth=V.shift(),n.host=n.hostname=V.shift())}return(R=R||n.host&&O.length)&&!D&&O.unshift(""),O.length?n.pathname=O.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=_.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":5,punycode:178,querystring:181}],5:[function(t,e,n){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],6:[function(t,e,n){var r=t("./_getNative")(t("./_root"),"DataView");e.exports=r},{"./_getNative":78,"./_root":117}],7:[function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=t("./_hashClear"),o=t("./_hashDelete"),a=t("./_hashGet"),s=t("./_hashHas"),_=t("./_hashSet");r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=_,e.exports=r},{"./_hashClear":85,"./_hashDelete":86,"./_hashGet":87,"./_hashHas":88,"./_hashSet":89}],8:[function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=t("./_listCacheClear"),o=t("./_listCacheDelete"),a=t("./_listCacheGet"),s=t("./_listCacheHas"),_=t("./_listCacheSet");r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=_,e.exports=r},{"./_listCacheClear":97,"./_listCacheDelete":98,"./_listCacheGet":99,"./_listCacheHas":100,"./_listCacheSet":101}],9:[function(t,e,n){var r=t("./_getNative")(t("./_root"),"Map");e.exports=r},{"./_getNative":78,"./_root":117}],10:[function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=t("./_mapCacheClear"),o=t("./_mapCacheDelete"),a=t("./_mapCacheGet"),s=t("./_mapCacheHas"),_=t("./_mapCacheSet");r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=_,e.exports=r},{"./_mapCacheClear":102,"./_mapCacheDelete":103,"./_mapCacheGet":104,"./_mapCacheHas":105,"./_mapCacheSet":106}],11:[function(t,e,n){var r=t("./_getNative")(t("./_root"),"Promise");e.exports=r},{"./_getNative":78,"./_root":117}],12:[function(t,e,n){var r=t("./_getNative")(t("./_root"),"Set");e.exports=r},{"./_getNative":78,"./_root":117}],13:[function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=t("./_MapCache"),o=t("./_setCacheAdd"),a=t("./_setCacheHas");r.prototype.add=r.prototype.push=o,r.prototype.has=a,e.exports=r},{"./_MapCache":10,"./_setCacheAdd":118,"./_setCacheHas":119}],14:[function(t,e,n){function r(t){var e=this.__data__=new i(t);this.size=e.size}var i=t("./_ListCache"),o=t("./_stackClear"),a=t("./_stackDelete"),s=t("./_stackGet"),_=t("./_stackHas"),u=t("./_stackSet");r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=_,r.prototype.set=u,e.exports=r},{"./_ListCache":8,"./_stackClear":123,"./_stackDelete":124,"./_stackGet":125,"./_stackHas":126,"./_stackSet":127}],15:[function(t,e,n){var r=t("./_root").Symbol;e.exports=r},{"./_root":117}],16:[function(t,e,n){var r=t("./_root").Uint8Array;e.exports=r},{"./_root":117}],17:[function(t,e,n){var r=t("./_getNative")(t("./_root"),"WeakMap");e.exports=r},{"./_getNative":78,"./_root":117}],18:[function(t,e,n){e.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},{}],19:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},{}],20:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},{}],21:[function(t,e,n){var r=t("./_baseTimes"),i=t("./isArguments"),o=t("./isArray"),a=t("./isBuffer"),s=t("./_isIndex"),_=t("./isTypedArray"),u=Object.prototype.hasOwnProperty;e.exports=function(t,e){var n=o(t),l=!n&&i(t),c=!n&&!l&&a(t),d=!n&&!l&&!c&&_(t),h=n||l||c||d,f=h?r(t.length,String):[],p=f.length;for(var E in t)!e&&!u.call(t,E)||h&&("length"==E||c&&("offset"==E||"parent"==E)||d&&("buffer"==E||"byteLength"==E||"byteOffset"==E)||s(E,p))||f.push(E);return f}},{"./_baseTimes":57,"./_isIndex":90,"./isArguments":146,"./isArray":147,"./isBuffer":150,"./isTypedArray":161}],22:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},{}],23:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},{}],24:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},{}],25:[function(t,e,n){var r=t("./_baseAssignValue"),i=t("./eq"),o=Object.prototype.hasOwnProperty;e.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},{"./_baseAssignValue":27,"./eq":136}],26:[function(t,e,n){var r=t("./eq");e.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},{"./eq":136}],27:[function(t,e,n){var r=t("./_defineProperty");e.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},{"./_defineProperty":70}],28:[function(t,e,n){var r=t("./_baseForOwn"),i=t("./_createBaseEach")(r);e.exports=i},{"./_baseForOwn":33,"./_createBaseEach":66}],29:[function(t,e,n){var r=t("./isSymbol");e.exports=function(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(void 0===_?s===s&&!r(s):n(s,_)))var _=s,u=a}return u}},{"./isSymbol":160}],30:[function(t,e,n){var r=t("./_baseEach");e.exports=function(t,e){var n=[];return r(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}},{"./_baseEach":28}],31:[function(t,e,n){e.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},{}],32:[function(t,e,n){var r=t("./_createBaseFor")();e.exports=r},{"./_createBaseFor":67}],33:[function(t,e,n){var r=t("./_baseFor"),i=t("./keys");e.exports=function(t,e){return t&&r(t,e,i)}},{"./_baseFor":32,"./keys":163}],34:[function(t,e,n){var r=t("./_castPath"),i=t("./_toKey");e.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},{"./_castPath":62,"./_toKey":130}],35:[function(t,e,n){var r=t("./_arrayPush"),i=t("./isArray");e.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},{"./_arrayPush":23,"./isArray":147}],36:[function(t,e,n){var r=t("./_Symbol"),i=t("./_getRawTag"),o=t("./_objectToString"),a="[object Null]",s="[object Undefined]",_=r?r.toStringTag:void 0;e.exports=function(t){return null==t?void 0===t?s:a:_&&_ in Object(t)?i(t):o(t)}},{"./_Symbol":15,"./_getRawTag":80,"./_objectToString":114}],37:[function(t,e,n){e.exports=function(t,e){return null!=t&&e in Object(t)}},{}],38:[function(t,e,n){var r=t("./_baseFindIndex"),i=t("./_baseIsNaN"),o=t("./_strictIndexOf");e.exports=function(t,e,n){return e===e?o(t,e,n):r(t,i,n)}},{"./_baseFindIndex":31,"./_baseIsNaN":43,"./_strictIndexOf":128}],39:[function(t,e,n){var r=t("./_baseGetTag"),i=t("./isObjectLike"),o="[object Arguments]";e.exports=function(t){return i(t)&&r(t)==o}},{"./_baseGetTag":36,"./isObjectLike":157}],40:[function(t,e,n){function r(t,e,n,a,s){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!==t&&e!==e:i(t,e,n,a,r,s))}var i=t("./_baseIsEqualDeep"),o=t("./isObjectLike");e.exports=r},{"./_baseIsEqualDeep":41,"./isObjectLike":157}],41:[function(t,e,n){var r=t("./_Stack"),i=t("./_equalArrays"),o=t("./_equalByTag"),a=t("./_equalObjects"),s=t("./_getTag"),_=t("./isArray"),u=t("./isBuffer"),l=t("./isTypedArray"),c=1,d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(t,e,n,E,A,v){var S=_(t),R=_(e),y=S?h:s(t),O=R?h:s(e),T=(y=y==d?f:y)==f,I=(O=O==d?f:O)==f,g=y==O;if(g&&u(t)){if(!u(e))return!1;S=!0,T=!1}if(g&&!T)return v||(v=new r),S||l(t)?i(t,e,n,E,A,v):o(t,e,y,n,E,A,v);if(!(n&c)){var m=T&&p.call(t,"__wrapped__"),b=I&&p.call(e,"__wrapped__");if(m||b){var P=m?t.value():t,D=b?e.value():e;return v||(v=new r),A(P,D,n,E,v)}}return!!g&&(v||(v=new r),a(t,e,n,E,A,v))}},{"./_Stack":14,"./_equalArrays":71,"./_equalByTag":72,"./_equalObjects":73,"./_getTag":82,"./isArray":147,"./isBuffer":150,"./isTypedArray":161}],42:[function(t,e,n){var r=t("./_Stack"),i=t("./_baseIsEqual"),o=1,a=2;e.exports=function(t,e,n,s){var _=n.length,u=_,l=!s;if(null==t)return!u;for(t=Object(t);_--;){var c=n[_];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++_<u;){var d=(c=n[_])[0],h=t[d],f=c[1];if(l&&c[2]){if(void 0===h&&!(d in t))return!1}else{var p=new r;if(s)var E=s(h,f,d,t,e,p);if(!(void 0===E?i(f,h,o|a,s,p):E))return!1}}return!0}},{"./_Stack":14,"./_baseIsEqual":40}],43:[function(t,e,n){e.exports=function(t){return t!==t}},{}],44:[function(t,e,n){var r=t("./isFunction"),i=t("./_isMasked"),o=t("./isObject"),a=t("./_toSource"),s=/^\[object .+?Constructor\]$/,_=Function.prototype,u=Object.prototype,l=_.toString,c=u.hasOwnProperty,d=RegExp("^"+l.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t){return!(!o(t)||i(t))&&(r(t)?d:s).test(a(t))}},{"./_isMasked":94,"./_toSource":131,"./isFunction":152,"./isObject":156}],45:[function(t,e,n){var r=t("./_baseGetTag"),i=t("./isLength"),o=t("./isObjectLike"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},{"./_baseGetTag":36,"./isLength":154,"./isObjectLike":157}],46:[function(t,e,n){var r=t("./_baseMatches"),i=t("./_baseMatchesProperty"),o=t("./identity"),a=t("./isArray"),s=t("./property");e.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},{"./_baseMatches":51,"./_baseMatchesProperty":52,"./identity":144,"./isArray":147,"./property":170}],47:[function(t,e,n){var r=t("./_isPrototype"),i=t("./_nativeKeys"),o=Object.prototype.hasOwnProperty;e.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},{"./_isPrototype":95,"./_nativeKeys":111}],48:[function(t,e,n){var r=t("./isObject"),i=t("./_isPrototype"),o=t("./_nativeKeysIn"),a=Object.prototype.hasOwnProperty;e.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},{"./_isPrototype":95,"./_nativeKeysIn":112,"./isObject":156}],49:[function(t,e,n){e.exports=function(t,e){return t<e}},{}],50:[function(t,e,n){var r=t("./_baseEach"),i=t("./isArrayLike");e.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,function(t,r,i){o[++n]=e(t,r,i)}),o}},{"./_baseEach":28,"./isArrayLike":148}],51:[function(t,e,n){var r=t("./_baseIsMatch"),i=t("./_getMatchData"),o=t("./_matchesStrictComparable");e.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},{"./_baseIsMatch":42,"./_getMatchData":77,"./_matchesStrictComparable":108}],52:[function(t,e,n){var r=t("./_baseIsEqual"),i=t("./get"),o=t("./hasIn"),a=t("./_isKey"),s=t("./_isStrictComparable"),_=t("./_matchesStrictComparable"),u=t("./_toKey"),l=1,c=2;e.exports=function(t,e){return a(t)&&s(e)?_(u(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,l|c)}}},{"./_baseIsEqual":40,"./_isKey":92,"./_isStrictComparable":96,"./_matchesStrictComparable":108,"./_toKey":130,"./get":142,"./hasIn":143}],53:[function(t,e,n){e.exports=function(t){return function(e){return null==e?void 0:e[t]}}},{}],54:[function(t,e,n){var r=t("./_baseGet");e.exports=function(t){return function(e){return r(e,t)}}},{"./_baseGet":34}],55:[function(t,e,n){var r=t("./identity"),i=t("./_overRest"),o=t("./_setToString");e.exports=function(t,e){return o(i(t,e,r),t+"")}},{"./_overRest":116,"./_setToString":121,"./identity":144}],56:[function(t,e,n){var r=t("./constant"),i=t("./_defineProperty"),o=t("./identity"),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;e.exports=a},{"./_defineProperty":70,"./constant":134,"./identity":144}],57:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},{}],58:[function(t,e,n){function r(t){if("string"==typeof t)return t;if(a(t))return o(t,r)+"";if(s(t))return l?l.call(t):"";var e=t+"";return"0"==e&&1/t==-_?"-0":e}var i=t("./_Symbol"),o=t("./_arrayMap"),a=t("./isArray"),s=t("./isSymbol"),_=1/0,u=i?i.prototype:void 0,l=u?u.toString:void 0;e.exports=r},{"./_Symbol":15,"./_arrayMap":22,"./isArray":147,"./isSymbol":160}],59:[function(t,e,n){e.exports=function(t){return function(e){return t(e)}}},{}],60:[function(t,e,n){e.exports=function(t,e){return t.has(e)}},{}],61:[function(t,e,n){var r=t("./identity");e.exports=function(t){return"function"==typeof t?t:r}},{"./identity":144}],62:[function(t,e,n){var r=t("./isArray"),i=t("./_isKey"),o=t("./_stringToPath"),a=t("./toString");e.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},{"./_isKey":92,"./_stringToPath":129,"./isArray":147,"./toString":176}],63:[function(t,e,n){var r=t("./_assignValue"),i=t("./_baseAssignValue");e.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,_=e.length;++s<_;){var u=e[s],l=o?o(n[u],t[u],u,n,t):void 0;void 0===l&&(l=t[u]),a?i(n,u,l):r(n,u,l)}return n}},{"./_assignValue":25,"./_baseAssignValue":27}],64:[function(t,e,n){var r=t("./_root")["__core-js_shared__"];e.exports=r},{"./_root":117}],65:[function(t,e,n){var r=t("./_baseRest"),i=t("./_isIterateeCall");e.exports=function(t){return r(function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var _=n[r];_&&t(e,_,r,a)}return e})}},{"./_baseRest":55,"./_isIterateeCall":91}],66:[function(t,e,n){var r=t("./isArrayLike");e.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},{"./isArrayLike":148}],67:[function(t,e,n){e.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var _=a[t?s:++i];if(!1===n(o[_],_,o))break}return e}}},{}],68:[function(t,e,n){var r=t("./_baseIteratee"),i=t("./isArrayLike"),o=t("./keys");e.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var _=r(n,3);e=o(e),n=function(t){return _(s[t],t,s)}}var u=t(e,n,a);return u>-1?s[_?e[u]:u]:void 0}}},{"./_baseIteratee":46,"./isArrayLike":148,"./keys":163}],69:[function(t,e,n){var r=t("./eq"),i=Object.prototype,o=i.hasOwnProperty;e.exports=function(t,e,n,a){return void 0===t||r(t,i[n])&&!o.call(a,n)?e:t}},{"./eq":136}],70:[function(t,e,n){var r=t("./_getNative"),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();e.exports=i},{"./_getNative":78}],71:[function(t,e,n){var r=t("./_SetCache"),i=t("./_arraySome"),o=t("./_cacheHas"),a=1,s=2;e.exports=function(t,e,n,_,u,l){var c=n&a,d=t.length,h=e.length;if(d!=h&&!(c&&h>d))return!1;var f=l.get(t);if(f&&l.get(e))return f==e;var p=-1,E=!0,A=n&s?new r:void 0;for(l.set(t,e),l.set(e,t);++p<d;){var v=t[p],S=e[p];if(_)var R=c?_(S,v,p,e,t,l):_(v,S,p,t,e,l);if(void 0!==R){if(R)continue;E=!1;break}if(A){if(!i(e,function(t,e){if(!o(A,e)&&(v===t||u(v,t,n,_,l)))return A.push(e)})){E=!1;break}}else if(v!==S&&!u(v,S,n,_,l)){E=!1;break}}return l.delete(t),l.delete(e),E}},{"./_SetCache":13,"./_arraySome":24,"./_cacheHas":60}],72:[function(t,e,n){var r=t("./_Symbol"),i=t("./_Uint8Array"),o=t("./eq"),a=t("./_equalArrays"),s=t("./_mapToArray"),_=t("./_setToArray"),u=1,l=2,c="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Map]",p="[object Number]",E="[object RegExp]",A="[object Set]",v="[object String]",S="[object Symbol]",R="[object ArrayBuffer]",y="[object DataView]",O=r?r.prototype:void 0,T=O?O.valueOf:void 0;e.exports=function(t,e,n,r,O,I,g){switch(n){case y:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return!(t.byteLength!=e.byteLength||!I(new i(t),new i(e)));case c:case d:case p:return o(+t,+e);case h:return t.name==e.name&&t.message==e.message;case E:case v:return t==e+"";case f:var m=s;case A:var b=r&u;if(m||(m=_),t.size!=e.size&&!b)return!1;var P=g.get(t);if(P)return P==e;r|=l,g.set(t,e);var D=a(m(t),m(e),r,O,I,g);return g.delete(t),D;case S:if(T)return T.call(t)==T.call(e)}return!1}},{"./_Symbol":15,"./_Uint8Array":16,"./_equalArrays":71,"./_mapToArray":107,"./_setToArray":120,"./eq":136}],73:[function(t,e,n){var r=t("./_getAllKeys"),i=1,o=Object.prototype.hasOwnProperty;e.exports=function(t,e,n,a,s,_){var u=n&i,l=r(t),c=l.length;if(c!=r(e).length&&!u)return!1;for(var d=c;d--;){var h=l[d];if(!(u?h in e:o.call(e,h)))return!1}var f=_.get(t);if(f&&_.get(e))return f==e;var p=!0;_.set(t,e),_.set(e,t);for(var E=u;++d<c;){var A=t[h=l[d]],v=e[h];if(a)var S=u?a(v,A,h,e,t,_):a(A,v,h,t,e,_);if(!(void 0===S?A===v||s(A,v,n,a,_):S)){p=!1;break}E||(E="constructor"==h)}if(p&&!E){var R=t.constructor,y=e.constructor;R!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof R&&R instanceof R&&"function"==typeof y&&y instanceof y)&&(p=!1)}return _.delete(t),_.delete(e),p}},{"./_getAllKeys":75}],74:[function(t,e,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],75:[function(t,e,n){var r=t("./_baseGetAllKeys"),i=t("./_getSymbols"),o=t("./keys");e.exports=function(t){return r(t,o,i)}},{"./_baseGetAllKeys":35,"./_getSymbols":81,"./keys":163}],76:[function(t,e,n){var r=t("./_isKeyable");e.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},{"./_isKeyable":93}],77:[function(t,e,n){var r=t("./_isStrictComparable"),i=t("./keys");e.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},{"./_isStrictComparable":96,"./keys":163}],78:[function(t,e,n){var r=t("./_baseIsNative"),i=t("./_getValue");e.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},{"./_baseIsNative":44,"./_getValue":83}],79:[function(t,e,n){var r=t("./_overArg")(Object.getPrototypeOf,Object);e.exports=r},{"./_overArg":115}],80:[function(t,e,n){var r=t("./_Symbol"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},{"./_Symbol":15}],81:[function(t,e,n){var r=t("./_arrayFilter"),i=t("./stubArray"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return o.call(t,e)}))}:i;e.exports=s},{"./_arrayFilter":20,"./stubArray":171}],82:[function(t,e,n){var r=t("./_DataView"),i=t("./_Map"),o=t("./_Promise"),a=t("./_Set"),s=t("./_WeakMap"),_=t("./_baseGetTag"),u=t("./_toSource"),l=u(r),c=u(i),d=u(o),h=u(a),f=u(s),p=_;(r&&"[object DataView]"!=p(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=p(new i)||o&&"[object Promise]"!=p(o.resolve())||a&&"[object Set]"!=p(new a)||s&&"[object WeakMap]"!=p(new s))&&(p=function(t){var e=_(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case l:return"[object DataView]";case c:return"[object Map]";case d:return"[object Promise]";case h:return"[object Set]";case f:return"[object WeakMap]"}return e}),e.exports=p},{"./_DataView":6,"./_Map":9,"./_Promise":11,"./_Set":12,"./_WeakMap":17,"./_baseGetTag":36,"./_toSource":131}],83:[function(t,e,n){e.exports=function(t,e){return null==t?void 0:t[e]}},{}],84:[function(t,e,n){var r=t("./_castPath"),i=t("./isArguments"),o=t("./isArray"),a=t("./_isIndex"),s=t("./isLength"),_=t("./_toKey");e.exports=function(t,e,n){for(var u=-1,l=(e=r(e,t)).length,c=!1;++u<l;){var d=_(e[u]);if(!(c=null!=t&&n(t,d)))break;t=t[d]}return c||++u!=l?c:!!(l=null==t?0:t.length)&&s(l)&&a(d,l)&&(o(t)||i(t))}},{"./_castPath":62,"./_isIndex":90,"./_toKey":130,"./isArguments":146,"./isArray":147,"./isLength":154}],85:[function(t,e,n){var r=t("./_nativeCreate");e.exports=function(){this.__data__=r?r(null):{},this.size=0}},{"./_nativeCreate":110}],86:[function(t,e,n){e.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},{}],87:[function(t,e,n){var r=t("./_nativeCreate"),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}},{"./_nativeCreate":110}],88:[function(t,e,n){var r=t("./_nativeCreate"),i=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},{"./_nativeCreate":110}],89:[function(t,e,n){var r=t("./_nativeCreate"),i="__lodash_hash_undefined__";e.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},{"./_nativeCreate":110}],90:[function(t,e,n){var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=function(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<e}},{}],91:[function(t,e,n){var r=t("./eq"),i=t("./isArrayLike"),o=t("./_isIndex"),a=t("./isObject");e.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},{"./_isIndex":90,"./eq":136,"./isArrayLike":148,"./isObject":156}],92:[function(t,e,n){var r=t("./isArray"),i=t("./isSymbol"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},{"./isArray":147,"./isSymbol":160}],93:[function(t,e,n){e.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},{}],94:[function(t,e,n){var r=t("./_coreJsData"),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();e.exports=function(t){return!!i&&i in t}},{"./_coreJsData":64}],95:[function(t,e,n){var r=Object.prototype;e.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},{}],96:[function(t,e,n){var r=t("./isObject");e.exports=function(t){return t===t&&!r(t)}},{"./isObject":156}],97:[function(t,e,n){e.exports=function(){this.__data__=[],this.size=0}},{}],98:[function(t,e,n){var r=t("./_assocIndexOf"),i=Array.prototype.splice;e.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},{"./_assocIndexOf":26}],99:[function(t,e,n){var r=t("./_assocIndexOf");e.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},{"./_assocIndexOf":26}],100:[function(t,e,n){var r=t("./_assocIndexOf");e.exports=function(t){return r(this.__data__,t)>-1}},{"./_assocIndexOf":26}],101:[function(t,e,n){var r=t("./_assocIndexOf");e.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},{"./_assocIndexOf":26}],102:[function(t,e,n){var r=t("./_Hash"),i=t("./_ListCache"),o=t("./_Map");e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},{"./_Hash":7,"./_ListCache":8,"./_Map":9}],103:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},{"./_getMapData":76}],104:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){return r(this,t).get(t)}},{"./_getMapData":76}],105:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){return r(this,t).has(t)}},{"./_getMapData":76}],106:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},{"./_getMapData":76}],107:[function(t,e,n){e.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},{}],108:[function(t,e,n){e.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},{}],109:[function(t,e,n){var r=t("./memoize"),i=500;e.exports=function(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},{"./memoize":167}],110:[function(t,e,n){var r=t("./_getNative")(Object,"create");e.exports=r},{"./_getNative":78}],111:[function(t,e,n){var r=t("./_overArg")(Object.keys,Object);e.exports=r},{"./_overArg":115}],112:[function(t,e,n){e.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},{}],113:[function(t,e,n){var r=t("./_freeGlobal"),i="object"==typeof n&&n&&!n.nodeType&&n,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},{"./_freeGlobal":74}],114:[function(t,e,n){var r=Object.prototype.toString;e.exports=function(t){return r.call(t)}},{}],115:[function(t,e,n){e.exports=function(t,e){return function(n){return t(e(n))}}},{}],116:[function(t,e,n){var r=t("./_apply"),i=Math.max;e.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),_=Array(s);++a<s;)_[a]=o[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=o[a];return u[e]=n(_),r(t,this,u)}}},{"./_apply":18}],117:[function(t,e,n){var r=t("./_freeGlobal"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},{"./_freeGlobal":74}],118:[function(t,e,n){var r="__lodash_hash_undefined__";e.exports=function(t){return this.__data__.set(t,r),this}},{}],119:[function(t,e,n){e.exports=function(t){return this.__data__.has(t)}},{}],120:[function(t,e,n){e.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},{}],121:[function(t,e,n){var r=t("./_baseSetToString"),i=t("./_shortOut")(r);e.exports=i},{"./_baseSetToString":56,"./_shortOut":122}],122:[function(t,e,n){var r=800,i=16,o=Date.now;e.exports=function(t){var e=0,n=0;return function(){var a=o(),s=i-(a-n);if(n=a,s>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},{}],123:[function(t,e,n){var r=t("./_ListCache");e.exports=function(){this.__data__=new r,this.size=0}},{"./_ListCache":8}],124:[function(t,e,n){e.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},{}],125:[function(t,e,n){e.exports=function(t){return this.__data__.get(t)}},{}],126:[function(t,e,n){e.exports=function(t){return this.__data__.has(t)}},{}],127:[function(t,e,n){var r=t("./_ListCache"),i=t("./_Map"),o=t("./_MapCache"),a=200;e.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},{"./_ListCache":8,"./_Map":9,"./_MapCache":10}],128:[function(t,e,n){e.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},{}],129:[function(t,e,n){var r=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=t("./_memoizeCapped")(function(t){var e=[];return r.test(t)&&e.push(""),t.replace(i,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e});e.exports=a},{"./_memoizeCapped":109}],130:[function(t,e,n){var r=t("./isSymbol"),i=1/0;e.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},{"./isSymbol":160}],131:[function(t,e,n){var r=Function.prototype.toString;e.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},{}],132:[function(t,e,n){var r=t("./_copyObject"),i=t("./_createAssigner"),o=t("./keysIn"),a=i(function(t,e){r(e,o(e),t)});e.exports=a},{"./_copyObject":63,"./_createAssigner":65,"./keysIn":164}],133:[function(t,e,n){var r=t("./_copyObject"),i=t("./_createAssigner"),o=t("./keysIn"),a=i(function(t,e,n,i){r(e,o(e),t,i)});e.exports=a},{"./_copyObject":63,"./_createAssigner":65,"./keysIn":164}],134:[function(t,e,n){e.exports=function(t){return function(){return t}}},{}],135:[function(t,e,n){var r=t("./_apply"),i=t("./assignInWith"),o=t("./_baseRest"),a=t("./_customDefaultsAssignIn"),s=o(function(t){return t.push(void 0,a),r(i,void 0,t)});e.exports=s},{"./_apply":18,"./_baseRest":55,"./_customDefaultsAssignIn":69,"./assignInWith":133}],136:[function(t,e,n){e.exports=function(t,e){return t===e||t!==t&&e!==e}},{}],137:[function(t,e,n){e.exports=t("./assignIn")},{"./assignIn":132}],138:[function(t,e,n){var r=t("./_arrayFilter"),i=t("./_baseFilter"),o=t("./_baseIteratee"),a=t("./isArray");e.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},{"./_arrayFilter":20,"./_baseFilter":30,"./_baseIteratee":46,"./isArray":147}],139:[function(t,e,n){var r=t("./_createFind")(t("./findIndex"));e.exports=r},{"./_createFind":68,"./findIndex":140}],140:[function(t,e,n){var r=t("./_baseFindIndex"),i=t("./_baseIteratee"),o=t("./toInteger"),a=Math.max;e.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var _=null==n?0:o(n);return _<0&&(_=a(s+_,0)),r(t,i(e,3),_)}},{"./_baseFindIndex":31,"./_baseIteratee":46,"./toInteger":174}],141:[function(t,e,n){var r=t("./_arrayEach"),i=t("./_baseEach"),o=t("./_castFunction"),a=t("./isArray");e.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},{"./_arrayEach":19,"./_baseEach":28,"./_castFunction":61,"./isArray":147}],142:[function(t,e,n){var r=t("./_baseGet");e.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},{"./_baseGet":34}],143:[function(t,e,n){var r=t("./_baseHasIn"),i=t("./_hasPath");e.exports=function(t,e){return null!=t&&i(t,e,r)}},{"./_baseHasIn":37,"./_hasPath":84}],144:[function(t,e,n){e.exports=function(t){return t}},{}],145:[function(t,e,n){var r=t("./_baseIndexOf"),i=t("./toInteger"),o=Math.max;e.exports=function(t,e,n){var a=null==t?0:t.length;if(!a)return-1;var s=null==n?0:i(n);return s<0&&(s=o(a+s,0)),r(t,e,s)}},{"./_baseIndexOf":38,"./toInteger":174}],146:[function(t,e,n){var r=t("./_baseIsArguments"),i=t("./isObjectLike"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,_=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};e.exports=_},{"./_baseIsArguments":39,"./isObjectLike":157}],147:[function(t,e,n){var r=Array.isArray;e.exports=r},{}],148:[function(t,e,n){var r=t("./isFunction"),i=t("./isLength");e.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},{"./isFunction":152,"./isLength":154}],149:[function(t,e,n){var r=t("./_baseGetTag"),i=t("./isObjectLike"),o="[object Boolean]";e.exports=function(t){return!0===t||!1===t||i(t)&&r(t)==o}},{"./_baseGetTag":36,"./isObjectLike":157}],150:[function(t,e,n){var r=t("./_root"),i=t("./stubFalse"),o="object"==typeof n&&n&&!n.nodeType&&n,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,_=(s?s.isBuffer:void 0)||i;e.exports=_},{"./_root":117,"./stubFalse":172}],151:[function(t,e,n){var r=t("./isObjectLike"),i=t("./isPlainObject");e.exports=function(t){return r(t)&&1===t.nodeType&&!i(t)}},{"./isObjectLike":157,"./isPlainObject":158}],152:[function(t,e,n){var r=t("./_baseGetTag"),i=t("./isObject"),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",_="[object Proxy]";e.exports=function(t){if(!i(t))return!1;var e=r(t);return e==a||e==s||e==o||e==_}},{"./_baseGetTag":36,"./isObject":156}],153:[function(t,e,n){var r=t("./toInteger");e.exports=function(t){return"number"==typeof t&&t==r(t)}},{"./toInteger":174}],154:[function(t,e,n){var r=9007199254740991;e.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}},{}],155:[function(t,e,n){e.exports=function(t){return null===t}},{}],156:[function(t,e,n){e.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},{}],157:[function(t,e,n){e.exports=function(t){return null!=t&&"object"==typeof t}},{}],158:[function(t,e,n){var r=t("./_baseGetTag"),i=t("./_getPrototype"),o=t("./isObjectLike"),a="[object Object]",s=Function.prototype,_=Object.prototype,u=s.toString,l=_.hasOwnProperty,c=u.call(Object);e.exports=function(t){if(!o(t)||r(t)!=a)return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==c}},{"./_baseGetTag":36,"./_getPrototype":79,"./isObjectLike":157}],159:[function(t,e,n){var r=t("./_baseGetTag"),i=t("./isArray"),o=t("./isObjectLike"),a="[object String]";e.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&r(t)==a}},{"./_baseGetTag":36,"./isArray":147,"./isObjectLike":157}],160:[function(t,e,n){var r=t("./_baseGetTag"),i=t("./isObjectLike"),o="[object Symbol]";e.exports=function(t){return"symbol"==typeof t||i(t)&&r(t)==o}},{"./_baseGetTag":36,"./isObjectLike":157}],161:[function(t,e,n){var r=t("./_baseIsTypedArray"),i=t("./_baseUnary"),o=t("./_nodeUtil"),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},{"./_baseIsTypedArray":45,"./_baseUnary":59,"./_nodeUtil":113}],162:[function(t,e,n){var r=Array.prototype.join;e.exports=function(t,e){return null==t?"":r.call(t,e)}},{}],163:[function(t,e,n){var r=t("./_arrayLikeKeys"),i=t("./_baseKeys"),o=t("./isArrayLike");e.exports=function(t){return o(t)?r(t):i(t)}},{"./_arrayLikeKeys":21,"./_baseKeys":47,"./isArrayLike":148}],164:[function(t,e,n){var r=t("./_arrayLikeKeys"),i=t("./_baseKeysIn"),o=t("./isArrayLike");e.exports=function(t){return o(t)?r(t,!0):i(t)}},{"./_arrayLikeKeys":21,"./_baseKeysIn":48,"./isArrayLike":148}],165:[function(t,e,n){var r=t("./_arrayMap"),i=t("./_baseIteratee"),o=t("./_baseMap"),a=t("./isArray");e.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},{"./_arrayMap":22,"./_baseIteratee":46,"./_baseMap":50,"./isArray":147}],166:[function(t,e,n){var r=t("./_baseAssignValue"),i=t("./_baseForOwn"),o=t("./_baseIteratee");e.exports=function(t,e){var n={};return e=o(e,3),i(t,function(t,i,o){r(n,i,e(t,i,o))}),n}},{"./_baseAssignValue":27,"./_baseForOwn":33,"./_baseIteratee":46}],167:[function(t,e,n){function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r.Cache||i),n}var i=t("./_MapCache"),o="Expected a function";r.Cache=i,e.exports=r},{"./_MapCache":10}],168:[function(t,e,n){var r=t("./_baseExtremum"),i=t("./_baseLt"),o=t("./identity");e.exports=function(t){return t&&t.length?r(t,o,i):void 0}},{"./_baseExtremum":29,"./_baseLt":49,"./identity":144}],169:[function(t,e,n){var r=t("./_root");e.exports=function(){return r.Date.now()}},{"./_root":117}],170:[function(t,e,n){var r=t("./_baseProperty"),i=t("./_basePropertyDeep"),o=t("./_isKey"),a=t("./_toKey");e.exports=function(t){return o(t)?r(a(t)):i(t)}},{"./_baseProperty":53,"./_basePropertyDeep":54,"./_isKey":92,"./_toKey":130}],171:[function(t,e,n){e.exports=function(){return[]}},{}],172:[function(t,e,n){e.exports=function(){return!1}},{}],173:[function(t,e,n){var r=t("./toNumber"),i=1/0,o=1.7976931348623157e308;e.exports=function(t){return t?(t=r(t))===i||t===-i?(t<0?-1:1)*o:t===t?t:0:0===t?t:0}},{"./toNumber":175}],174:[function(t,e,n){var r=t("./toFinite");e.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},{"./toFinite":173}],175:[function(t,e,n){var r=t("./isObject"),i=t("./isSymbol"),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(t){if("number"==typeof t)return t;if(i(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=_.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):s.test(t)?o:+t}},{"./isObject":156,"./isSymbol":160}],176:[function(t,e,n){var r=t("./_baseToString");e.exports=function(t){return null==t?"":r(t)}},{"./_baseToString":58}],177:[function(t,e,n){(function(t){function e(){e=function(){},_.Symbol||(_.Symbol=n)}function n(t){return"jscomp_symbol_"+(t||"")+u++}function r(){e();var t=_.Symbol.iterator;t||(t=_.Symbol.iterator=_.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&s(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return i(this)}}),r=function(){}}function i(t){var e=0;return o(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})}function o(t){return r(),t={next:t},t[_.Symbol.iterator]=function(){return this},t}function a(t){r();var e=t[Symbol.iterator];return e?e.call(t):i(t)}for(var s="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},_="undefined"!=typeof window&&window===this?this:void 0!==t&&null!=t?t:this,u=0,l=_,c=["Promise"],d=0;d<c.length-1;d++){var h=c[d];h in l||(l[h]={}),l=l[h]}var f=c[c.length-1],p=l[f],E=function(){function t(t){this.c=0,this.h=void 0,this.b=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function e(){this.b=null}function n(e){return e instanceof t?e:new t(function(t){t(e)})}if(p)return p;e.prototype.c=function(t){this.b||(this.b=[],this.g()),this.b.push(t)},e.prototype.g=function(){var t=this;this.f(function(){t.i()})};var r=_.setTimeout;e.prototype.f=function(t){r(t,0)},e.prototype.i=function(){for(;this.b&&this.b.length;){var t=this.b;this.b=[];for(var e=0;e<t.length;++e){var n=t[e];delete t[e];try{n()}catch(t){this.h(t)}}}this.b=null},e.prototype.h=function(t){this.f(function(){throw t})},t.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},t.prototype.v=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.w(e);else{t:switch(typeof e){case"object":var n=null!=e;break t;case"function":n=!0;break t;default:n=!1}n?this.s(e):this.i(e)}},t.prototype.s=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.A(e,t):this.i(t)},t.prototype.g=function(t){this.l(2,t)},t.prototype.i=function(t){this.l(1,t)},t.prototype.l=function(t,e){if(0!=this.c)throw Error("Cannot settle("+t+", "+e|"): Promise already settled in state"+this.c);this.c=t,this.h=e,this.o()},t.prototype.o=function(){if(this.b){for(var t=this.b,e=0;e<t.length;++e)t[e].call(),t[e]=null;this.b=null}};var i=new e;return t.prototype.w=function(t){var e=this.f();t.j(e.resolve,e.reject)},t.prototype.A=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},t.prototype.then=function(e,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new t(function(t,e){i=t,o=e});return this.j(r(e,i),r(n,o)),a},t.prototype.catch=function(t){return this.then(void 0,t)},t.prototype.j=function(t,e){function n(){switch(r.c){case 1:t(r.h);break;case 2:e(r.h);break;default:throw Error("Unexpected state: "+r.c)}}var r=this;this.b?this.b.push(function(){i.c(n)}):i.c(n)},t.resolve=n,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,r){for(var i=a(e),o=i.next();!o.done;o=i.next())n(o.value).j(t,r)})},t.all=function(e){var r=a(e),i=r.next();return i.done?n([]):new t(function(t,e){var o=[],a=0;do{o.push(void 0),a++,n(i.value).j(function(e){return function(n){o[e]=n,--a||t(o)}}(o.length-1),e),i=r.next()}while(!i.done)})},t}();E!=p&&null!=E&&s(l,f,{configurable:!0,writable:!0,value:E}),function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={B:r,m:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.m=!0,i.exports}var n={};e.i=t,e.f=n,e.b=function(t,n){e.c(t)||Object.defineProperty(t,"a",{configurable:!1,enumerable:!0,get:n})},e.g=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.b(n,n),n},e.c=function(t){return Object.prototype.hasOwnProperty.call(t,"a")},e.h="",e(e.l=3)}([function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(2);e.default=new Promise(function(t,e){Object(r.a)(i.a.u).then(function(){t(new window.oath.viewabilitySDK)}).catch(function(t){e(t)})})},function(t,e){var n=[];e.a=function(t){return-1!==n.indexOf(t)?Promise.resolve():new Promise(function(e,r){var i=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.src=t,o.async=!0,o.onload=o.onreadystatechange=function(){this.readyState&&"complete"!==this.readyState||(o.onload=o.onreadystatechange=null,n.push(t),e())},o.onerror=o.onabort=r,i.appendChild(o)})}},function(t,e){e.a={u:"https://cdn-ssl.vidible.tv/prod/client-utils/js/oath-viewability-sdk.js"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),t=n(0),window.oath||(window.oath={}),window.oath.viewability=t.default}])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],178:[function(t,e,n){(function(t){!function(r){function i(t){throw RangeError(L[t])}function o(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function a(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+o((t=t.replace(V,".")).split("."),e).join(".")}function s(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function _(t){return o(t,function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)}).join("")}function u(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:R}function l(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function c(t,e,n){var r=0;for(t=n?N(t/I):t>>1,t+=N(t/e);t>C*O>>1;r+=R)t=N(t/C);return N(r+(C+1)*t/(t+T))}function d(t){var e,n,r,o,a,s,l,d,h,f,p=[],E=t.length,A=0,v=m,T=g;for((n=t.lastIndexOf(b))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&i("not-basic"),p.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<E;){for(a=A,s=1,l=R;o>=E&&i("invalid-input"),((d=u(t.charCodeAt(o++)))>=R||d>N((S-A)/s))&&i("overflow"),A+=d*s,h=l<=T?y:l>=T+O?O:l-T,!(d<h);l+=R)s>N(S/(f=R-h))&&i("overflow"),s*=f;T=c(A-a,e=p.length+1,0==a),N(A/e)>S-v&&i("overflow"),v+=N(A/e),A%=e,p.splice(A++,0,v)}return _(p)}function h(t){var e,n,r,o,a,_,u,d,h,f,p,E,A,v,T,I=[];for(E=(t=s(t)).length,e=m,n=0,a=g,_=0;_<E;++_)(p=t[_])<128&&I.push(w(p));for(r=o=I.length,o&&I.push(b);r<E;){for(u=S,_=0;_<E;++_)(p=t[_])>=e&&p<u&&(u=p);for(u-e>N((S-n)/(A=r+1))&&i("overflow"),n+=(u-e)*A,e=u,_=0;_<E;++_)if((p=t[_])<e&&++n>S&&i("overflow"),p==e){for(d=n,h=R;f=h<=a?y:h>=a+O?O:h-a,!(d<f);h+=R)T=d-f,v=R-f,I.push(w(l(f+T%v,0))),d=N(T/v);I.push(w(l(d,0))),a=c(n,A,r==o),n=0,++r}++n,++e}return I.join("")}var f="object"==typeof n&&n&&!n.nodeType&&n,p="object"==typeof e&&e&&!e.nodeType&&e,E="object"==typeof t&&t;E.global!==E&&E.window!==E&&E.self!==E||(r=E);var A,v,S=2147483647,R=36,y=1,O=26,T=38,I=700,g=72,m=128,b="-",P=/^xn--/,D=/[^\x20-\x7E]/,V=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=R-y,N=Math.floor,w=String.fromCharCode;if(A={version:"1.3.2",ucs2:{decode:s,encode:_},decode:d,encode:h,toASCII:function(t){return a(t,function(t){return D.test(t)?"xn--"+h(t):t})},toUnicode:function(t){return a(t,function(t){return P.test(t)?d(t.slice(4).toLowerCase()):t})}},f&&p)if(e.exports==f)p.exports=A;else for(v in A)A.hasOwnProperty(v)&&(f[v]=A[v]);else r.punycode=A}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],179:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,o){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var _=1e3;o&&"number"==typeof o.maxKeys&&(_=o.maxKeys);var u=t.length;_>0&&u>_&&(u=_);for(var l=0;l<u;++l){var c,d,h,f,p=t[l].replace(s,"%20"),E=p.indexOf(n);E>=0?(c=p.substr(0,E),d=p.substr(E+1)):(c=p,d=""),h=decodeURIComponent(c),f=decodeURIComponent(d),r(a,h)?i(a[h])?a[h].push(f):a[h]=[a[h],f]:a[h]=f}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],180:[function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(a(t),function(a){var s=encodeURIComponent(i(a))+n;return o(t[a])?r(t[a],function(t){return s+encodeURIComponent(i(t))}).join(e):s+encodeURIComponent(i(t[a]))}).join(e):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],181:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":179,"./encode":180}],182:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.default=function(t,e){function n(){if(!H&&document.getElementsByTagName("body")[0]){try{var e,n=S("span");n.style.display="none",(e=t.getElementsByTagName("body")[0].appendChild(n)).parentNode.removeChild(e),e=null,n=null}catch(t){return}H=!0;for(var r=x.length,i=0;i<r;i++)x[i]()}}function i(t){H?t():x[x.length]=t}function o(){var e=t.getElementsByTagName("body")[0],n=S(N);n.setAttribute("style","visibility: hidden;"),n.setAttribute("type",w);var i=e.appendChild(n);if(i){var o=0;!function t(){if(r(i.GetVariable)!==C)try{var s=i.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),K.pv=[R(s[0]),R(s[1]),R(s[2])])}catch(t){K.pv=[8,0,0]}else if(o<10)return o++,void setTimeout(t,10);e.removeChild(n),i=null,a()}()}else a()}function a(){var t=U.length;if(t>0)for(var e=0;e<t;e++){var n=U[e].id,i=U[e].callbackFn,o={success:!1,id:n};if(K.pv[0]>0){var a=v(n);if(a)if(!O(U[e].swfVersion)||K.wk&&K.wk<312)if(U[e].expressInstall&&_()){var c={};c.data=U[e].expressInstall,c.width=a.getAttribute("width")||"0",c.height=a.getAttribute("height")||"0",a.getAttribute("class")&&(c.styleclass=a.getAttribute("class")),a.getAttribute("align")&&(c.align=a.getAttribute("align"));for(var d={},h=a.getElementsByTagName("param"),f=h.length,p=0;p<f;p++)"movie"!==h[p].getAttribute("name").toLowerCase()&&(d[h[p].getAttribute("name")]=h[p].getAttribute("value"));u(c,d,n,i)}else l(a),i&&i(o);else I(n,!0),i&&(o.success=!0,o.ref=s(n),o.id=n,i(o))}else if(I(n,!0),i){var E=s(n);E&&r(E.SetVariable)!==C&&(o.success=!0,o.ref=E,o.id=E.id),i(o)}}}function s(t){var e=null,n=v(t);return n&&"OBJECT"===n.nodeName.toUpperCase()&&(e=r(n.SetVariable)!==C?n:n.getElementsByTagName(N)[0]||n),e}function _(){return!W&&O("6.0.65")&&(K.win||K.mac)&&!(K.wk&&K.wk<312)}function u(n,i,o,a){var s=v(o);if(o=A(o),W=!0,P=a||null,D={success:!1,id:o},s){"OBJECT"===s.nodeName.toUpperCase()?(m=c(s),b=null):(m=s,b=o),n.id=M,(r(n.width)===C||!/%$/.test(n.width)&&R(n.width)<310)&&(n.width="310"),(r(n.height)===C||!/%$/.test(n.height)&&R(n.height)<137)&&(n.height="137");var _=K.ie?"ActiveX":"PlugIn",u="MMredirectURL="+encodeURIComponent(e.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+_+"&MMdoctitle="+encodeURIComponent(t.title.slice(0,47)+" - Flash Player Installation");if(r(i.flashvars)!==C?i.flashvars+="&"+u:i.flashvars=u,K.ie&&4!=s.readyState){var l=S("div");o+="SWFObjectNew",l.setAttribute("id",o),s.parentNode.insertBefore(l,s),s.style.display="none",p(s)}h(n,i,o)}}function l(t){if(K.ie&&4!=t.readyState){t.style.display="none";var e=S("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(c(t),e),p(t)}else t.parentNode.replaceChild(c(t),t)}function c(t){var e=S("div");if(K.win&&K.ie)e.innerHTML=t.innerHTML;else{var n=t.getElementsByTagName(N)[0];if(n){var r=n.childNodes;if(r)for(var i=r.length,o=0;o<i;o++)1==r[o].nodeType&&"PARAM"===r[o].nodeName||8==r[o].nodeType||e.appendChild(r[o].cloneNode(!0))}}return e}function d(t,e){var n=S("div");return n.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+t+"'>"+e+"</object>",n.firstChild}function h(t,e,n){var i,o=v(n);if(n=A(n),K.wk&&K.wk<312)return i;if(o){var a,s,_,u=S(K.ie?"div":N);r(t.id)===C&&(t.id=n);for(_ in e)e.hasOwnProperty(_)&&"movie"!==_.toLowerCase()&&f(u,_,e[_]);K.ie&&(u=d(t.data,u.innerHTML));for(a in t)t.hasOwnProperty(a)&&("styleclass"===(s=a.toLowerCase())?u.setAttribute("class",t[a]):"classid"!==s&&"data"!==s&&u.setAttribute(a,t[a]));K.ie?F[F.length]=t.id:(u.setAttribute("type",w),u.setAttribute("data",t.data)),o.parentNode.replaceChild(u,o),i=u}return i}function f(t,e,n){var r=S("param");r.setAttribute("name",e),r.setAttribute("value",n),t.appendChild(r)}function p(t){var e=v(t);e&&"OBJECT"===e.nodeName.toUpperCase()&&(K.ie?(e.style.display="none",function t(){if(4==e.readyState){for(var n in e)"function"==typeof e[n]&&(e[n]=null);e.parentNode.removeChild(e)}else setTimeout(t,10)}()):e.parentNode.removeChild(e))}function E(t){return t&&t.nodeType&&1===t.nodeType}function A(t){return E(t)?t.id:t}function v(e){if(E(e))return e;var n=null;try{n=t.getElementById(e)}catch(t){}return n}function S(e){return t.createElement(e)}function R(t){return parseInt(t,10)}function y(t,e,n){t.attachEvent(e,n),B[B.length]=[t,e,n]}function O(t){t+="";var e=K.pv,n=t.split(".");return n[0]=R(n[0]),n[1]=R(n[1])||0,n[2]=R(n[2])||0,e[0]>n[0]||e[0]==n[0]&&e[1]>n[1]||e[0]==n[0]&&e[1]==n[1]&&e[2]>=n[2]}function T(e,n,i,o){var a=t.getElementsByTagName("head")[0];if(a){var s="string"==typeof i?i:"screen";if(o&&(V=null,L=null),!V||L!=s){var _=S("style");_.setAttribute("type","text/css"),_.setAttribute("media",s),V=a.appendChild(_),K.ie&&r(t.styleSheets)!==C&&t.styleSheets.length>0&&(V=t.styleSheets[t.styleSheets.length-1]),L=s}V&&(r(V.addRule)!==C?V.addRule(e,n):r(t.createTextNode)!==C&&V.appendChild(t.createTextNode(e+" {"+n+"}")))}}function I(t,e){if(G){var n=e?"visible":"hidden",r=v(t);H&&r?r.style.visibility=n:"string"==typeof t&&T("#"+t,"visibility:"+n)}}function g(t){return null!==/[\\\"<>\.;]/.exec(t)&&("undefined"==typeof encodeURIComponent?"undefined":r(encodeURIComponent))!==C?encodeURIComponent(t):t}var m,b,P,D,V,L,C="undefined",N="object",w="application/x-shockwave-flash",M="SWFObjectExprInst",j=navigator,k=!1,x=[],U=[],F=[],B=[],H=!1,W=!1,G=!0,X=!1,K=function(){var n=r(t.getElementById)!==C&&r(t.getElementsByTagName)!==C&&r(t.createElement)!==C,i=j.userAgent.toLowerCase(),o=j.platform.toLowerCase(),a=/win/.test(o||i),s=/mac/.test(o||i),_=!!/webkit/.test(i)&&parseFloat(i.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),u="Microsoft Internet Explorer"===j.appName,l=[0,0,0],c=null;if(r(j.plugins)!==C&&r(j.plugins["Shockwave Flash"])===N)(c=j.plugins["Shockwave Flash"].description)&&r(j.mimeTypes)!==C&&j.mimeTypes[w]&&j.mimeTypes[w].enabledPlugin&&(k=!0,u=!1,c=c.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),l[0]=R(c.replace(/^(.*)\..*$/,"$1")),l[1]=R(c.replace(/^.*\.(.*)\s.*$/,"$1")),l[2]=/[a-zA-Z]/.test(c)?R(c.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(r(e.ActiveXObject)!==C)try{var d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");d&&(c=d.GetVariable("$version"))&&(u=!0,l=[R((c=c.split(" ")[1].split(","))[0]),R(c[1]),R(c[2])])}catch(t){}return{w3:n,pv:l,wk:_,ie:u,win:a,mac:s}}();return K.w3&&((r(t.readyState)!==C&&("complete"===t.readyState||"interactive"===t.readyState)||r(t.readyState)===C&&(t.getElementsByTagName("body")[0]||t.body))&&n(),H||(r(t.addEventListener)!==C&&t.addEventListener("DOMContentLoaded",n,!1),K.ie&&(t.attachEvent("onreadystatechange",function e(){"complete"===t.readyState&&(t.detachEvent("onreadystatechange",e),n())}),e==top&&function e(){if(!H){try{t.documentElement.doScroll("left")}catch(t){return void setTimeout(e,0)}n()}}()),K.wk&&function e(){H||(/loaded|complete/.test(t.readyState)?n():setTimeout(e,0))}())),x[0]=function(){k?o():a()},K.ie&&window.attachEvent("onunload",function(){for(var t=B.length,e=0;e<t;e++)B[e][0].detachEvent(B[e][1],B[e][2]);for(var n=F.length,r=0;r<n;r++)p(F[r]);for(var i in K)K[i]=null;K=null;for(var o in swfobject)swfobject[o]=null;swfobject=null}),{registerObject:function(t,e,n,r){if(K.w3&&t&&e){var i={};i.id=t,i.swfVersion=e,i.expressInstall=n,i.callbackFn=r,U[U.length]=i,I(t,!1)}else r&&r({success:!1,id:t})},getObjectById:function(t){if(K.w3)return s(t)},embedSWF:function(t,e,n,o,a,s,l,c,d,f){var p=A(e),E={success:!1,id:p};K.w3&&!(K.wk&&K.wk<312)&&t&&e&&n&&o&&a?(I(p,!1),i(function(){n+="",o+="";var i={};if(d&&(void 0===d?"undefined":r(d))===N)for(var A in d)i[A]=d[A];i.data=t,i.width=n,i.height=o;var v={};if(c&&(void 0===c?"undefined":r(c))===N)for(var S in c)v[S]=c[S];if(l&&(void 0===l?"undefined":r(l))===N)for(var R in l)if(l.hasOwnProperty(R)){var y=X?encodeURIComponent(R):R,T=X?encodeURIComponent(l[R]):l[R];r(v.flashvars)!==C?v.flashvars+="&"+y+"="+T:v.flashvars=y+"="+T}if(O(a)){var g=h(i,v,e);i.id==p&&I(p,!0),E.success=!0,E.ref=g,E.id=g.id}else{if(s&&_())return i.data=s,void u(i,v,e,f);I(p,!0)}f&&f(E)})):f&&f(E)},switchOffAutoHideShow:function(){G=!1},enableUriEncoding:function(t){X=(void 0===t?"undefined":r(t))===C||t},ua:K,getFlashPlayerVersion:function(){return{major:K.pv[0],minor:K.pv[1],release:K.pv[2]}},hasFlashPlayerVersion:O,createSWF:function(t,e,n){return K.w3?h(t,e,n):void 0},showExpressInstall:function(t,e,n,r){K.w3&&_()&&u(t,e,n,r)},removeSWF:function(t){K.w3&&p(t)},createCSS:function(t,e,n,r){K.w3&&T(t,e,n,r)},addDomLoadEvent:i,addLoadEvent:function(n){if(r(e.addEventListener)!==C)e.addEventListener("load",n,!1);else if(r(t.addEventListener)!==C)t.addEventListener("load",n,!1);else if(r(e.attachEvent)!==C)y(e,"onload",n);else if("function"==typeof e.onload){var i=e.onload;e.onload=function(){i(),n()}}else e.onload=n},getQueryParamValue:function(e){var n=t.location.search||t.location.hash;if(n){if(/\?/.test(n)&&(n=n.split("?")[1]),!e)return g(n);for(var r=n.split("&"),i=0;i<r.length;i++)if(r[i].substring(0,r[i].indexOf("="))==e)return g(r[i].substring(r[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(W){var t=v(M);t&&m&&(t.parentNode.replaceChild(m,t),b&&(I(b,!0),K.ie&&(m.style.display="block")),P&&P(D)),W=!1}},version:"2.3"}}},{}],183:[function(t,e,n){"use strict";n.__IASVANS=function(t){var e={now:function(){return(new Date).getTime()},sendMonitoringPixel:function(t){try{this.sendUrlRequest(["//pixel.adsafeprotected.com/mon?anId=10173&campId=",encodeURIComponent(a.getPartnerId()),"&pubId=",encodeURIComponent("vans-js_"+t)].join(""))}catch(t){n.report("smp",t)}},sendMonitoringDebugPixel:function(){var t=["adstop"],r={};return function(i,o){var s=a.hasDebugEnabled(),_=-1<t.indexOf(i)&&r[i];if(s&&!_)try{var u,l=a.getAltMonDomain(),c=e.addProtocolToDomain("spixel.adsafeprotected.com")+"/mon?anId=10173&campId="+encodeURIComponent(a.getPartnerId())+"&pubId=",d=e.addProtocolToDomain(l)+"/mon?anId=925116&campId="+encodeURIComponent(a.getPartnerId())+"&pubId=",h=encodeURIComponent(i);u=o.replace(/=undefined&/g,"=&"),this.sendUrlRequest([c,h,u].join("")),this.sendUrlRequest([d,h,u].join("")),r[i]=!0}catch(t){n.report("smp",t)}}}(),sendUrlRequest:function(t,e){var n,r;if(t){n=this.getWindow();try{r=new n.XMLHttpRequest,e&&(r.onreadystatechange=e),r.open("GET",t),r.send()}catch(t){}}},stringify:function(t){if("AdImpression"!==t.messageType)return JSON.stringify(t);var e={};e.passthroughObj=a.getPassThroughObj();var r="";try{r=JSON.stringify(t)}catch(t){return void n.report("ser",t,e)}return r},addProtocolToDomain:function(t){return t.match(/^[a-zA-Z]+:\/\//)?t:"https://"+t},getWindow:function(){return s.getWin()},getDocument:function(){return s.getDoc()},generateUID:function(){var t,e="";try{for(t=0;8>t;t++)e=[e,Math.floor(65536*(1+Math.random())).toString(16).substring(1)].join("")}catch(t){}return e},noop:function(){}},n=function(){var t={};return{report:function(n,r,i){if(!t[n])try{t[n]=!0;var o="//pixel.adsafeprotected.com/jsdiagnostic?code:vans-js_"+encodeURIComponent(a.getPartnerId())+"_"+n+"&err:"+encodeURIComponent(r.message);i&&(o+="&config:"+encodeURIComponent(JSON.stringify(i))),e.sendUrlRequest(o)}catch(t){}}}}(),r=function(){var t,r=!1,i=function(t,n){return t==a()&&(r=!0,o.setImpressionCallback(n),e.sendMonitoringDebugPixel("hs",o.monitoringQS()),o.flushUnsentEvents()),r?"jv3":null},a=function(){return t||(t=e.generateUID()),t};return{getVideoId:a,setNodeInterface:function(t){var r,o,s,_=a();try{r="IASid"+_,o="blockAd"+_,s="getIasVidBridgeVersion"+_,t.className+=" integral-vid-"+_,t[o]=e.noop,t[r]=i,t[s]=function(){return"2"},t.getVersion=function(){return"3.5.0"}}catch(t){n.report("sni",t)}},isEstablished:function(){return r},resetHandshake:function(){r=!1}}}(),i=function(){var t,i=function(){var t=function(t){return void 0!==t},e=function(){var e="u";try{t(window.opera)&&t(window.opera.buildNumber)?e="o":t(window.mozInnerScreenY)?e="g":t(window.chrome)&&t(window.chrome.csi)?e="c":t(window.msWriteProfilerMark)&&t(window.crypto)?e="e":t(window.attachEvent)||t(window.msCrypto)?e="i":t(window.WebKitPoint)&&(e="w")}catch(t){}return e}(),n=function(){var e=function(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];""!==r&&"null"!==r&&"undefined"!==r&&null!==r&&t(r)||delete e[n]}return e},n=function(e){var n,r,i={};for(r in e)e.hasOwnProperty(r)&&(n=e[r],t(i[n])?i[n]+=r:i[n]=r);e={};for(r in i)i.hasOwnProperty(r)&&(n=i[r],e[n]=r);return e};return function(){var r=function(){var e={g:"",q:""};try{e.q=window.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(o){var n,r=(r=o.message).substring(r.lastIndexOf("<")+1,r.lastIndexOf(">"));if((n=t(r))&&(n=!1,t(window.navigator)&&t(window.navigator.userAgent))){var i=window.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);null!==i&&2==i.length&&(i=i[1].split("."),3==parseInt(i[0],10)&&6>=parseInt(i[1],10)&&(3==i.length?13>=parseInt(i[2],10)&&(n=!0):n=!0))}n&&(e.g=r)}return e},i={};try{i.a=encodeURIComponent(top.location.href)}catch(t){}try{i.b=encodeURIComponent(parent.location.href)}catch(t){}if(window!=top){try{i.c=encodeURIComponent(parent.document.referrer)}catch(t){}try{i.e=encodeURIComponent(window.document.referrer)}catch(t){}}try{i.d=encodeURIComponent(window.location.href)}catch(t){}try{var o=r();i.g=encodeURIComponent(o.g),i.q=encodeURIComponent(o.q)}catch(t){}var a,i=e(i),i=n(i),r=[];for(a in i)i.hasOwnProperty(a)&&r.push({key:a,val:i[a]});return r.sort(function(t,e){return t.val.length>e.val.length?1:t.val.length<e.val.length?-1:0}),r}()}();return{br:e,urls:n}},o=function(t,e,i){var o=["//pixel.adsafeprotected.com/db2/video/",e,"/",i,"/skeleton.js?videoId=",r.getVideoId()].join("");e=function(t){o=[o,"&adsafe_url=",t.val,"&adsafe_type=",t.key].join("")};try{t.urls.forEach(e),o=[o,"&adsafe_jsinfo=br:",t.br].join("")}catch(t){n.report("bvu",t)}return o},a=function(){if(4==this.readyState)if(200==this.status)try{t("failed"===JSON.parse(this.responseText).action?"block":"safe")}catch(t){n.report("ba",t)}else n.report("blk_url_req_err",{message:this.status})};return{init:function(n,r,s){var _=i();n=o(_,n,r),t=s,e.sendUrlRequest(n,a)}}}(),o=function(){var i,s=[],_=!1,u=function(t){var e="";return Object.keys(t).forEach(function(n){-1===["advEntityId","pubEntityId","partner","debug"].indexOf(n)&&(e+="&"+n+"="+t[n])}),e},l=function(a){if(r.isEstablished()){var _;try{(_=e.stringify(a))&&("AdImpression"===a.messageType?e.getWindow()[i](_):e.getWindow().postMessage(_,"*"))}catch(t){n.report("dm",t)}}else if(o.nodeProvided)try{s.push(a)}catch(t){n.report("cm",t)}else{_=t||"pixel.adsafeprotected.com";var l=o.config;try{e.stringify(a),"AdImpression"===a.messageType&&(o.isCmTag?e.sendUrlRequest(["//"+_,"/mon?",u(l)].join("")):o.isFwTag&&e.sendUrlRequest(["//"+_,"/rfw/st/",l.advEntityId+"/"+l.pubEntityId,"/skeleton.js"].join("")))}catch(t){n.report("dm",t)}}};return{sendEvent:function(t,i){if("AdImpression"===t){if(_)return;i&&(i.ext_passthrough=o.passThroughObj),_=!0,e.sendMonitoringDebugPixel("ai",o.monitoringQS())}else"AdStopped"===t||"AdVideoComplete"===t?e.sendMonitoringDebugPixel("adstop",o.monitoringQS()):"AdError"===t&&e.sendMonitoringDebugPixel("aderr",o.monitoringQS());try{l({messageType:t,id:r.getVideoId(),time:e.now(),partner:a.getPartnerId(),eventData:i})}catch(t){n.report("se",t)}},setImpressionCallback:function(t){i=t},flushUnsentEvents:function(){try{s.forEach(l)}catch(t){n.report("fue",t)}},passThroughObj:{},monitoringQS:function(){},clearSessionState:function(){_=!1,s.length=0}}}(),a=function(){var a,_,u,l={},c={},d="impId creativeId campId placementId advEntityId pubEntityId chanId".split(" "),h=function(e,i){var o,a=t||"pixel.adsafeprotected.com";try{o=["//",a,e,"?videoId=",r.getVideoId(),function(t){var e="";return Object.keys(t).forEach(function(n){"advEntityId"!=n&&"pubEntityId"!=n&&"partner"!=n&&(e+="&"+n+"="+t[n])}),e}(i)].join("")}catch(t){n.report("bsurl",t)}return o},f=function(t,n){var r,i=!1,o=function(){!i&&t.parentNode&&(t.parentNode.appendChild(n),clearInterval(r),i=!0,e.sendMonitoringDebugPixel("fwjsinj",v()))};o(),i||(r=setInterval(o,200))},p=function(t,n,r){var i,o=e.getDocument();try{(i=o.createElement("script")).src=h(t,n),i.addEventListener("load",function(t){e.sendMonitoringDebugPixel("fwjsload",v())}),i.addEventListener("error",function(t){e.sendMonitoringDebugPixel("fwjsload_err",v())}),f(r,i)}catch(t){e.sendMonitoringPixel("inj_err")}},E=function(t,e,n){r.setNodeInterface(n);var i={};Object.getOwnPropertyNames(e).forEach(function(t){"debug"!==t&&(i[t]=e[t])}),p(t,i,n)},A=function(t){d.forEach(function(e){l[e]=t[e]}),u&&(l.monDomain=t.debug.monDomain)},v=function(){return"&chanId="+l.chanId+"&planId="+l.advEntityId+"&placementId="+l.pubEntityId+"&advId="+l.campId+"&pubOrder="+l.placementId+"&pubCreative="+l.creativeId+"&impId="+l.impId+"&ts="+Date.now()+"&custom=3.5.0&custom2=jv3&custom3="+_+"&adsafe_par"},S=function(t){var n=t&&t.ownerDocument,r=t&&t.parentNode,i=n&&(n.defaultView||n.parentWindow),o="adnode_type_"+(t?t.constructor.name||t.nodeName:"null");t||e.sendMonitoringDebugPixel("adnode_null",v()),t&&!r&&e.sendMonitoringDebugPixel("adnode_detached",v()),t&&!n&&e.sendMonitoringDebugPixel("adnode_nodoc",v()),n&&!i&&e.sendMonitoringDebugPixel("adnode_nowin",v()),e.sendMonitoringDebugPixel(o,v())},R=function(){c.vv="3.5.0",c.vanstag=_,c.xcamp=l.campId,c.xplac=l.placementId,c.xcreat=l.creativeId,c.ximp=l.impId},y=function(t){t.monitoringQS=v,t.passThroughObj=c,Object.keys(t).forEach(function(e){o[e]=t[e]})},O=function(t){var e=(t=t&&t.ownerDocument)&&t.parentWindow;return!!(t&&t.defaultView||e)};return{initCM:function(t,r){var i=O(r);if(!t||!t.partner)throw Error("Missing partnerId");s.setWin(r),a=t.partner,u=t.debug&&t.debug.enabled,_="cm";try{if(!t.anId)throw Error("Missing anId");A(t),R(),y({isFwTag:!1,isCmTag:!0,nodeProvided:i,config:t}),e.sendMonitoringDebugPixel("init",v()),S(r),i&&E("/jsvid",t,r)}catch(t){n.report("icm",t)}},initFW:function(t,r,o){var l,c=O(r);if(!t||!t.partner)throw Error("Missing partnerId");s.setWin(r),a=t.partner,u=t.debug&&t.debug.enabled,_="fw";try{if(!t.advEntityId||!t.pubEntityId)throw Error("Missing client id: advEntityId: "+t.advEntityId+" ,pubEntityId: "+t.pubEntityId);A(t),R(),y({isFwTag:!0,isCmTag:!1,nodeProvided:c,config:t}),e.sendMonitoringDebugPixel("init",v()),S(r),o&&i.init(t.advEntityId,t.pubEntityId,o),c&&(l="/fwjsvid/st/"+t.advEntityId+"/"+t.pubEntityId+"/skeleton.js",E(l,t,r))}catch(t){n.report("ifw",t)}},getPartnerId:function(){return a},getPassThroughObj:function(){return c},getAltMonDomain:function(){return l.monDomain},hasDebugEnabled:function(){return u}}}(),s=function(){var t=window;return{getWin:function(){return t},setWin:function(e){(e=e&&e.ownerDocument)&&e.defaultView?t=e.defaultView:e&&e.parentWindow?t=e.parentWindow:n.report("sc",{message:""})},getDoc:function(){return t.document}}}();return{initFW:a.initFW,initCM:a.initCM,sendEvent:o.sendEvent}}},{}],184:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=i(t("./ad_vast")),c=i(t("./utils")),d=r(t("./ad_state")),h=r(t("./vidio_demand_tag_sender")),f=i(t("./constants")),p=r(t("../../../timeouts.json")),E=function(t){function e(t,n,r,i){o(this,e);var s=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"AdContainer",t,i));return s._cabinet=t,s.idx_=n,s.historyManager_=t.historyManager,s.timeoutManager_=t.timeoutManager,s.endpoint_=t.endpoint,s.demandTag_=r,s.videoElementManager_=t.videoElementManager,s.manifest_=t.manifest,s.isDomainMatch_=t.isDomainMatch,s.locationInfo_=t.locationInfo,s.uuid_=t.uuid,s.vidIoDemandTagSender_=new h.default(s.callSSEvent_.bind(s),s.historyManager_,s.demandTag_),s.adSlotState_=f.SLOT_STATES.DEMAND_TAG_READY,s.vast_=null,s}return s(e,d.default),_(e,[{key:"internalError",value:function(t,e){this.vidIoDemandTagSender_.internalError(t,e),this.failureCb()}},{key:"getAdSlotState",value:function(){return this.adSlotState_}},{key:"stopAd",value:function(){this.failureCb(),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stopAd",this).call(this)}},{key:"skipAd",value:function(){this.failureCb(),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"skipAd",this).call(this)}},{key:"sendDemandTag",value:function(t,e,n){if(t!==f.VID_IO_EVENTS.js_demand_response)throw new Error(f.VD_ERROR_CODES.NOT_JS_DEMAND_RESPONSE);this.vidIoDemandTagSender_.fireFlashDemandResponse(n,e)}},{key:"requestVast",value:function(t){if(!this.isAdDead_){this.adSlotState_=f.SLOT_STATES.REQUESTING_VAST;var e=void 0;try{e=this.demandTag_.td&&!this.isDomainMatch_}catch(t){return void this.internalError(f.VD_ERROR_CODES.PRE_INIT_TD_MISMATCH_FAIL,!1)}var n=void 0;try{n=this.demandTag_.ts&&!c.sizeMatch(this.manifest_,t)}catch(t){return void this.internalError(f.VD_ERROR_CODES.PRE_INIT_TS_MISMATCH_FAIL,!1)}try{if(e||n)return this.vidIoDemandTagSender_.missedOpportunity(e,n),void this.failureCb()}catch(t){return void this.internalError(f.VD_ERROR_CODES.PRE_INIT_MISSED_OPPORTUNITY_FAIL,!1)}try{this.vidIoDemandTagSender_.demandRequest({request_time:this.timeoutManager_.getRequestTime(this.demandTag_.waterfallIdx)})}catch(t){return void this.internalError(f.VD_ERROR_CODES.DO_GET_VAST_RESPONSE_START_RESPONSE_FAIL,!1)}l.getVastResponse(this.sendDemandTag.bind(this),this.historyManager_,this.timeoutManager_,this.endpoint_,this.demandTag_,this.successCb.bind(this),this.failureCb.bind(this),p.default.VAST_TIMEOUT,p.default.VASTS_TIMEOUT,p.default.MAX_WRAPPERS,this.initParams_.environmentVars,this.callLogEvent_.bind(this),this.videoElementManager_,this.manifest_.ef,this.locationInfo_,t)}}},{key:"successCb",value:function(t){this.vast_=t,this.isAdDead_||(this.adSlotState_=f.SLOT_STATES.VAST_READY,this.callSSEvent_(f.SLOT_EVENTS.VastDone,this.idx_,t))}},{key:"failureCb",value:function(){this.isAdDead_||(this.adSlotState_=f.SLOT_STATES.NO_VAST,this.callSSEvent_(f.SLOT_EVENTS.VastDone,this.idx_,null))}},{key:"vpaidStart",value:function(){this.adSlotState_=f.SLOT_STATES.REQUESTING_VPAID}},{key:"vpaidFailed",value:function(){this.adSlotState_=f.SLOT_STATES.VPAID_FAILED}}]),e}();n.default=E},{"../../../timeouts.json":219,"./ad_state":196,"./ad_vast":198,"./constants":208,"./utils":214,"./vidio_demand_tag_sender":216}],185:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _(t,e,n,r,i){var o={};if(null!==e.urlparams)for(var a in e.urlparams)e.urlparams.hasOwnProperty(a)&&(o[a]=e.urlparams[a]);return o[O.JSON_PIXEL_PARAMS.declaredDomain]=e.domain,o[O.JSON_PIXEL_PARAMS.declaredWidth]=e.width,o[O.JSON_PIXEL_PARAMS.declaredHeight]=e.height,o[O.JSON_PIXEL_PARAMS.detectedDomain]=n.domain_match,o[O.JSON_PIXEL_PARAMS.detectedWidth]=r.detectedWidth,o[O.JSON_PIXEL_PARAMS.detectedHeight]=r.detectedHeight,o[O.JSON_PIXEL_PARAMS.fullUrl]=n.url,o[O.JSON_PIXEL_PARAMS.cb]=m.getCb(),o[O.JSON_PIXEL_PARAMS.url]=e.td?n.domain_match:e.domain,o[O.JSON_PIXEL_PARAMS.w]=e.ts?r.detectedWidth:e.width,o[O.JSON_PIXEL_PARAMS.h]=e.ts?r.detectedHeight:e.height,m.makeUrl(m.getProtocol(i),t+"/json/"+e.supplyTagId,o)}Object.defineProperty(n,"__esModule",{value:!0}),n.AdController=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)};n.getJsonUrl=_;var c=i(t("lodash/defaults")),d=i(t("lodash/now")),h=i(t("lodash/isElement")),f=r(t("./ad_location")),p=r(t("./ad_manifest")),E=r(t("./ad_pixel")),A=i(t("./ad_processor")),v=i(t("./ad_timeout_manager")),S=i(t("./ad_js_bridge_manager")),R=i(t("./ad_vd")),y=i(t("./ad_video_element_manager")),O=r(t("./constants")),T=i(t("./fsm")),I=r(t("./moat_wrapper")),g=r(t("./ssc_detection")),m=r(t("./utils")),b=i(t("../../../moat.json")),P=r(t("./__IASVANS_3.5.0")),D=r(t("../../../ias.json")),V=i(t("../../../timeouts.json")),L=r(t("./post_imp_detection")),C=r(t("./viewability_detection")),N=i(t("./cabinet"));n.AdController=function(t){function e(t,n,r,i,s,_){o(this,e);var u=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"AdController"));return u._cabinet=new N.default(t,n,r,i,s,_,V.default),u.MoatApiReference_=null,u.IasApiReference_=null,u.fsmVpaidEvent_=new T.default(O.VPAID_FINAL_EVENTS,O.VPAID_ONCE_EVENTS),u.fsmPixelEvent_=new T.default(O.PIXEL_MUTEX_EVENTS,O.PIXEL_ONCE_EVENTS),u}return s(e,R.default),u(e,[{key:"callEvent_",value:function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(this.fsmVpaidEvent_.sendEventType(t)){if(O.VOLUME_EVENTS.hasOwnProperty(t)&&this.setAdVolumeInternal(this.getAdVolumeInternal()),null!==this.ad_&&this.ad_.currentWaterfallIndex_>=0&&this.ad_.currentWaterfallIndex_<this._cabinet.manifest.dx.length&&m.firePixels(document,p.getPixelUrlsByEvent(this._cabinet.manifest.dx[this.ad_.currentWaterfallIndex_][0],t)),null!==this.MoatApiReference_){var o={type:t,adVolume:this.getAdVolumeInternal()};this.MoatApiReference_.dispatchEvent(o)}if(O.IAS_EVENTS.hasOwnProperty(t)&&null!==this.IasApiReference_){var a={ad_duration:this.ad_.getAdDuration(),ad_dimensions:this.initParams_.width+"x"+this.initParams_.height,player_dimensions:this.initParams_.environmentVars.videoSlot.width+"x"+this.initParams_.environmentVars.videoSlot.height,volume:this.getAdVolumeInternal()};this.IasApiReference_.sendEvent(t,a)}t===O.VPAID_EVENTS.AdLoaded&&null!==this.ad_&&this.ad_.setAdVolume(this.getAdVolumeInternal());var s=function(){e.callSuperEvent.apply(e,[t].concat(r))};O.VPAID_FINAL_EVENTS.hasOwnProperty(t)?setTimeout(s,V.default.SUPPLY_ERROR_PIXEL_TIMEOUT):s()}}},{key:"callSuperEvent",value:function(t){for(var n,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(n=l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"callEvent_",this)).call.apply(n,[this,t].concat(i))}},{key:"initAd",value:function(t,n,r,i,o,a){var s=this;try{l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initAd",this).call(this,t,n,r,i,o,a)}catch(t){return void this.initAdError(O.VD_ERROR_CODES.INIT_AD_ERROR,t)}try{this._cabinet.manifest=p.parse(JSON.parse(this.creativeData_.AdParameters))}catch(t){return void this.initAdError(O.VD_ERROR_CODES.MANIFEST_PARSE_ERROR,t)}try{this._cabinet.jsBridgeManager=new S.default(this._cabinet.uuid,this._cabinet.flashBridgeUrl)}catch(t){return void this.initAdError(O.VD_ERROR_CODES.JS_BRIDGE_MANAGER_CREATE_ERROR,t)}try{this._cabinet.locationInfo=f.getLocation()}catch(t){return void this.initAdError(O.VD_ERROR_CODES.LOCATION_DATA_PARSE_ERROR,t)}var _=void 0;try{_=this._cabinet.getStateInfo(this.initParams_)}catch(t){return void this.initAdError(O.VD_ERROR_CODES.INIT_AD_STATE_INFO_ERROR,t)}var u=void 0;try{u=this._cabinet.isDomainMatch}catch(t){return void this.initAdError(O.VD_ERROR_CODES.INIT_AD_TD_MISMATCH_ERROR,t)}var c=void 0;try{c=this._cabinet.isSizeMatch(_)}catch(t){return void this.initAdError(O.VD_ERROR_CODES.INIT_AD_TS_MISMATCH_ERROR,t)}try{if(this._cabinet.manifest.td&&!u||this._cabinet.manifest.ts&&!c)return void this.getNewAdParameters(t,n,r,i,o,a,_)}catch(t){return void this.initAdError(O.VD_ERROR_CODES.INIT_AD_GET_NEW_AD_PARAMETERS_ERROR,t)}var d=!1,E=function(){if(!d){d=!0;try{var e=s.postInit(t,n,r,i,o,a);null!==e&&s.initAdError(e.reason,e.error)}catch(t){s.initAdError(O.VD_ERROR_CODES.INIT_AD_POST_INIT_ERROR,t)}}};try{var A=(0,h.default)(this.initParams_.environmentVars.videoSlot)?this.initParams_.environmentVars.videoSlot:this.initParams_.environmentVars.slot;C.init(A,document,E)}catch(t){}setTimeout(E,50)}},{key:"postInit",value:function(t,e,n,r,i,o){try{if(0===this._cabinet.manifest.numWaterfalls)return{reason:O.VD_ERROR_CODES.NO_RESPONSES,error:null}}catch(t){return{reason:O.VD_ERROR_CODES.POST_INIT_WATERFALL_CHECK_ERROR,error:t}}try{this._cabinet.timeoutManager=new v.default(d.default),this._cabinet.timeoutManager.setManifest(this._cabinet.manifest)}catch(t){return{reason:O.VD_ERROR_CODES.TIMEOUT_MANAGER_INIT_ERROR,error:t}}try{this._cabinet.videoElementManager=new y.default(this._cabinet.uuid)}catch(t){return{reason:O.VD_ERROR_CODES.VIDEO_ELEMENT_MANAGER_INIT_ERROR,error:t}}try{this.ad_=new A.default(this._cabinet,this.initParams_),this.ad_.handshakeVersion(this.handshakeVersion_),this.registerVpaidEventListeners_(this.ad_),this.registerLogEventListeners_(this.ad_),this.registerSSEventListeners_(this.ad_),this.callSSEvent_(O.VID_IO_EVENTS.js_opportunity,null,{},null),m.firePixels(document,p.getPixelUrlsByEvent(this._cabinet.manifest,O.PIXEL_EVENTS.initAd)),this.ad_.initAd(t,e,n,r,i,o),this.ad_.nextBroadcast()}catch(t){return{reason:O.VD_ERROR_CODES.PROCESSOR_INIT_ERROR,error:t}}return null}},{key:"resizeAd",value:function(t,n,r){if(l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"resizeAd",this).call(this,t,n,r),this.ad_&&null!==this.IasApiReference_){var i={ad_duration:this.ad_.getAdDuration(),ad_dimensions:this.initParams_.width+"x"+this.initParams_.height,player_dimensions:this.initParams_.environmentVars.videoSlot.width+"x"+this.initParams_.environmentVars.videoSlot.height,volume:this.getAdVolumeInternal(),height:n,width:t,viewMode:r};this.IasApiReference_.sendEvent("resizeAd",i)}}},{key:"startAd",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"startAd",this).call(this),this.ad_&&this.ad_.setAdVolume(this.getAdVolumeInternal())}},{key:"initAdError",value:function(t,e){var n=t+(e?"_"+e.message:""),r={reason:n,timeout:!1};null!==this._cabinet.timeoutManager&&t!==O.VD_ERROR_CODES.TIMEOUT_MANAGER_INIT_ERROR&&(r.on_page_time=this._cabinet.timeoutManager.timeOnPage),this.callSSEvent_(O.VID_IO_EVENTS.js_supply_error,null,r,null),this.callEvent_(O.VPAID_EVENTS.AdError,n)}},{key:"on_js_impression",value:function(t,n,r){if(g.load(document,this._cabinet.manifest,t,this.initParams_.width,this.initParams_.height,this._cabinet.locationInfo.domain_match,this._cabinet.manifest.secure).length,null===this.MoatApiReference_&&L.shouldFire(this._cabinet.manifest,t,O.POST_IMP_PROVIDER_ID_MOAT)&&(this.MoatApiReference_=I.initMoatTracking(this.initParams_.environmentVars.slot,{level1:this._cabinet.manifest.aid,level2:this._cabinet.manifest.supplyTagId,level3:this._cabinet.manifest.domain,level4:O.MOAT_DUMMY_VALUE,slicer1:O.MOAT_DUMMY_VALUE,slicer2:t.a_cc},this.getAdDuration(),b.default.moatPartnerCode,this.initParams_.environmentVars.videoSlot.src)),null===this.IasApiReference_&&L.shouldFire(this._cabinet.manifest,t,O.POST_IMP_PROVIDER_ID_IAS)){var i=this._cabinet.getStateInfo(this.initParams_),o={partner:D.partner,anId:D.adNetworkId,placementId:this._cabinet.manifest.supplyTagId,impId:this._cabinet.uuid},a=[];a.push(O.IAS_EXTRA_PARAMS.declaredDomain+"="+this._cabinet.manifest.domain),a.push(O.IAS_EXTRA_PARAMS.declaredWidth+"="+this._cabinet.manifest.width),a.push(O.IAS_EXTRA_PARAMS.declaredHeight+"="+this._cabinet.manifest.height),a.push(O.IAS_EXTRA_PARAMS.detectedDomain+"="+this._cabinet.locationInfo.domain_match),a.push(O.IAS_EXTRA_PARAMS.detectedWidth+"="+i.detectedWidth),a.push(O.IAS_EXTRA_PARAMS.detectedHeight+"="+i.detectedHeight),a.push(O.IAS_EXTRA_PARAMS.aId+"="+this._cabinet.manifest.aid),a.push(O.IAS_EXTRA_PARAMS.aCc+"="+t.a_cc),a.push(O.IAS_EXTRA_PARAMS.ssId+"="+this._cabinet.manifest.ssid),a.push(O.IAS_EXTRA_PARAMS.country+"="+this._cabinet.manifest.country),o.planId=a.join("|"),this.IasApiReference_=new P.__IASVANS,this.IasApiReference_.initCM(o,this.initParams_.environmentVars.slot)}l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"on_js_impression",this).call(this,t,n,r)}},{key:"callSSEvent_",value:function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(O.VID_IO_EVENTS.hasOwnProperty(t)){var o=m.getArgs(arguments),a=o[1],s=o[2],_=o[3];if(this.fsmPixelEvent_.sendEventType(t)){var u;(u=l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"callSSEvent_",this)).call.apply(u,[this,t].concat(r));var c=this._cabinet.getStateInfo(this.initParams_);m.addImage(document,m.makeUrl(m.getProtocol(this._cabinet.forceSecure||this._cabinet.manifest.secure),this._cabinet.pixelUrl,E.getPixelParams(this._cabinet.uuid,this._cabinet.version,this.instanceId_,this._cabinet.locationInfo,c,this._cabinet.manifest,this.initParams_.width,this.initParams_.height,t,a,s,_)))}}}},{key:"getNewAdParameters",value:function(t,e,n,r,i,o,a){var s=this,u=m.getRequestMethod(_(this._cabinet.endpoint,this._cabinet.manifest,this._cabinet.locationInfo,a,this._cabinet.forceSecure||this._cabinet.manifest.secure),!1);if(u){var l=u.xhr;l.timeout=V.default.JSON_TIMEOUT,l.ontimeout=function(){s.initAdError(O.VD_ERROR_CODES.JSON_TIMEOUT,null)},l.onload=function(){try{if(200!==l.status)return void s.initAdError(O.VD_ERROR_CODES.BAD_XHR_STATUS+"_"+l.status,null);var _=void 0;try{var u=JSON.parse(l.responseText),d={dx:u.dx};u.hasOwnProperty("dto")&&(d.dto=u.dto);var h={};s._cabinet.manifest.td&&(h.domain=s._cabinet.locationInfo.domain_match),s._cabinet.manifest.ts&&(h.width=a.detectedWidth,h.height=a.detectedHeight),_=(0,c.default)(d,h,JSON.parse(s.creativeData_.AdParameters)),s.creativeData_.AdParameters=JSON.stringify(_),i.AdParameters=s.creativeData_.AdParameters}catch(t){return void s.initAdError(O.VD_ERROR_CODES.JSON_RESPONSE_PARSE_ERROR,t)}try{s._cabinet.manifest=p.parse(_)}catch(t){return void s.initAdError(O.VD_ERROR_CODES.JSON_MANIFEST_PARSE_ERROR,t)}var f=s.postInit(t,e,n,r,i,o);null!==f&&s.initAdError(f.reason,f.error)}catch(t){s.initAdError(O.VD_ERROR_CODES.JSON_PARSE_UNKNOWN_ERROR,t)}},l.onerror=function(){s.initAdError(O.VD_ERROR_CODES.XHR_ERROR,null)},l.send()}else this.initAdError(O.VD_ERROR_CODES.NO_XHR,null)}}]),e}()},{"../../../ias.json":2,"../../../moat.json":3,"../../../timeouts.json":219,"./__IASVANS_3.5.0":183,"./ad_js_bridge_manager":190,"./ad_location":191,"./ad_manifest":193,"./ad_pixel":194,"./ad_processor":195,"./ad_timeout_manager":197,"./ad_vd":200,"./ad_video_element_manager":201,"./cabinet":205,"./constants":208,"./fsm":209,"./moat_wrapper":210,"./post_imp_detection":211,"./ssc_detection":212,"./utils":214,"./viewability_detection":217,"lodash/defaults":135,"lodash/isElement":151,"lodash/now":169}],186:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=i(t("lodash/map")),c=i(t("lodash/forEach")),d=i(t("lodash/extend")),h=i(t("./ad_state")),f=i(t("./ad_vpaid_video_wrapper")),p=r(t("./ad_iframe")),E=r(t("./ad_pixel")),A=r(t("./constants")),v=r(t("./utils")),S=i(t("../../../timeouts.json")),R=function(t){function e(t,n,r,i){o(this,e);var s=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"DemandRequest",t,n));return s.demandTag_=r,s.vast_=i,s.creativeType_=null,s.slotListeners_={},s}return s(e,h.default),_(e,[{key:"fireVastPixels",value:function(t,e){try{this.callLogEvent_(A.LOG_EVENTS.VAST_FIRE_PIXEL,t)}catch(t){}try{v.firePixels(document,(0,l.default)(e,function(t){return t.replace(A.VAST_MACROS.CACHEBUSTING,v.getCb())}))}catch(e){try{this.callLogEvent_(A.LOG_EVENTS.VAST_FIRE_PIXEL_ERROR,t)}catch(t){}}}},{key:"fireErrorPixels",value:function(){this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_ERROR,(0,l.default)(this.vast_.errorPixels,function(t){return t.replace(A.VAST_MACROS.ERRORCODE,A.VAST_ERRORCODES.VAST_ERRORCODE_901)}))}},{key:"demandError",value:function(t,e){this.fireErrorPixels(),this.vidIODemandError(t,e)}},{key:"getOptions",value:function(t){return null!==this.vast_.ortb_detail?(0,d.default)(t,this.vast_.ortb_detail):t}},{key:"vidIODemandError",value:function(t,e){this.callSSEvent_(A.VID_IO_EVENTS.js_demand_error,this.demandTag_,this.getOptions({cc_i:this.demandTag_.callChain.getCallChainIndices(this._cabinet.historyManager.demand_events.error,!0).join(","),response_time:this._cabinet.timeoutManager.getResponseTime(this.demandTag_.waterfallIdx),reason:t,timeout:e,creative_type:this.creativeType_}),null)}},{key:"getCreativeData",value:function(){return{AdParameters:this.vast_.adParameters}}},{key:"bridgeLoadBegin",value:function(){var t=this._cabinet.timeoutManager.getTimeoutInfo(this.demandTag_.waterfallIdx,null);if(t.timeout<=0){try{this.stopAd()}catch(t){}this.demandError(t.reason,!0)}else{try{this._cabinet.jsBridgeManager.adJsBridge_.load(this.vast_)}catch(t){this.demandError(A.VD_ERROR_CODES.JS_VPAID_BRIDGE_LOAD_ERROR,!1)}try{this.begin(this.getCreativeData(),this._cabinet.jsBridgeManager.adJsBridge_,this.initParams_.environmentVars)}catch(t){try{this.stopAd()}catch(t){}this.demandError(A.VD_ERROR_CODES.JS_VPAID_BRIDGE_BEGIN_ERROR,!1)}}}},{key:"load",value:function(){var t=this;try{if(this.vast_.hasPlayableMedia)this.creativeType_=A.CREATIVE_TYPES.MEDIA;else if(null!==this.vast_.jsVpaidUrl)this.creativeType_=A.CREATIVE_TYPES.JS_VPAID;else if(null!==this.vast_.flashVpaidUrl)this.creativeType_=A.CREATIVE_TYPES.FLASH_VPAID;else{if(!(this.vast_.xFlvMedia.length>0))return void this.demandError(A.VD_ERROR_CODES.VAST_LOGIC_ERROR,!1);this.creativeType_=A.CREATIVE_TYPES.XFLV}if(this.callSSEvent_(A.VID_IO_EVENTS.js_demand_opportunity,this.demandTag_,this.getOptions({cc_i:this.demandTag_.callChain.getCallChainIndices(this._cabinet.historyManager.demand_events.opportunity,!0).join(","),response_time:this._cabinet.timeoutManager.getResponseTime(this.demandTag_.waterfallIdx),creative_type:this.creativeType_}),null),this.creativeType_===A.CREATIVE_TYPES.MEDIA)try{var e=new f.default(this._cabinet.uuid,this.vast_,this._cabinet.videoElementManager);this.addSlotEventListener_(A.ELEMENT_EVENTS.click,function(t){e.adClicked()}),this.begin(this.getCreativeData(),e,this.initParams_.environmentVars)}catch(t){try{this.stopAd()}catch(t){}this.demandError(A.VD_ERROR_CODES.VAST_WRAPPER_BEGIN_ERROR,!1)}else if(this.creativeType_===A.CREATIVE_TYPES.JS_VPAID){var n=this._cabinet.timeoutManager.getTimeoutInfo(this.demandTag_.waterfallIdx,[{timeout:S.default.VPAID_SCRIPT_TIMEOUT,reason:A.VD_ERROR_CODES.VPAID_TIMEOUT}]);p.createIframe(this._cabinet.uuid,document,this._cabinet.manifest.enableFlashIframe?null:A.ALLOW_SCRIPTS,this.vast_.jsVpaidUrl,n.timeout,function(){t.demandError(n.reason,!0)},function(e){if(t.isAdDead_)return!1;var n=void 0;try{n=e.contentWindow.getVPAIDAd}catch(e){return t.demandError(A.VD_ERROR_CODES.GET_JS_VPAID_AD_ERROR,!1),!1}var r=n&&"function"==typeof n;if(r)try{t.begin(t.getCreativeData(),n(),t.initParams_.environmentVars)}catch(e){try{t.stopAd()}catch(t){}return t.demandError(A.VD_ERROR_CODES.JS_VPAID_BEGIN_ERROR,!1),!1}else t.demandError(A.VD_ERROR_CODES.SCRIPT_ON_ERROR,!1);return r},function(){t.demandError(A.VD_ERROR_CODES.IFRAME_ON_ERROR,!1)})}else if(this._cabinet.jsBridgeManager.isSWFReady_)this.bridgeLoadBegin();else if(this._cabinet.jsBridgeManager.embedResult_&&!this._cabinet.jsBridgeManager.embedResult_.success)this.demandError(A.VD_ERROR_CODES.JS_VPAID_EMBED_FAIL,!1);else{try{this._cabinet.jsBridgeManager.subscribeBridgeEvent(function(){},A.BRIDGE_EVENTS.EMBED_SUCCESS,this),this._cabinet.jsBridgeManager.subscribeBridgeEvent(function(){this.demandError(A.VD_ERROR_CODES.JS_VPAID_EMBED_FAIL,!1)},A.BRIDGE_EVENTS.EMBED_FAIL,this),this._cabinet.jsBridgeManager.subscribeBridgeEvent(function(){this.isAdDead_||this.bridgeLoadBegin()},A.BRIDGE_EVENTS.SWF_IS_READY,this)}catch(t){return void this.demandError(A.VD_ERROR_CODES.JS_VPAID_BRIDGE_SUBSCRIBE_FAIL,!1)}if(null===this._cabinet.jsBridgeManager.adJsBridge_)try{this._cabinet.jsBridgeManager.create(this._cabinet.manifest.secure,this.initParams_.width,this.initParams_.height,this.initParams_.environmentVars.slot)}catch(t){try{this.stopAd()}catch(t){}this.demandError(A.VD_ERROR_CODES.AD_BRIDGE_CREATE_ERROR,!1)}}}catch(t){this.demandError(A.VD_ERROR_CODES.DEMAND_TAG_ERROR,!1)}}},{key:"begin",value:function(t,e,n){var r=this,i=this._cabinet.timeoutManager.getTimeoutInfo(this.demandTag_.waterfallIdx,null);if(i.timeout<=0){try{this.stopAd()}catch(t){}this.demandError(i.reason,!0)}else{this.ad_=e,this.registerVpaidEventListeners_(this.ad_),this.demandTagTimeout_=setTimeout(function(){try{r.stopAd()}catch(t){}r.demandError(i.reason,!0)},i.timeout);try{this.ad_.handshakeVersion(this.handshakeVersion_)}catch(t){try{this.stopAd()}catch(t){}return void this.demandError(A.VD_ERROR_CODES.CHILD_HANDSHAKE_ERROR,!1)}try{this.ad_.initAd(this.initParams_.width,this.initParams_.height,this.initParams_.viewMode,this.initParams_.desiredBitrate,t,n)}catch(t){try{this.stopAd()}catch(t){}return void this.demandError(A.VD_ERROR_CODES.CHILD_INIT_AD_ERROR,!1)}try{this.ad_.setAdVolume(this.getAdVolume())}catch(t){}}}},{key:"addSlotEventListener_",value:function(t,e){this.slotListeners_.hasOwnProperty(t)||(this.slotListeners_[t]=[]),this.slotListeners_[t].push(e),this.initParams_.environmentVars.slot.addEventListener(t,e,!1)}},{key:"removeSlotEventListeners",value:function(){var t=this;(0,l.default)(this.slotListeners_,function(e,n){(0,c.default)(t.slotListeners_[n],function(e){t.initParams_.environmentVars.slot.removeEventListener(n,e)})}),this.slotListeners_={}}},{key:"stopAd",value:function(){this.removeSlotEventListeners(),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stopAd",this).call(this)}},{key:"maybeInitializeAdVolume",value:function(){if(!(this.isAdLoaded_||this.isAdImpression_||this.isAdStarted_||this.isAdVideoStart_))try{this.ad_.setAdVolume(this.getAdVolume())}catch(t){try{this.stopAd()}catch(t){this.demandError(A.VD_ERROR_CODES.CHILD_SET_VOLUME_ERROR,!1)}}}},{key:"onAdLoaded",value:function(){this.maybeInitializeAdVolume(),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdLoaded",this).call(this)}},{key:"onAdStarted",value:function(){this.maybeInitializeAdVolume(),this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_CREATIVEVIEW,this.vast_.trackingEvents.creativeView),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdStarted",this).call(this)}},{key:"onAdVideoStart",value:function(){this.maybeInitializeAdVolume(),this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_START,this.vast_.trackingEvents.start),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdVideoStart",this).call(this)}},{key:"onAdImpression",value:function(){this.maybeInitializeAdVolume(),this.callSSEvent_(A.VID_IO_EVENTS.js_impression,this.demandTag_,this.getOptions({time_on_page:this._cabinet.timeoutManager.timeOnPage,response_time:this._cabinet.timeoutManager.getResponseTime(this.demandTag_.waterfallIdx),creative_type:this.creativeType_,ctype:E.getCreativeTypeToDemandType(this.creativeType_)}),null),clearTimeout(this.demandTagTimeout_),this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_IMPRESSION,this.vast_.impressionPixels),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdImpression",this).call(this)}},{key:"onAdUserAcceptInvitation",value:function(){this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_ACCEPTINVITATION,this.vast_.trackingEvents.acceptInvitation),this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_ACCEPTINVITATIONLINEAR,this.vast_.trackingEvents.acceptInvitationLinear),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdUserAcceptInvitation",this).call(this)}},{key:"onAdUserMinimize",value:function(){this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_COLLAPSE,this.vast_.trackingEvents.collapse),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdUserMinimize",this).call(this)}},{key:"onAdUserClose",value:function(){this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_CLOSELINEAR,this.vast_.trackingEvents.closeLinear),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdUserClose",this).call(this)}},{key:"onAdClickThru",value:function(t,n,r){this.callSSEvent_(A.VID_IO_EVENTS.js_click,this.demandTag_,this.getOptions({creative_type:this.creativeType_}),null),this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_CLICKTRACKING,this.vast_.clickTracking),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdClickThru",this).call(this,t,n,r)}},{key:"onAdVideoFirstQuartile",value:function(){this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_FIRSTQUARTILE,this.vast_.trackingEvents.firstQuartile),this.callSSEvent_(A.VID_IO_EVENTS.js_first_quartile,this.demandTag_,this.vast_.ortb_detail||{},null),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdVideoFirstQuartile",this).call(this)}},{key:"onAdVideoMidpoint",value:function(){this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_MIDPOINT,this.vast_.trackingEvents.midpoint),this.callSSEvent_(A.VID_IO_EVENTS.js_midpoint,this.demandTag_,this.vast_.ortb_detail||{},null),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdVideoMidpoint",this).call(this)}},{key:"onAdVideoThirdQuartile",value:function(){this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_THIRDQUARTILE,this.vast_.trackingEvents.thirdQuartile),this.callSSEvent_(A.VID_IO_EVENTS.js_third_quartile,this.demandTag_,this.vast_.ortb_detail||{},null),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdVideoThirdQuartile",this).call(this)}},{key:"onAdVideoComplete",value:function(){this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_COMPLETE,this.vast_.trackingEvents.complete),this.callSSEvent_(A.VID_IO_EVENTS.js_complete,this.demandTag_,this.vast_.ortb_detail||{},null),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdVideoComplete",this).call(this)}},{key:"onAdPaused",value:function(){this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_PAUSE,this.vast_.trackingEvents.pause),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdPaused",this).call(this)}},{key:"onAdPlaying",value:function(){this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_RESUME,this.vast_.trackingEvents.resume),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdPlaying",this).call(this)}},{key:"onAdVolumeChange",value:function(){0===this.volume_&&this.previousVolume_>0&&this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_MUTE,this.vast_.trackingEvents.mute),this.volume_>0&&0===this.previousVolume_&&this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_UNMUTE,this.vast_.trackingEvents.unmute),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdVolumeChange",this).call(this)}},{key:"onAdStopped",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdStopped",this).call(this),this.isAdImpression_||this.vidIODemandError(A.VD_ERROR_CODES.AD_STOPPED,!1)}},{key:"onAdSkipped",value:function(){this.fireVastPixels(A.VAST_PIXEL_TYPES.VAST_SKIP,this.vast_.trackingEvents.skip),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdSkipped",this).call(this),this.isAdImpression_||this.vidIODemandError(A.VD_ERROR_CODES.AD_SKIPPED,!1)}},{key:"onAdError",value:function(t){this.fireErrorPixels();var n=t||A.VD_ERROR_CODES.AD_ERROR;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdError",this).call(this,n),this.isAdImpression_||this.vidIODemandError(n,!1)}}]),e}();n.default=R},{"../../../timeouts.json":219,"./ad_iframe":188,"./ad_pixel":194,"./ad_state":196,"./ad_vpaid_video_wrapper":203,"./constants":208,"./utils":214,"lodash/extend":137,"lodash/forEach":141,"lodash/map":165}],187:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./utils")),a=function(){function t(e){r(this,t),this.name_="AdEventListener("+e+")",this.uuid_=null,this.instanceId_=o.getCb(),this.playerEventListeners_={},this.logEventListeners_={}}return i(t,[{key:"callEvent_",value:function(t){var e=Array.prototype.slice.call(arguments,1);if(this.playerEventListeners_.hasOwnProperty(t))for(var n=0;n<this.playerEventListeners_[t].length;n++)this.playerEventListeners_[t][n].apply(this.playerEventListeners_[t][n],e)}},{key:"subscribe",value:function(t,e,n){this.playerEventListeners_.hasOwnProperty(e)||(this.playerEventListeners_[e]=[]),this.playerEventListeners_[e].push(t.bind(n))}},{key:"unsubscribe",value:function(t){this.playerEventListeners_&&this.playerEventListeners_.hasOwnProperty(t)&&(this.playerEventListeners_[t]=[])}},{key:"callLogEvent_",value:function(t){var e=Array.prototype.slice.call(arguments,1);if(this.logEventListeners_.hasOwnProperty(t))for(var n=0;n<this.logEventListeners_[t].length;n++)this.logEventListeners_[t][n].apply(this.logEventListeners_[t][n],e)}},{key:"subscribeLogEvent",value:function(t,e,n){this.logEventListeners_.hasOwnProperty(e)||(this.logEventListeners_[e]=[]),this.logEventListeners_[e].push(t.bind(n))}},{key:"unsubscribeLogEvent",value:function(t){this.logEventListeners_&&this.logEventListeners_.hasOwnProperty(t)&&(this.logEventListeners_[t]=[])}}]),t}();n.default=a},{"./utils":214}],188:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createIframe=function(t,e,n,r,i,o,a,s){function _(t){return function(){u||(u=!0,s(l))}}var u=!1,l=e.createElement("iframe");l.id="iframe-"+t,null!==n&&(l.sandbox=n);var c=l.frameElement||l;c.style.border="0px",c.style.width="100%",c.style.height="100%",c.style.position="relative",c.style.overflow="hidden",c.scrolling="no",l.src="javascript:false",e.body.appendChild(l);var d=_(),h=_(),f=_(),p=l.contentWindow,E=p.document;E.open().write("<body onload=\"var js = document.createElement('script');js.src = '"+r+"';js.addEventListener('load', function() { window.onLoadFn(); });js.addEventListener('error', function() { window.onErrorFn(); });js.addEventListener('abort', function() { window.onAbortFn(); });js.addEventListener('beforeunload', function() { window.onBeforeunloadFn(); });document.body.appendChild(js);\">"),p.onLoadFn=function(){u||(u=!0,a(l))},p.onErrorFn=d,p.onAbortFn=h,p.onBeforeunloadFn=f,E.close(),setTimeout(function(){u||(u=!0,o(l))},i)};!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(t("./utils"))},{"./utils":214}],189:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _(t){t.style.margin=0,t.style.padding=0,t.style.border=0,t.style.outline=0,t.style["font-size"]="100%",t.style["vertical-align"]="baseline",t.style.background="transparent"}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=i(t("../lib/swfobjectdoc")),d=i(t("../../../flash_config.json")),h=r(t("./utils")),f=r(t("./constants")),p=i(t("./ad_vpaid")),E=!1;window.addEventListener("load",function(t){E=!0});var A=function(t){function e(t,n,r,i,s,u,l,p){o(this,e);var A=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"AdJsBridge",function(t){if(t.success)return t.data;throw new Error(t.exception)}));A.uuid_=t,A.slot_=u;var v=h.getDocumentAndWindow(A.slot_);v.window.isReady=function(){return E=E||"complete"===v.document.readyState},v.window.forward=function(t,e){var n="on"+t;A[n]&&"function"==typeof A[n]&&(e&&e.hasOwnProperty("message")?A[n](e.message):A[n]())},v.window.setSWFIsReady=function(){p()};var S=v.document.createElement("div");S.id=f.FLASH_DIV_ID,S.style.width=i+"px",S.style.height=s+"px",_(S),A.slot_.appendChild(S),A.objectDiv_=v.document.createElement("div"),A.objectDiv_.id=f.FLASH_OBJECT_ID,S.appendChild(A.objectDiv_);var R=new c.default(v.document,v.window);return R.switchOffAutoHideShow(),R.embedSWF(h.makeUrl(h.getProtocol(n),r,null),A.objectDiv_,"100%","100%",d.default.TARGET_PLAYER,!1,{uuid:t},{scale:"exactFit",allowscriptaccess:"always",allowfullscreen:"true",menu:"false",bgcolor:"#000000"},{bgcolor:"#000000",style:"left: 0; right: 0; top: 0; bottom: 0; display: block; position: absolute; margin:0; padding:0; border:0; outline:0; font-size:100%; vertical-align:baseline; background:transparent;"},function(t){if(t.success)try{A.ad_=v.document.getElementById(f.FLASH_OBJECT_ID)}catch(t){}l(t)}),A}return s(e,p.default),u(e,[{key:"load",value:function(t){if(this.ad_){var e=0===t.xFlvMedia.length?null:t.xFlvMedia[0].url;this.ad_.load(t.flashVpaidUrl,e,t.duration)}}},{key:"handshakeVersion",value:function(t){if(l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"handshakeVersion",this).call(this,t),this.ad_)return this.ad_.handshakeVersion(this.handshakeVersion_)}},{key:"initAd",value:function(t,n,r,i,o,a){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initAd",this).call(this,t,n,r,i,o,a),this.changeDisplay(!0),this.ad_&&this.ad_.initAd(t,n,r,i,o.AdParameters,"")}},{key:"stopAd",value:function(){this.changeDisplay(!1),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stopAd",this).call(this)}},{key:"skipAd",value:function(){this.changeDisplay(!1),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"skipAd",this).call(this)}},{key:"onAdStopped",value:function(){this.changeDisplay(!1),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdStopped",this).call(this)}},{key:"onAdSkipped",value:function(){this.changeDisplay(!1),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdSkipped",this).call(this)}},{key:"onAdError",value:function(t){this.changeDisplay(!1),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdError",this).call(this,t)}},{key:"changeDisplay",value:function(t){var e=h.getDocumentAndWindow(this.slot_).document.getElementById(f.FLASH_OBJECT_ID);t?(this.callLogEvent_(f.LOG_EVENTS.BRIDGE_SHOW),e.style.visibility="visible"):(this.callLogEvent_(f.LOG_EVENTS.BRIDGE_HIDE),e.style.visibility="hidden")}}]),e}();n.default=A},{"../../../flash_config.json":1,"../lib/swfobjectdoc":182,"./ad_vpaid":202,"./constants":208,"./utils":214}],190:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=r(t("./constants")),s=(r(t("./utils")),function(t){return t&&t.__esModule?t:{default:t}}(t("./ad_js_bridge"))),_=function(){function t(e,n){i(this,t),this.uuid_=e,this.bridge_url_=n,this.embedResult_=null,this.isSWFReady_=!1,this.adJsBridge_=null,this.bridgeEventListeners_={}}return o(t,[{key:"callBridgeEvent_",value:function(t){var e=Array.prototype.slice.call(arguments,1);if(this.bridgeEventListeners_.hasOwnProperty(t))for(var n=0;n<this.bridgeEventListeners_[t].length;n++)this.bridgeEventListeners_[t][n].apply(this.bridgeEventListeners_[t][n],e)}},{key:"subscribeBridgeEvent",value:function(t,e,n){this.bridgeEventListeners_.hasOwnProperty(e)||(this.bridgeEventListeners_[e]=[]),this.bridgeEventListeners_[e].push(t.bind(n))}},{key:"unsubscribeBridgeEvent",value:function(t){this.bridgeEventListeners_&&this.bridgeEventListeners_.hasOwnProperty(t)&&(this.bridgeEventListeners_[t]=[])}},{key:"create",value:function(t,e,n,r){var i=this;this.adJsBridge_=new s.default(this.uuid_,t,this.bridge_url_,e,n,r,function(t){i.embedResult_=t,t.success?i.callBridgeEvent_(a.BRIDGE_EVENTS.EMBED_SUCCESS):i.callBridgeEvent_(a.BRIDGE_EVENTS.EMBED_FAIL)},function(){i.isSWFReady_=!0,i.callBridgeEvent_(a.BRIDGE_EVENTS.SWF_IS_READY)})}}]),t}();n.default=_},{"./ad_js_bridge":189,"./constants":208,"./utils":214}],191:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getLocation=function(){function t(t){try{return new URL(t).hostname}catch(n){try{var e=new RegExp("(?:https?://)?(?:w+:/)?[^:?#/s]*?([^.s]+.(?:[a-z]{2,}|co.uk|org.uk|ac.uk|org.au|com.au))(?:[:?#/]|$)","gi").exec(t);return e?e[1]:null}catch(t){return null}}}var e=null,n=null,r=null,i=null,o=null,a=null,s=null,_=null,u=null,l=null,c=null,d=null,h=[],f=[],p=null,E=null,A=null,v=null,S=null,R=-1,y=-1;try{e=window.location.href}catch(t){}try{n=window.top.location.href}catch(t){}try{r=window.location.hostname}catch(t){}try{i=window.top.location.hostname}catch(t){}try{o=window.location.origin}catch(t){}try{a=window.top.location.origin}catch(t){}try{_=t(s=document.referrer)}catch(t){}try{u=[],l=[];for(var O=0;O<window.location.ancestorOrigins.length;O++){var T=window.location.ancestorOrigins[O];u.push(T),l.push(t(T))}}catch(t){}null!==u&&u.length>0&&(c=u[u.length-1]),null!==l&&l.length>0&&(d=l[l.length-1]);try{var I=window;R=0;do{try{h.push({url:window.location.href}),E=window.location.href}catch(t){h.push({error:t})}try{f.push({url:window.location.hostname}),p=window.location.hostname,y=R+1}catch(t){f.push({error:t})}I=I.parent,R++}while(I!==window.top&&I!==I.parent&&R<50)}catch(t){}return null!==d&&""!==d?(v=d,S="d_wla"):null!==i&&""!==i?(v=i,S="d_wtl"):R<=1?null!==r&&""!==r&&(v=r,S="d_wl"):2===R||y<=2?null!==_&&""!==_?(v=_,S="d_r"):null!==r&&""!==r&&(v=r,S="d_wl"):null!==p&&""!==p?(v=p,S="d_p"+y):null!==_&&""!==_?(v=_,S="d_r"):null!==r&&""!==r&&(v=r,S="d_wl"),null!==n&&""!==n?A=n:R<=1?null!==e&&""!==e&&(A=e):2===R||y<=2?null!==s&&""!==s?A=s:null!==e&&""!==e&&(A=e):null!==E&&""!==E?A=E:null!==s&&""!==s?A=s:null!==e&&""!==e&&(A=e),null===A&&null!==c&&""!==c&&(A=c),{window__location__href:e,window__top__location__href:n,window__location__hostname:r,window__top__location__hostname:i,window__location__origin:o,window__top__location__origin:a,document__referrer:s,document__referrer___hostname:_,window__location__ancestorOrigins:u,window__location__ancestorOrigins__hostnames:l,topAncestorOrigin:c,topAncestorOriginHostname:d,parents:h,parent_hostnames:f,topParentDomain:p,topParent:E,url:A,domain_match:v,domain_match_source:S}}},{}],192:[function(t,e,n){(function(n){"use strict";function r(){return new i.AdController("vid.springserve.com","vid-io.springserve.com/vd/i","vpaid.springserve.com/production/bridge_5b921e2a.swf","vpaid.springserve.com/posters/",!0,"0.2.95.11")}var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./ad_controller"));e.exports=r,n.getVPAIDAd=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ad_controller":185}],193:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return t.hasOwnProperty("to")&&t.to>0?t.to:c.NO_TIMEOUT}Object.defineProperty(n,"__esModule",{value:!0}),n.getTimeoutFromObj=i,n.getPixelUrlsByEvent=function(t,e){return t.hasOwnProperty("pixels")&&null!==t.pixels&&t.pixels.hasOwnProperty(e)?t.pixels[e]:null},n.parse=function(t){if(t.hasOwnProperty("passthru")&&!(0,a.default)(t.passthru))throw new Error(c.MANIFEST_PARSE_ERRORS.PASSTHRU,t.passthru);if(t.hasOwnProperty("urlparams")&&!(0,a.default)(t.urlparams))throw new Error(c.MANIFEST_PARSE_ERRORS.URLPARAMS,t.urlparams);if(t.hasOwnProperty("pixels")&&null!==t.pixels){if(!(0,a.default)(t.pixels))throw new Error(c.MANIFEST_PARSE_ERRORS.PIXELS_OBJECT,t.pixels);var e=t.pixels;for(var n in e)if(e.hasOwnProperty(n)){if(!c.MANIFEST_PIXEL_EVENTS.hasOwnProperty(n))throw new Error(c.MANIFEST_PARSE_ERRORS.PIXELS_INVALID_EVENT,n);if(!(0,s.default)(e[n]))throw new Error(c.MANIFEST_PARSE_ERRORS.PIXELS_ARRAY,e[n]);for(var r=e[n],h=0;h<r.length;h++)if(!(0,u.default)(r[h]))throw new Error(c.MANIFEST_PARSE_ERRORS.PIXELS_URL,r[h])}}if(t.hasOwnProperty("td")&&!(0,_.default)(t.td))throw new Error(c.MANIFEST_PARSE_ERRORS.TD,t.td);if(t.hasOwnProperty("ts")&&!(0,_.default)(t.ts))throw new Error(c.MANIFEST_PARSE_ERRORS.TS,t.ts);if(!t.hasOwnProperty("uuid")||!(0,u.default)(t.uuid))throw new Error(c.MANIFEST_PARSE_ERRORS.UUID,t.uuid);if(!t.hasOwnProperty("ssid")||!(0,u.default)(t.ssid))throw new Error(c.MANIFEST_PARSE_ERRORS.SSID,t.ssid);if(!t.hasOwnProperty("secure")||!(0,_.default)(t.secure))throw new Error(c.MANIFEST_PARSE_ERRORS.SECURE,t.secure);if(!t.hasOwnProperty("aid")||!(0,l.default)(t.aid))throw new Error(c.MANIFEST_PARSE_ERRORS.AID,t.aid);if(!t.hasOwnProperty("country")||!(0,u.default)(t.country))throw new Error(c.MANIFEST_PARSE_ERRORS.COUNTRY,t.country);if(t.hasOwnProperty("pimps")){if(!(0,a.default)(t.pimps))throw new Error(c.MANIFEST_PARSE_ERRORS.PIMPS,t.pimps);if(t.pimps.hasOwnProperty("w_pv")&&!(0,u.default)(t.pimps.w_pv))throw new Error(c.MANIFEST_PARSE_ERRORS.SSC_PV,t.pimps.w_pv);if(t.pimps.hasOwnProperty("w_to")&&!(0,l.default)(t.pimps.w_to))throw new Error(c.MANIFEST_PARSE_ERRORS.SSC_TO,t.pimps.w_to)}var f=(0,o.default)({timeout:i(t),numWaterfalls:t.dx.length,dx:[]},t,{pixels:null,ef:!1,td:!1,ts:!1,urlparams:null,passthru:null,pimps:{}});f.enableFlashIframe=!0;for(var p=0;p<t.dx.length;p++){var E=t.dx[p];f.dx.push([]);for(var A=0;A<E.length;A++){var v=E[A];if(!v.hasOwnProperty("a_cc")||!(0,u.default)(v.a_cc))throw new Error(c.MANIFEST_PARSE_ERRORS.WATERFALL_A_CC,v.a_cc);var S=new d.default(v.a_cc);if(v.hasOwnProperty("td")&&!(0,_.default)(v.td))throw new Error(c.MANIFEST_PARSE_ERRORS.WATERFALL_TD,v.td);if(v.hasOwnProperty("ts")&&!(0,_.default)(v.ts))throw new Error(c.MANIFEST_PARSE_ERRORS.WATERFALL_TS,v.ts);if(v.hasOwnProperty("pixels")&&null!==v.pixels){if(!(0,a.default)(v.pixels))throw new Error(c.MANIFEST_PARSE_ERRORS.WATERFALL_PIXELS_OBJECT,v.pixels);var R=v.pixels;for(var y in R)if(R.hasOwnProperty(y)){if(!c.VPAID_EVENTS.hasOwnProperty(y))throw new Error(c.MANIFEST_PARSE_ERRORS.WATERFALL_PIXELS_VPAID_EVENT,y);if(!(0,s.default)(R[y]))throw new Error(c.MANIFEST_PARSE_ERRORS.WATERFALL_PIXELS_ARRAY,R[y]);for(var O=R[y],T=0;T<O.length;T++)if(!(0,u.default)(O[T]))throw new Error(c.MANIFEST_PARSE_ERRORS.WATERFALL_PIXELS_URL,O[T])}}f.dx[p].push((0,o.default)({waterfallIdx:p,broadcastIdx:A,timeout:i(v),callChain:S},v,{td:!1,ts:!1,pixels:null}))}}return f};var o=r(t("lodash/defaults")),a=r(t("lodash/isObject")),s=r(t("lodash/isArray")),_=r(t("lodash/isBoolean")),u=r(t("lodash/isString")),l=r(t("lodash/isInteger")),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./constants")),d=r(t("./call_chain"))},{"./call_chain":206,"./constants":208,"lodash/defaults":135,"lodash/isArray":147,"lodash/isBoolean":149,"lodash/isInteger":153,"lodash/isObject":156,"lodash/isString":159}],194:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.getPixelParams=function(t,e,n,r,i,c,d,h,f,p,E,A){var v={};v[_.VID_IO_PARAMS.instanceId]=n,v[_.VID_IO_PARAMS.event]=f;for(var S in E)E.hasOwnProperty(S)&&(v[S]=E[S]);if((0,s.default)(p)||(v[_.VID_IO_PARAMS.auctionCallChain]=p.a_cc,v[_.VID_IO_PARAMS.dtidx]=p.waterfallIdx+1),v[_.VID_IO_PARAMS.yh_id]=17,v[_.VID_IO_PARAMS.platform]="js",v[_.VID_IO_PARAMS.bv]=e,v[_.VID_IO_PARAMS.cb]=u.getCb(),v[_.VID_IO_PARAMS.timestamp]=(0,o.default)(),((0,a.default)(A)||!(0,s.default)(c)&&(0,a.default)(c.supplyTagId))&&(v[_.VID_IO_PARAMS.id]=(0,a.default)(A)?A:c.supplyTagId),!(0,s.default)(c)&&((0,a.default)(A)||(v[_.VID_IO_PARAMS.aid]=c.aid),v[_.VID_IO_PARAMS.d]=c.domain,v[_.VID_IO_PARAMS.w]=c.width,v[_.VID_IO_PARAMS.h]=c.height,v[_.VID_IO_PARAMS.cc]=c.country,v[_.VID_IO_PARAMS.v]=c.v,v[_.VID_IO_PARAMS.uuid]=c.uuid,v[_.VID_IO_PARAMS.dtnum]=c.numWaterfalls,c.hasOwnProperty("passthru")))for(var R in c.passthru)c.passthru.hasOwnProperty(R)&&(v[R]=c.passthru[R]);!(0,s.default)(p)&&p.hasOwnProperty("ol")&&p.ol>0?v[_.VID_IO_PARAMS.ol]=p.ol:!(0,s.default)(c)&&c.ol>0&&(v[_.VID_IO_PARAMS.ol]=c.ol),!(0,s.default)(c)&&c.ov>0&&(v[_.VID_IO_PARAMS.ov]=c.ov),v[_.VID_IO_PARAMS.vpaidWidth]=d,v[_.VID_IO_PARAMS.vpaidHeight]=h,v[_.VID_IO_PARAMS.domain_match]=r.domain_match,v[_.VID_IO_PARAMS.domain_match_source]=r.domain_match_source,(0,s.default)(i)||((0,s.default)(i.clientWidth)||(0,s.default)(i.clientHeight)?(v[_.VID_IO_PARAMS.detected_size_width]=d,v[_.VID_IO_PARAMS.detected_size_height]=h,v[_.VID_IO_PARAMS.detected_size_match_source]="vpaid"):(v[_.VID_IO_PARAMS.detected_size_width]=i.clientWidth,v[_.VID_IO_PARAMS.detected_size_height]=i.clientHeight,v[_.VID_IO_PARAMS.detected_size_match_source]="client"));var y=l.detector();return null!==y&&(v[_.VID_IO_PARAMS.inView]=y.isInView),v},n.getDemandType=function(t){return t.jsVpaid&&t.flashVpaid?_.DEMAND_TYPES.BOTH:t.jsVpaid?_.DEMAND_TYPES.JS_VPAID:t.flashVpaid?_.DEMAND_TYPES.FLASH_VPAID:t.media||t.xFlvMedia?_.DEMAND_TYPES.VIDEO:_.DEMAND_TYPES.UNKNOWN},n.getCreativeTypeToDemandType=function(t){return t===_.CREATIVE_TYPES.MEDIA||t===_.CREATIVE_TYPES.XFLV?_.DEMAND_TYPES.VIDEO:t===_.CREATIVE_TYPES.FLASH_VPAID?_.DEMAND_TYPES.FLASH_VPAID:t===_.CREATIVE_TYPES.JS_VPAID?_.DEMAND_TYPES.JS_VPAID:_.DEMAND_TYPES.UNKNOWN};i(t("lodash/map"));var o=i(t("lodash/now")),a=i(t("lodash/isInteger")),s=i(t("lodash/isNull")),_=r(t("./constants")),u=r(t("./utils")),l=r(t("./viewability_detection"))},{"./constants":208,"./utils":214,"./viewability_detection":217,"lodash/isInteger":153,"lodash/isNull":155,"lodash/map":165,"lodash/now":169}],195:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=i(t("./constants")),c=(i(t("./utils")),r(t("./ad_demand_request"))),d=r(t("./broadcast_queue")),h=r(t("./ad_state")),f=function(t){function e(t,n){o(this,e);var r=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"AdProcessor",t,n));return r.broadcastQueues=[],r.currentWaterfallIndex_=-1,r.currentAdContainer_=-1,r}return s(e,h.default),_(e,[{key:"initAd",value:function(t,n,r,i,o,a){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initAd",this).call(this,t,n,r,i,o,a);for(var s=0;s<this._cabinet.manifest.dx.length;s++){var _=new d.default(this._cabinet,this._cabinet.manifest.dx[s],this.initParams_,s);this.broadcastQueues.push(_)}}},{key:"maybeStopDemandRequest",value:function(){if(this.ad_){this.unregisterVpaidEventListeners_(this.ad_),this.unregisterLogEventListeners_(this.ad_),this.unregisterSSEventListeners_(this.ad_);try{this.ad_.stopAd()}catch(t){}}}},{key:"nextBroadcast",value:function(){if(!this.isAdDead_){if(this.maybeStopDemandRequest(),this.currentWaterfallIndex_>-1){var t=this.getBroadcastQueue();t.maybeClearRequestTimeout(),this.unregisterLogEventListeners_(t),this.unregisterSSEventListeners_(t)}if(this.currentWaterfallIndex_+1>=this.broadcastQueues.length)this.supplyError(l.VD_ERROR_CODES.NO_FILL,!1),this.callEvent_(l.VPAID_EVENTS.AdError,l.VD_ERROR_CODES.NO_FILL);else{this.currentWaterfallIndex_++;var e=this.getBroadcastQueue();this.registerSSEventListeners_(e),this.registerLogEventListeners_(e),e.load()}}}},{key:"getBroadcastQueue",value:function(){return this.broadcastQueues[this.currentWaterfallIndex_]}},{key:"on_js_demand_error",value:function(t,n,r){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"on_js_demand_error",this).call(this,t,n,r),this.getBroadcastQueue().getAdContainer(this.currentAdContainer_).vpaidFailed(),this.getBroadcastQueue().nextVpaid()}},{key:"onBroadcastVastReady",value:function(t){if(u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onBroadcastVastReady",this).call(this,t),!this.isAdDead_){this.maybeStopDemandRequest();var n=this.getBroadcastQueue().getAdContainer(t);n.vpaidStart(),this.currentAdContainer_=t,this.ad_=new c.default(this._cabinet,this.initParams_,n.demandTag_,n.vast_),this.registerVpaidEventListeners_(this.ad_),this.registerSSEventListeners_(this.ad_),this.registerLogEventListeners_(this.ad_),this.ad_.load()}}},{key:"onAdImpression",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdImpression",this).call(this),this.getBroadcastQueue().finishBroadcast()}},{key:"onBroadcastDone",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onBroadcastDone",this).call(this),this.isAdDead_||this.nextBroadcast()}},{key:"supplyError",value:function(t,e){this.callSSEvent_(l.VID_IO_EVENTS.js_supply_error,null,{on_page_time:this._cabinet.timeoutManager.timeOnPage,reason:t,timeout:e},null)}},{key:"stopAd",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stopAd",this).call(this),this.isAdImpression_||this.supplyError(l.VD_ERROR_CODES.STOP_AD_CALLED,!0)}},{key:"skipAd",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"skipAd",this).call(this),this.isAdImpression_||this.supplyError(l.VD_ERROR_CODES.SKIP_AD_CALLED,!0)}},{key:"onAdLoaded",value:function(){this.isStartAd_&&this.ad_&&!this.ad_.isStartAd_&&this.ad_.startAd(),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdLoaded",this).call(this)}},{key:"onAdSkipped",value:function(){this.isAdImpression_&&u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdSkipped",this).call(this)}},{key:"onAdStopped",value:function(){this.isAdImpression_&&u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdStopped",this).call(this)}},{key:"onAdError",value:function(t){this.isAdImpression_&&u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdError",this).call(this,t||l.VD_ERROR_CODES.PLAY_ERROR)}}]),e}();n.default=f},{"./ad_demand_request":186,"./ad_state":196,"./broadcast_queue":204,"./constants":208,"./utils":214}],196:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},_=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(t("./utils")),function(t){return t&&t.__esModule?t:{default:t}}(t("./ad_vd"))),u=function(t){function e(t,n,o){r(this,e);var a=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"AdState("+t+")"));return a._cabinet=n,a.initParams_=o,a.isAdLoaded_=!1,a.isStartAd_=!1,a.isAdStarted_=!1,a.isAdVideoStart_=!1,a.isAdImpression_=!1,a.isDeadAd_=!1,a.isAdDead_=!1,a}return o(e,_.default),a(e,[{key:"startAd",value:function(){this.isStartAd_=!0,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"startAd",this).call(this)}},{key:"stopAd",value:function(){this.isDeadAd_=!0,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stopAd",this).call(this)}},{key:"skipAd",value:function(){this.isDeadAd_=!0,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"skipAd",this).call(this)}},{key:"onAdLoaded",value:function(){this.isAdLoaded_=!0,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdLoaded",this).call(this)}},{key:"onAdStarted",value:function(){this.isAdStarted_=!0,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdStarted",this).call(this)}},{key:"onAdVideoStart",value:function(){this.isAdVideoStart_=!0,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdVideoStart",this).call(this)}},{key:"onAdImpression",value:function(){this.isAdImpression_=!0,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdImpression",this).call(this)}},{key:"onAdStopped",value:function(){this.isAdDead_=!0,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdStopped",this).call(this)}},{key:"onAdSkipped",value:function(){this.isAdDead_=!0,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdSkipped",this).call(this)}},{key:"onAdError",value:function(t){this.isAdDead_=!0,s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onAdError",this).call(this,t)}}]),e}();n.default=u},{"./ad_vd":200,"./utils":214}],197:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){for(var e=null,n=0;n<t.length;n++){var r=t[n];(null===e||r.timeout<e.timeout)&&(e=r)}return e}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=r(t("lodash/mapValues")),_=r(t("lodash/map")),u=r(t("lodash/min")),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./constants")),c=function(){function t(e){i(this,t),this.now_=e,this.start_=this.now_(),this.supplyTagTimeout_=null,this.manifest_=null,this.response_starts_={},this.dtoTime_=null}return a(t,[{key:"setManifest",value:function(t){this.manifest_=t,this.supplyTagTimeout_=this.manifest_.timeout,this.manifest_.dto&&(this.dtoTime_=(0,s.default)(this.manifest_.dto,function(){return 0}))}},{key:"startResponse",value:function(t){if(t>0&&null!==this.dtoTime_)for(var e=this.getResponseTime(t-1),n=this.getDtoKeys(t-1),r=0;r<n.length;r++){var i=n[r];this.dtoTime_[i]+=e}this.response_starts_[t]=this.now_()}},{key:"getRequestTime",value:function(t){return this.getResponseStart(t)-this.start_}},{key:"getResponseTime",value:function(t){return this.now_()-this.getResponseStart(t)}},{key:"getTimeoutInfo",value:function(t,e){var n=[];if(n.push({timeout:this.supplyTagRemaining,reason:l.VD_ERROR_CODES.SUPPLY_TAG_TIMEOUT},{timeout:this.getBroadcastRemaining(t),reason:l.VD_ERROR_CODES.DEMAND_PARTNER_TIMEOUT}),null!==this.dtoTime_)for(var r=this.getDtoKeys(t),i=0;i<r.length;i++){var a=r[i];n.push({timeout:this.manifest_.dto[a]-this.dtoTime_[a],reason:l.VD_ERROR_CODES.DTO_TIMEOUT})}return null!==e&&(n=n.concat(e)),o(n)}},{key:"getResponseStart",value:function(t){return this.response_starts_[t]}},{key:"getDemandTags",value:function(t){return this.manifest_.dx[t]}},{key:"getBroadcastRemaining",value:function(t){var e=this.getDemandTags(t);return(0,u.default)((0,_.default)(e,"timeout"))-this.getResponseTime(t)}},{key:"getDtoKeys",value:function(t){if(t>=0&&t<this.manifest_.dx.length){for(var e={},n=this.getDemandTags(t),r=0;r<n.length;r++)for(var i=n[r].callChain.callChainLinks,o=0;o<i.length;o++){var a=i[o].demandTagId;0!==a&&(e[a]=!0)}var s=[];for(var _ in this.dtoTime_)this.dtoTime_.hasOwnProperty(_)&&e.hasOwnProperty(_)&&s.push(_);return s}return[]}},{key:"supplyTagRemaining",get:function(){return this.supplyTagTimeout_-this.timeOnPage}},{key:"timeOnPage",get:function(){return this.now_()-this.start_}}]),t}();n.default=c},{"./constants":208,"lodash/map":165,"lodash/mapValues":166,"lodash/min":168}],198:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n={errorPixels:t.errorPixels.concat(e.errorPixels),impressionPixels:t.impressionPixels.concat(e.impressionPixels),clickTracking:t.clickTracking.concat(e.clickTracking),trackingEvents:{}};return(0,l.default)(t.trackingEvents,function(t,r){n.trackingEvents[r]=[].concat(t,e.trackingEvents[r])}),n}function a(t,e,n,r,i,s,l,f,A,v,S,R,y,O,T,I,g,m){var b=c.getRequestMethod(v,O);if(b){var P=b.xhr;P.responseType="document";try{"function"==typeof P.overrideMimeType&&P.overrideMimeType("text/xml")}catch(t){}P.timeout=S.timeout,P.onload=function(){try{if(200!==P.status)return void(b.withCredentials?a(t,e,n,r,i,s,l,f,A,v,S,R,y,!1,T,I,g,m):R(!1,d.VD_ERROR_CODES.BAD_XHR_STATUS+"_"+P.status));var O=null;if(null!==P.responseXML)O=P.responseXML;else if("function"!=typeof P.overrideMimeType&&null!==P.responseText)try{O=(new DOMParser).parseFromString(P.responseText,"application/xml")}catch(t){return void R(!1,d.VD_ERROR_CODES.DOM_PARSER_PARSE_FAILURE)}if(null===O)return void R(!1,d.VD_ERROR_CODES.RESPONSE_XML_NULL);var D=void 0;try{D=new p.default(A,v,O).findVideoAd()}catch(t){return void R(!1,d.VD_ERROR_CODES.FIND_VIDEO_AD_EXCEPTION+"_"+t.message)}var V=void 0;try{V=(0,u.default)({},D,o(g,D))}catch(t){return void R(!1,d.VD_ERROR_CODES.EXTEND_VAST_EXCEPTION+"_"+t.message)}if(null!==V.wrapperUrl)s(V,V.wrapperUrl);else{if(V.hasPlayableMedia=!1,V.media.length>0){var L=void 0;try{(L=y.videoSlot)||(L=c.getDocumentAndWindow(y.slot).document.createElement("video"),I.videoSlot=L)}catch(t){return void R(!1,d.VD_ERROR_CODES.CREATE_VIDEO_ELEMENT_EXCEPTION+"_"+t.message)}try{for(var C=0;C<V.media.length;C++){var N=V.media[C];if(c.canPlayVideo(L,N.mimetype)){V.hasPlayableMedia=!0;break}}}catch(t){return void R(!1,d.VD_ERROR_CODES.CAN_PLAY_VIDEO_EXCEPTION+"_"+t.message)}}try{var w=c.getDocumentAndWindow(y.slot),M={jsVpaid:null!==V.jsVpaidUrl,media:V.media.length>0,playableMedia:V.hasPlayableMedia,flashVpaid:null!==V.flashVpaidUrl,xFlvMedia:V.xFlvMedia.length>0,canPlayFlash:new _.default(w.document,w.window).hasFlashPlayerVersion(E.default.TARGET_PLAYER),flashEnabled:m};if(M.jsVpaid||M.media||M.flashVpaid||M.xFlvMedia)if(M.jsVpaid||M.playableMedia||M.flashEnabled&&M.canPlayFlash&&(M.flashVpaid||M.xFlvMedia)){var j=null!==V.ortb_detail?V.ortb_detail:{};t(d.VID_IO_EVENTS.js_demand_response,r,(0,u.default)({cc_i:r.callChain.getCallChainIndices(e.demand_events.response,!0).join(","),response_time:n.getResponseTime(r.waterfallIdx),wrapper_count:i,has_ad:!0,timeout:!1,dtype:h.getDemandType(M)},j)),l(V,f)}else{var k=M.media&&M.playableMedia,x=[];M.flashEnabled?!M.canPlayFlash&&(M.flashVpaid||M.xFlvMedia)&&x.push(d.VD_ERROR_CODES.FLASH_NOT_SUPPORTED):x.push(d.VD_ERROR_CODES.FLASH_DISABLED),k&&x.push(d.VD_ERROR_CODES.UNSUPPORTED_MEDIA),R(!1,x.join("_"),M)}else R(!1,d.VD_ERROR_CODES.EMPTY_VAST)}catch(t){R(!1,d.VD_ERROR_CODES.JS_DEMAND_RESPONSE_EXCEPTION+"_"+t.message)}}}catch(t){R(!1,d.VD_ERROR_CODES.VAST_ONLOAD_EXCEPTION+"_"+t.message)}},P.ontimeout=function(){R(!0,S.reason)},P.onerror=function(){b.withCredentials?a(t,e,n,r,i,s,l,f,A,v,S,R,y,!1,T,I,g,m):R(!1,d.VD_ERROR_CODES.XHR_ERROR)},P.send()}else R(!1,d.VD_ERROR_CODES.NO_XHR)}function s(t,e,n){if(n.indexOf("{{")<0)return n;var r=n;null!==t&&(r=(r=(r=(r=r.replace(d.TRUST_BUT_VERIFY_MACROS.DETECTED_DOMAIN,t.domain_match)).replace(d.TRUST_BUT_VERIFY_MACROS.DETECTED_URL,t.url)).replace(d.TRUST_BUT_VERIFY_MACROS.DETECTED_ENCODED_URL,encodeURI(t.url))).replace(d.TRUST_BUT_VERIFY_MACROS.DETECTED_DOUBLE_ENCODED_URL,encodeURI(encodeURI(t.url)))),null!==e&&(r=(r=(r=(r=r.replace(d.TRUST_BUT_VERIFY_MACROS.DETECTED_HEIGHT,e.detectedHeight)).replace(d.TRUST_BUT_VERIFY_MACROS.DETECTED_WIDTH,e.detectedWidth)).replace(d.DEMAND_PARTNER_MACROS.D_HEIGHT,e.detectedHeight)).replace(d.DEMAND_PARTNER_MACROS.D_WIDTH,e.detectedWidth));var i=f.detector(),o=-1;return null!==i&&(o=i.isInView),r=r.replace(d.TRUST_BUT_VERIFY_MACROS.DETECTED_IN_VIEW,o),r=r.replace(d.TRUST_BUT_VERIFY_MACROS.DETECTED_IS_VISIBLE,o)}Object.defineProperty(n,"__esModule",{value:!0}),n.extendPixels=o,n.getVast=a,n.replaceDetectedMacros=s,n.getVastResponse=function(t,e,n,r,i,o,_,u,l,c,h,f,p,E,A,v){function S(){return n.getTimeoutInfo(i.waterfallIdx,[{reason:d.VD_ERROR_CODES.VASTS_NO_TIME,timeout:l-n.getResponseTime(i.waterfallIdx)},{reason:d.VD_ERROR_CODES.VAST_TIMEOUT,timeout:u}])}function R(r,o){t(d.VID_IO_EVENTS.js_demand_response,i,{cc_i:i.callChain.getCallChainIndices(e.demand_events.response,!0).join(","),response_time:n.getResponseTime(i.waterfallIdx),wrapper_count:T,has_ad:!1,timeout:r,reason:o,dtype:d.DEMAND_TYPES.UNKNOWN}),_()}function y(s,u,l,c){c.timeout<=0?R(!0,c.reason):a(t,e,n,i,s,O,o,_,r,l,c,R,h,!0,f,p,u,E)}function O(t,e){++T>c?R(!1,d.VD_ERROR_CODES.TOO_MANY_WRAPPERS):y(T,t,e,S())}var T=0,I=void 0;try{I=S()}catch(t){return void R(!1,d.VD_ERROR_CODES.AD_VAST_GET_TIMEOUT_INFO_FAIL)}if(I.timeout<=0)R(!0,I.reason);else try{var g=s(A,v,i.url);y(T,d.getVastPixels(),g,I)}catch(t){R(!1,d.VD_ERROR_CODES.AD_VAST_GV_FAIL+"_"+t.message)}};var _=i(t("../lib/swfobjectdoc")),u=i(t("lodash/extend")),l=i(t("lodash/mapValues")),c=r(t("./utils")),d=r(t("./constants")),h=r(t("./ad_pixel")),f=r(t("./viewability_detection")),p=i(t("./ad_vast_parser")),E=i(t("../../../flash_config.json"))},{"../../../flash_config.json":1,"../lib/swfobjectdoc":182,"./ad_pixel":194,"./ad_vast_parser":199,"./constants":208,"./utils":214,"./viewability_detection":217,"lodash/extend":137,"lodash/mapValues":166}],199:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=i(t("lodash/defaults")),_=i(t("lodash/forEach")),u=r(t("./constants")),l=r(t("./utils")),c=r(t("./vast_parser_utils")),d=i(t("url")),h=function(){function t(e,n,r){o(this,t),this.endpoint_=e,this.baseUrl_=n,this.vastTag_=r}return a(t,[{key:"findVideoAd",value:function(){var t=(0,s.default)({wrapperUrl:null,duration:null,media:[],jsVpaidUrl:null,flashVpaidUrl:null,xFlvMedia:[],adParameters:"",clickThrough:null,noad:null,companions:"",icons:!1,linear:!1,skipOffset:u.VPAID_CONSTANTS.NOT_IMPLEMENTED,ortb_detail:null},u.getVastPixels()),e=this.vastTag_.getElementsByTagName("Ad"),n=null;if(e.length>0){n=e[0];try{t.impressionPixels=this.getUnorderedUrls("Impression",n)}catch(t){throw new Error(u.VD_ERROR_CODES.VAST_IMPRESSION_PIXELS_ERROR+"_"+t.message)}try{t.errorPixels=this.getUnorderedUrls("Error",n)}catch(t){throw new Error(u.VD_ERROR_CODES.VAST_ERROR_PIXELS_ERROR+"_"+t.message)}}if(l.isBc(this.endpoint_,this.baseUrl_)){var r=null;try{r=this.vastTag_.getElementsByTagName("Extension")}catch(t){throw new Error(u.VD_ERROR_CODES.VAST_ERROR_EXTENSIONS+"_"+t.message)}try{for(var i=0;i<r.length;i++){var o=r[i];o.getAttribute("type")===u.ORTB_DETAIL&&(t.ortb_detail={bf:l.getORtbElement(o,"bf",parseFloat),bp:l.getORtbElement(o,"bp",parseFloat),scode:l.getORtbElement(o,"scode",parseInt),bid_result:l.getORtbElement(o,"bid_result",parseInt),seat_id:l.getORtbElement(o,"seat_id",function(t){return t})})}}catch(t){throw new Error(u.VD_ERROR_CODES.VAST_ERROR_ORTB_DETAIL+"_"+t.message)}}var a=void 0,_=void 0;try{a=c.getFirstElement("Wrapper",this.vastTag_),_=c.getFirstElement("Linear",this.vastTag_)}catch(t){throw new Error(u.VD_ERROR_CODES.VAST_GET_LINEAR_WRAPPER_XML_ERROR+"_"+t.message)}if(null!==a)try{var d=c.getFirstElement("VASTAdTagURI",a);t.wrapperUrl=null!==d?this.getUrl(d.textContent):null,t.impressionPixels=this.getUnorderedUrls("Impression",a),t.errorPixels=this.getUnorderedUrls("Error",a);var h=c.getFirstElement("Linear",a);null!==h&&this.setTrackingEvents(t,h),t.clickTracking=this.getUnorderedUrls("ClickTracking",a)}catch(t){throw new Error(u.VD_ERROR_CODES.VAST_IS_WRAPPER_XML_ERROR+"_"+t.message)}else if(null!==_)try{t.linear=!0;for(var f=_.getElementsByTagName("MediaFile"),p=0;p<f.length;p++){var E=f[p];if(E.hasAttribute("type")){var A=E.getAttribute("type");"video/x-flv"===A?t.xFlvMedia.push(this.getMedia(E)):"application/javascript"===A?t.jsVpaidUrl=this.getUrl(E.textContent):"application/x-shockwave-flash"===A?t.flashVpaidUrl=this.getUrl(E.textContent):0===A.indexOf("video")&&t.media.push(this.getMedia(E))}}var v=c.getFirstElement("AdParameters",_);null!==v&&(t.adParameters=v.textContent);var S=c.getTextFromTagName("Duration",_);if(null!==S){var R=c.parseDuration(S);null!==R&&(t.duration=R)}var y=_.getAttribute("skipOffset");if(null!==y){var O=c.getSkipOffset(y.textContent,t.duration);t.skipOffset=null===O?O:u.VPAID_CONSTANTS.NOT_IMPLEMENTED}this.setTrackingEvents(t,_),t.clickTracking=this.getUnorderedUrls("ClickTracking",_),t.clickThrough=this.getUrlFromTagName("ClickThrough",_)}catch(t){throw new Error(u.VD_ERROR_CODES.VAST_IS_LINEAR_XML_ERROR+"_"+t.message)}else try{t.noad=this.getUrlFromTagName("Error",this.vastTag_)}catch(t){throw new Error(u.VD_ERROR_CODES.VAST_NOAD_XML_ERROR+"_"+t.message)}return t}},{key:"getMedia",value:function(t){function e(t){return"true"===t}var n={mimetype:t.getAttribute("type"),url:this.getUrl(t.textContent)},r={delivery:function(t){return t},width:parseInt,height:parseInt,bitrate:parseInt,scalable:e,maintainAspectRatio:e};return(0,_.default)(r,function(e,r){t.hasAttribute(r)&&(n[r]=e(t.getAttribute(r)))}),n}},{key:"getUrlFromTagName",value:function(t,e){var n=c.getFirstElement(t,e);return null!==n?this.getUrl(n.textContent):null}},{key:"getUrl",value:function(t){var e=t.trim();return e?d.default.format(d.default.resolve(this.baseUrl_,e)):null}},{key:"setTrackingEvents",value:function(t,e){for(var n=e.getElementsByTagName("Tracking"),r=0;r<n.length;r++){var i=n[r],o=i.getAttribute("event");if(t.trackingEvents.hasOwnProperty(o)){var a=this.getUrl(i.textContent);a&&t.trackingEvents[o].push(a)}}}},{key:"getUnorderedUrls",value:function(t,e){for(var n=[],r=e.getElementsByTagName(t),i=0;i<r.length;i++){var o=this.getUrl(r[i].textContent);null!==o&&n.push(o)}return n}}]),t}();n.default=h},{"./constants":208,"./utils":214,"./vast_parser_utils":215,"lodash/defaults":135,"lodash/forEach":141,url:4}],200:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_=r(t("./constants")),u=r(t("./utils")),l=function(t){return t&&t.__esModule?t:{default:t}}(t("./ad_vpaid")),c=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"AdVd("+t+")",u.identityWrapper));return n.ssEventListeners_={},u.forEachType(_.EVENT_TYPES,function(t,n,r){var i="on"+n+r;e.prototype[i]=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];u.getArgs(arguments);this.callSSEvent_.apply(this,[r].concat(e))}}),n}return a(e,l.default),s(e,[{key:"registerSSEventListeners_",value:function(t){var e=this;u.forEachType(_.EVENT_TYPES,function(n,r,i){var o="on"+r+i;t.subscribeSSEvent(e[o],i,e)})}},{key:"unregisterSSEventListeners_",value:function(t){u.forEachType(_.EVENT_TYPES,function(e,n,r){t.unsubscribeSSEvent(r)})}},{key:"callSSEvent_",value:function(t){var e=Array.prototype.slice.call(arguments,1);if(this.ssEventListeners_.hasOwnProperty(t))for(var n=0;n<this.ssEventListeners_[t].length;n++)this.ssEventListeners_[t][n].apply(this.ssEventListeners_[t][n],e)}},{key:"subscribeSSEvent",value:function(t,e,n){this.ssEventListeners_.hasOwnProperty(e)||(this.ssEventListeners_[e]=[]),this.ssEventListeners_[e].push(t.bind(n))}},{key:"unsubscribeSSEvent",value:function(t){this.ssEventListeners_.hasOwnProperty(t)&&(this.ssEventListeners_[t]=[])}}]),e}();n.default=c},{"./ad_vpaid":202,"./constants":208,"./utils":214}],201:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){r(this,t),this._uuid=e,this._videoSlot=null}return i(t,[{key:"videoSlot",set:function(t){this._videoSlot=t},get:function(){return this._videoSlot}}]),t}();n.default=o},{}],202:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_=r(t("./constants")),u=r(t("./utils")),l=function(t){return t&&t.__esModule?t:{default:t}}(t("./ad_event_listener")),c=function(t){function e(t,n){i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"AdVpaid("+t+")"));r.wrapper_=n,r.ad_=null,r.initParams_=null,r.creativeData_=null,r.previousVolume_=_.DEFAULT_VOLUME,r.volume_=_.DEFAULT_VOLUME,r.handshakeVersion_=_.HANDSHAKE_VERSION_2_0;for(var a in _.VPAID_EVENTS)_.VPAID_EVENTS.hasOwnProperty(a)&&e.createEventListenerPrototype(a);for(var s in _.LOG_EVENTS)_.LOG_EVENTS.hasOwnProperty(s)&&e.createLogEventListenerPrototype(s);return r}return a(e,l.default),s(e,null,[{key:"createEventListenerPrototype",value:function(t){e.prototype["on"+t]=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];u.getArgs(arguments);this.callEvent_.apply(this,[t].concat(n))}}},{key:"createLogEventListenerPrototype",value:function(t){e.prototype["on"+t]=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];u.getArgs(arguments);this.callLogEvent_.apply(this,[t].concat(n))}}}]),s(e,[{key:"handshakeVersion",value:function(t){try{if(t){var e=""+t;e.length>1&&2===parseInt(e[0])&&(this.handshakeVersion_=e)}}catch(t){}return this.handshakeVersion_}},{key:"initAd",value:function(t,e,n,r,i,o){this.initParams_={width:t,height:e,viewMode:n,desiredBitrate:r,environmentVars:o},this.creativeData_=i}},{key:"resizeAd",value:function(t,e,n){if(this.initParams_.width=t,this.initParams_.height=e,this.initParams_.viewMode=n,this.ad_)return this.wrapper_(this.ad_.resizeAd(t,e,n))}},{key:"startAd",value:function(){this.ad_&&this.wrapper_(this.ad_.startAd())}},{key:"stopAd",value:function(){if(this.ad_)return this.wrapper_(this.ad_.stopAd())}},{key:"pauseAd",value:function(){if(this.ad_)return this.wrapper_(this.ad_.pauseAd())}},{key:"resumeAd",value:function(){if(this.ad_)return this.wrapper_(this.ad_.resumeAd())}},{key:"expandAd",value:function(){if(this.ad_)return this.wrapper_(this.ad_.expandAd())}},{key:"collapseAd",value:function(){if(this.ad_)return this.wrapper_(this.ad_.collapseAd())}},{key:"skipAd",value:function(){if(this.ad_)return this.wrapper_(this.ad_.skipAd())}},{key:"getAdVolumeInternal",value:function(){return null!==this.ad_&&(this.volume_=this.wrapper_(this.ad_.getAdVolume())),this.volume_}},{key:"getAdVolume",value:function(){return this.getAdVolumeInternal()}},{key:"setAdVolumeInternal",value:function(t){this.previousVolume_=this.volume_,this.volume_=t,this.ad_&&this.wrapper_(this.ad_.setAdVolume(t))}},{key:"setAdVolume",value:function(t){this.setAdVolumeInternal(t)}},{key:"getAdExpanded",value:function(){return!this.ad_||this.wrapper_(this.ad_.getAdExpanded())}},{key:"getAdCompanions",value:function(){return this.ad_?this.wrapper_(this.ad_.getAdCompanions()):""}},{key:"getAdDuration",value:function(){return this.ad_?this.wrapper_(this.ad_.getAdDuration()):_.VPAID_CONSTANTS.UNKNOWN}},{key:"getAdHeight",value:function(){return this.ad_?this.wrapper_(this.ad_.getAdHeight()):_.VPAID_CONSTANTS.UNKNOWN}},{key:"getAdViewMode",value:function(){return this.ad_?this.wrapper_(this.ad_.getAdViewMode()):_.VPAID_CONSTANTS.UNKNOWN}},{key:"getAdIcons",value:function(){return!!this.ad_&&this.wrapper_(this.ad_.getAdIcons())}},{key:"getAdLinear",value:function(){return!this.ad_||this.wrapper_(this.ad_.getAdLinear())}},{key:"getAdRemainingTime",value:function(){return this.ad_?this.wrapper_(this.ad_.getAdRemainingTime()):_.VPAID_CONSTANTS.UNKNOWN}},{key:"getAdSkippableState",value:function(){return!!this.ad_&&this.wrapper_(this.ad_.getAdSkippableState())}},{key:"getAdWidth",value:function(){return this.ad_?this.wrapper_(this.ad_.getAdWidth()):_.VPAID_CONSTANTS.UNKNOWN}},{key:"registerVpaidEventListeners_",value:function(t){for(var e in _.VPAID_EVENTS)_.VPAID_EVENTS.hasOwnProperty(e)&&t.subscribe(this["on"+e],e,this)}},{key:"unregisterVpaidEventListeners_",value:function(t){for(var e in _.VPAID_EVENTS)_.VPAID_EVENTS.hasOwnProperty(e)&&t.unsubscribe(e)}},{key:"registerLogEventListeners_",value:function(t){for(var e in _.LOG_EVENTS)_.LOG_EVENTS.hasOwnProperty(e)&&t.subscribe(this["on"+e],e,this)}},{key:"unregisterLogEventListeners_",value:function(t){for(var e in _.LOG_EVENTS)_.LOG_EVENTS.hasOwnProperty(e)&&t.unsubscribe(e)}}]),e}();n.default=c},{"./ad_event_listener":187,"./constants":208,"./utils":214}],203:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=i(t("lodash/map")),c=r(t("./constants")),d=r(t("./utils")),h=i(t("./ad_vpaid")),f=function(t){function e(t,n,r){o(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"VpaidVideoWrapper",d.identityWrapper));return i.uuid_=t,i.vast_=n,i.videoElementManager_=r,i.lastQuartileIndex_=0,i.hasPlayedTimeout_=0,i.expanded_=!1,i.isPaused_=!1,i.metaDataLoaded_=!1,i.width_=c.VPAID_CONSTANTS.UNKNOWN,i.height_=c.VPAID_CONSTANTS.UNKNOWN,i.viewMode_=c.VPAID_CONSTANTS.UNKNOWN,i.slotListeners_={},i.videoSlotListeners_={},i.clickCounter_=0,i.isClicked_=!1,i}return s(e,h.default),_(e,[{key:"initAd",value:function(t,n,r,i,o,a){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initAd",this).call(this,t,n,r,i,o,a),this.width_=t,this.height_=n,this.viewMode_=r;try{if(!this.initParams_.environmentVars.hasOwnProperty("videoSlot")||null===this.initParams_.environmentVars.videoSlot){if(null===this.videoElementManager_.videoSlot)return void this.callFinalEvent_(c.VPAID_EVENTS.AdError,c.VD_ERROR_CODES.CREATE_VIDEO_SLOT_LOGIC_ERROR);this.initParams_.environmentVars.videoSlot=this.videoElementManager_.videoSlot,this.initParams_.environmentVars.slot.appendChild(this.initParams_.environmentVars.videoSlot)}}catch(t){return void this.callFinalEvent_(c.VPAID_EVENTS.AdError,c.VD_ERROR_CODES.CREATE_VIDEO_SLOT_ERROR)}try{this.volume_=this.initParams_.environmentVars.videoSlot.volume,this.callEvent_(c.VPAID_EVENTS.AdVolumeChange)}catch(t){return void this.callFinalEvent_(c.VPAID_EVENTS.AdError,c.VD_ERROR_CODES.GET_VOLUME_ERROR)}var s=!1;try{for(var _=0;_<this.vast_.media.length;_++){var l=this.vast_.media[_];if(d.canPlayVideo(this.initParams_.environmentVars.videoSlot,l.mimetype)){if(this.initParams_.environmentVars.videoSlot.setAttribute(c.VIDEO_ATTRIBUTES.src,l.url),this.initParams_.environmentVars.videoSlot.setAttribute(c.VIDEO_ATTRIBUTES.type,l.mimetype),this.initParams_.environmentVars.videoSlotCanAutoPlay,!1)try{this.initParams_.environmentVars.videoSlot.setAttribute(c.VIDEO_ATTRIBUTES_POSTER,l.url)}catch(t){}s=!0;break}}}catch(t){return void this.callFinalEvent_(c.VPAID_EVENTS.AdError,c.VD_ERROR_CODES.FOUND_SOURCE_ERROR)}if(s){try{this.initParams_.environmentVars.videoSlot.readyState>this.initParams_.environmentVars.videoSlot.HAVE_METADATA?this.metaDataLoaded_=!0:this.addVideoSlotEventListener_(c.VIDEO_EVENTS.loadedmetadata,this.loadedMetaDataHandler_.bind(this)),this.addVideoSlotEventListener_(c.VIDEO_EVENTS.timeupdate,this.timeUpdateHandler_.bind(this)),this.addVideoSlotEventListener_(c.VIDEO_EVENTS.ended,this.ended.bind(this))}catch(t){return void this.callFinalEvent_(c.VPAID_EVENTS.AdError,c.VD_ERROR_CODES.ADD_EVENT_LISTENERS_ERROR)}this.initParams_.environmentVars.videoSlotCanAutoPlay,1,this.callEvent_(c.VPAID_EVENTS.AdLoaded)}else this.callFinalEvent_(c.VPAID_EVENTS.AdError,c.VD_ERROR_CODES.NO_SOURCE)}},{key:"addSlotEventListener_",value:function(t,e){this.slotListeners_[t]=e,this.initParams_.environmentVars.slot.addEventListener(t,e,!1)}},{key:"addVideoSlotEventListener_",value:function(t,e){this.videoSlotListeners_[t]=e,this.initParams_.environmentVars.videoSlot.addEventListener(t,e,!1)}},{key:"callFinalEvent_",value:function(t){var n,r=this;(0,l.default)(this.videoSlotListeners_,function(t,e){r.initParams_.environmentVars.videoSlot.removeEventListener(e,t)}),this.videoSlotListeners_={},(0,l.default)(this.slotListeners_,function(t,e){r.initParams_.environmentVars.slot.removeEventListener(e,t)}),this.slotListeners_={};for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];(n=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"callEvent_",this)).call.apply(n,[this,t].concat(o))}},{key:"loadedMetaDataHandler_",value:function(){this.metaDataLoaded_=!0}},{key:"timeUpdateHandler_",value:function(){if(!(this.lastQuartileIndex_>=c.QUARTILE_EVENTS.length))for(var t=100*this.initParams_.environmentVars.videoSlot.currentTime/this.initParams_.environmentVars.videoSlot.duration;t>=c.QUARTILE_EVENTS[this.lastQuartileIndex_].value&&(this.callEvent_(c.QUARTILE_EVENTS[this.lastQuartileIndex_].event),this.lastQuartileIndex_+=1,!(this.lastQuartileIndex_>=c.QUARTILE_EVENTS.length)););}},{key:"startAd",value:function(){var t=this,e=function(){try{t.addVideoSlotEventListener_(c.VIDEO_EVENTS.click,function(t){this.adClicked()}.bind(t))}catch(e){return void t.callFinalEvent_(c.VPAID_EVENTS.AdError,c.VD_ERROR_CODES.ADD_CLICK_LISTENER)}t.initParams_.environmentVars.videoSlot.play(),t.isPlayingTimer_(),t.callEvent_(c.VPAID_EVENTS.AdStarted)};this.initParams_.environmentVars.videoSlotCanAutoPlay,e()}},{key:"isPlayingTimer_",value:function(){this.hasPlayed_()?(this.callEvent_(c.VPAID_EVENTS.AdImpression),this.hasPlayedTimeout_>0&&clearTimeout(this.hasPlayedTimeout_)):this.hasPlayedTimeout_=setTimeout(this.isPlayingTimer_.bind(this),c.RETRY_MS)}},{key:"hasPlayed_",value:function(){return this.initParams_.environmentVars.videoSlot.currentTime>0}},{key:"getAdWidth",value:function(){return this.width_}},{key:"getAdHeight",value:function(){return this.height_}},{key:"getAdViewMode",value:function(){return this.viewMode_}},{key:"getAdRemainingTime",value:function(){var t=this.getAdDuration();return null!==this.initParams_.environmentVars.videoSlot&&this.initParams_.environmentVars.videoSlot.hasOwnProperty("currentTime")&&null!==this.initParams_.environmentVars.videoSlot.currentTime&&this.initParams_.environmentVars.videoSlot.currentTime>=0?t-Math.max(this.initParams_.environmentVars.videoSlot.currentTime,t):c.VPAID_CONSTANTS.UNKNOWN}},{key:"getAdDuration",value:function(){return null!==this.initParams_.environmentVars.videoSlot&&this.initParams_.environmentVars.videoSlot.hasOwnProperty("duration")&&null!==this.initParams_.environmentVars.videoSlot.duration&&this.initParams_.environmentVars.videoSlot.duration>0?this.initParams_.environmentVars.videoSlot.duration:null!==this.vast_.duration?this.vast_.duration:c.VPAID_CONSTANTS.UNKNOWN}},{key:"getAdCompanions",value:function(){return this.vast_.companions}},{key:"getAdIcons",value:function(){return this.vast_.icons}},{key:"getAdLinear",value:function(){return this.vast_.linear}},{key:"collapseAd",value:function(){this.expanded_=!1}},{key:"expandAd",value:function(){this.expanded_=!0,this.initParams_.environmentVars.videoSlot.requestFullscreen?this.initParams_.environmentVars.videoSlot.requestFullscreen():this.initParams_.environmentVars.videoSlot.msRequestFullscreen?this.initParams_.environmentVars.videoSlot.msRequestFullscreen():this.initParams_.environmentVars.videoSlot.mozRequestFullScreen?this.initParams_.environmentVars.videoSlot.mozRequestFullScreen():this.initParams_.environmentVars.videoSlot.webkitRequestFullscreen&&this.initParams_.environmentVars.videoSlot.webkitRequestFullscreen(),this.callEvent_(c.VPAID_EVENTS.AdExpandedChange)}},{key:"getAdExpanded",value:function(){return this.expanded_}},{key:"getAdSkippableState",value:function(){return this.vast_.skipOffset===c.VPAID_CONSTANTS.NOT_IMPLEMENTED||this.getAdRemainingTime()<this.vast_.skipOffset}},{key:"skipAd",value:function(){this.getAdSkippableState()&&this.callEvent_(c.VPAID_EVENTS.AdSkipped)}},{key:"getAdVolume",value:function(){return null!==this.initParams_.environmentVars.videoSlot&&(this.volume_=this.initParams_.environmentVars.videoSlot.volume),this.volume_}},{key:"setAdVolume",value:function(t){null!==this.initParams_.environmentVars.videoSlot&&(this.initParams_.environmentVars.videoSlot.volume=t),t!==this.volume_&&(this.volume_=t,this.callEvent_(c.VPAID_EVENTS.AdVolumeChange))}},{key:"resumeAd",value:function(){this.isPaused_=!1,this.initParams_.environmentVars.videoSlot.play(),this.callEvent_(c.VPAID_EVENTS.AdPlaying)}},{key:"pauseAd",value:function(){this.isPaused_=!0,this.initParams_.environmentVars.videoSlot.pause(),this.callEvent_(c.VPAID_EVENTS.AdPaused)}},{key:"resizeAd",value:function(t,e,n){this.width_===t&&this.height_===e&&this.viewMode_===n||(this.width_=t,this.height_=e,this.viewMode_=n,this.callEvent_(c.VPAID_EVENTS.AdSizeChange))}},{key:"stopAd",value:function(){var t=this;this.hasPlayedTimeout_>0&&clearTimeout(this.hasPlayedTimeout_),setTimeout(function(){t.callFinalEvent_(c.VPAID_EVENTS.AdStopped)},c.STOP_AD_TIMEOUT)}},{key:"ended",value:function(t){this.callEvent_(c.VPAID_EVENTS.AdVideoComplete),this.stopAd()}},{key:"adClicked",value:function(){this.vast_.clickThrough&&(!1===this.isPaused_?(this.pauseAd(),this.callEvent_(c.VPAID_EVENTS.AdClickThru,this.vast_.clickThrough,"adClickId-"+this.clickCounter_++,!1),window.open(this.vast_.clickThrough,"_blank")):this.resumeAd())}}]),e}();n.default=f},{"./ad_vpaid":202,"./constants":208,"./utils":214,"lodash/map":165}],204:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=i(t("lodash/defaults")),l=i(t("lodash/forEach")),c=i(t("./ad_state")),d=i(t("./ad_container")),h=r(t("./constants")),f=r(t("./utils")),p=i(t("../../../timeouts.json")),E=function(t){function e(t,n,r,i){o(this,e);var s=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"BroadcastQueue",t,r));s._cabinet=t,s.waterfallIdx_=i,s.adContainers_=[];for(var _=0;_<n.length;_++){var l=n[_],c=new d.default(t,_,(0,u.default)({url:f.promoteProtocol(l.url,f.getProtocol(t.manifest.secure))},l),r);s.registerLogEventListeners_(c),s.registerSSEventListeners_(c),s.adContainers_.push(c),s.vastRequestTimer_=h.NO_TIMER}return s.broadcastState_=h.BROADCAST_STATES.INIT,s}return s(e,c.default),_(e,[{key:"load",value:function(){var t=this;this.broadcastState_=h.BROADCAST_STATES.REQUESTING,this.vastRequestTimer_=setTimeout(function(){t.callSSEvent_(h.BROADCAST_EVENTS.VastRequestTimerTimeout),t.nextVpaid(),t.vastRequestTimer_=h.NO_TIMER},p.default.BROADCAST_VAST_REQUEST_TIMEOUT);var e=this._cabinet.getStateInfo(this.initParams_);this._cabinet.timeoutManager.startResponse(this.waterfallIdx_),(0,l.default)(this.adContainers_,function(t){t.requestVast(e)})}},{key:"finishBroadcast",value:function(){this.maybeClearRequestTimeout()}},{key:"maybeClearRequestTimeout",value:function(){this.vastRequestTimer_!==h.NO_TIMER&&(clearTimeout(this.vastRequestTimer_),this.vastRequestTimer_=h.NO_TIMER)}},{key:"onSlotVastDone",value:function(t,e){this.nextVpaid()}},{key:"nextVpaid",value:function(){if(this.broadcastState_===h.BROADCAST_STATES.REQUESTING){for(var t=0;t<this.adContainers_.length;t++){var e=this.adContainers_[t].getAdSlotState();if([h.SLOT_STATES.REQUESTING_VPAID].indexOf(e)>-1)return;if(this.vastRequestTimer_!==h.NO_TIMER&&[h.SLOT_STATES.REQUESTING_VAST].indexOf(e)>-1)return;if(e===h.SLOT_STATES.VAST_READY)return void this.callSSEvent_(h.BROADCAST_EVENTS.VastReady,t)}this.broadcastState_=h.BROADCAST_STATES.DONE,this.callSSEvent_(h.BROADCAST_EVENTS.Done)}}},{key:"getAdContainer",value:function(t){return this.adContainers_[t]}}]),e}();n.default=E},{"../../../timeouts.json":219,"./ad_container":184,"./ad_state":196,"./constants":208,"./utils":214,"lodash/defaults":135,"lodash/forEach":141}],205:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=r(t("./utils")),s=r(t("./state_info")),_=function(){function t(e,n,r,o,s,_,u){i(this,t),this._endpoint=e,this._pixelUrl=n,this._flashBridgeUrl=r,this._posterUrl=o,this._forceSecure=s,this._version=_,this._timeouts=u,this._historyManager=a.getHistoryManager(),this._videoElementManager=null,this._locationInfo=null,this._manifest=null,this._timeoutManager=null,this._jsBridgeManager=null}return o(t,[{key:"getStateInfo",value:function(t){return s.getStateInfo(t,this._manifest.width,this._manifest.height)}},{key:"isSizeMatch",value:function(t){return a.sizeMatch(this._manifest,t)}},{key:"endpoint",get:function(){return this._endpoint}},{key:"pixelUrl",get:function(){return this._pixelUrl}},{key:"flashBridgeUrl",get:function(){return this._flashBridgeUrl}},{key:"posterUrl",get:function(){return this._posterUrl}},{key:"forceSecure",get:function(){return this._forceSecure}},{key:"version",get:function(){return this._version}},{key:"historyManager",get:function(){return this._historyManager}},{key:"manifest",get:function(){return this._manifest},set:function(t){this._manifest=t}},{key:"timeoutManager",get:function(){return this._timeoutManager},set:function(t){this._timeoutManager=t}},{key:"videoElementManager",get:function(){return this._videoElementManager},set:function(t){this._videoElementManager=t}},{key:"locationInfo",get:function(){return this._locationInfo},set:function(t){this._locationInfo=t}},{key:"jsBridgeManager",get:function(){return this._jsBridgeManager},set:function(t){this._jsBridgeManager=t}},{key:"timeouts",get:function(){return this._timeouts}},{key:"uuid",get:function(){return this._manifest?this._manifest.uuid:null}},{key:"isDomainMatch",get:function(){return a.domainMatch(this._manifest,this._locationInfo)}}]),t}();n.default=_},{"./state_info":213,"./utils":214}],206:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(t("./call_chain_link")),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./constants")),s=function(){function t(e){if(r(this,t),/[^0-9a-z\-_.]/.test(e))throw new Error(a.CALL_CHAIN_ERRORS.INVALID_CALL_CHAIN);this._callChainLinks=[];for(var n=e.split(a.CALL_CHAIN_LINK_SEPARATOR),i=0;i<n.length;i++){var s=n[i].split(a.CALL_CHAIN_VARIABLE_SEPARATOR);if(s.length<2)throw new Error(a.CALL_CHAIN_ERRORS.NOT_A_VALID_CALL_CHAIN_LINK);for(var _=0,u=null,l=null,c=null,d=[],h=0;h<s.length;h++){if(2!==(u=s[h].split(a.CALL_CHAIN_VARIABLE_ID_SEPARATOR)).length)throw new Error(a.CALL_CHAIN_ERRORS.INVALID_CALL_CHAIN_LINK_GENERAL);if(l=u[0],c=parseInt(u[1]),isNaN(c)||0===c)throw new Error(a.CALL_CHAIN_ERRORS.INVALID_CALL_CHAIN_ID);if(/[^a-z]/.test(l)||l.length<1)throw new Error(a.CALL_CHAIN_ERRORS.INVALID_CALL_CHAIN_TAG);switch(l){case a.CALL_CHAIN_IDENTIFIERS.SUPPLY:_=c;break;default:d.push({id:c,tag:l})}}if(0===_)throw new Error(a.CALL_CHAIN_ERRORS.INVALID_CALL_CHAIN_LINK_NO_SUPPLY_TAG);this._callChainLinks.push(new o.default(_,d))}}return i(t,[{key:"toString",value:function(){return this.callChainLinkStrings.join(a.CALL_CHAIN_LINK_SEPARATOR)}},{key:"toVidIoString",value:function(){return this.vidIoCallChainLinkStrings.join(a.CALL_CHAIN_LINK_SEPARATOR)}},{key:"getCurrentCallChainBySupplyTag",value:function(t,e){for(var n=0;n<this._callChainLinks.length;n++)if(this._callChainLinks[n].supplyTagId===t){if(e)return this.callChainLinkStrings.slice(0,n+1).join(a.CALL_CHAIN_LINK_SEPARATOR);var r=this.callChainLinkStrings.slice(0,n).join(a.CALL_CHAIN_LINK_SEPARATOR);return r+(r.length>0?a.CALL_CHAIN_LINK_SEPARATOR:"")+a.CALL_CHAIN_IDENTIFIERS.SUPPLY+a.CALL_CHAIN_VARIABLE_ID_SEPARATOR+t}throw new Error(a.CALL_CHAIN_ERRORS.NO_SUPPLY_TAG_FOUND,t,e)}},{key:"getCallChainIndices",value:function(t,e){for(var n=[],r=this.callChainLinks,i=r.length,o=0;o<i;o++){var a=this.getCurrentCallChainBySupplyTag(r[o].supplyTagId,!0);(!t.hasOwnProperty(a)||e&&o===i-1)&&(t[a]=!0,n.push(o))}return n}},{key:"getSupplyTagHistory",value:function(t){for(var e=[],n=this.callChainLinks,r=0;r<n.length;r++){var i=this.getCurrentCallChainBySupplyTag(n[r].supplyTagId,!1);t.hasOwnProperty(i)||(t[i]=!0,e.push(r))}return e}},{key:"callChainLinks",get:function(){return this._callChainLinks}},{key:"callChainLinkStrings",get:function(){for(var t=[],e=0;e<this._callChainLinks.length;e++)t.push(this._callChainLinks[e].toString());return t}},{key:"vidIoCallChainLinkStrings",get:function(){for(var t=[],e=0;e<this._callChainLinks.length;e++)t.push(this._callChainLinks[e].toVidIoString());return t}}]),t}();n.default=s},{"./call_chain_link":207,"./constants":208}],207:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=r(t("lodash/map")),s=r(t("lodash/join")),_=r(t("lodash/find")),u=r(t("lodash/filter")),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./constants")),c=function(){function t(e,n){i(this,t),this._supplyTagId=e,this._otherTags=n}return o(t,[{key:"getFirstOtherTagId",value:function(t){var e=(0,_.default)(this._otherTags,function(e){return e.tag===t});return e?e.id:0}},{key:"getString",value:function(t){var e=[{id:this.supplyTagId,tag:l.CALL_CHAIN_IDENTIFIERS.SUPPLY}].concat(t),n=(0,a.default)(e,function(t){return t.tag+l.CALL_CHAIN_VARIABLE_ID_SEPARATOR+t.id});return(0,s.default)(n,l.CALL_CHAIN_VARIABLE_SEPARATOR)}},{key:"toString",value:function(){return this.getString(this.otherTags)}},{key:"toVidIoString",value:function(){return this.getString((0,u.default)(this.otherTags,function(t){return!l.CALL_CHAIN_IDENTIFIER_BLACKLIST.hasOwnProperty(t.tag)}))}},{key:"supplyTagId",get:function(){return this._supplyTagId}},{key:"demandTagId",get:function(){return this.getFirstOtherTagId(l.CALL_CHAIN_IDENTIFIERS.DEMAND)}},{key:"otherTags",get:function(){return this._otherTags}}]),t}();n.default=c},{"./constants":208,"lodash/filter":138,"lodash/find":139,"lodash/join":162,"lodash/map":165}],208:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getVastPixels=function(){return{errorPixels:[],impressionPixels:[],clickTracking:[],trackingEvents:{creativeView:[],start:[],firstQuartile:[],midpoint:[],thirdQuartile:[],complete:[],mute:[],unmute:[],pause:[],rewind:[],resume:[],fullscreen:[],exitFullscreen:[],expand:[],collapse:[],acceptInvitationLinear:[],acceptInvitation:[],closeLinear:[],skip:[],progress:[]}}};n.DEFAULT_DURATION=30,n.NO_TIMEOUT=1e9,n.NO_MAX_WRAPPERS=100,n.HANDSHAKE_VERSION_1_0="1.0",n.HANDSHAKE_VERSION_2_0="2.0",n.MOAT_DUMMY_VALUE=1,n.DIGEST_LENGTH=8,n.DEFAULT_VOLUME=1,n.ALLOW_SCRIPTS="allow-scripts",n.DEMAND_TYPES={UNKNOWN:0,FLASH_VPAID:1,JS_VPAID:2,VIDEO:3,BOTH:4};var r=n.VID_IO_EVENTS={ad_request:"ad_request",js_opportunity:"js_opportunity",js_demand_request:"js_demand_request",js_demand_response:"js_demand_response",js_demand_opportunity:"js_demand_opportunity",js_demand_error:"js_demand_error",js_demand_missed_opportunity:"js_demand_missed_opportunity",js_impression:"js_impression",js_supply_error:"js_supply_error",js_click:"js_click",js_first_quartile:"js_first_quartile",js_midpoint:"js_midpoint",js_third_quartile:"js_third_quartile",js_complete:"js_complete"},i=(n.PIXEL_MUTEX_EVENTS={js_impression:"js_impression",js_supply_error:"js_supply_error"},n.PIXEL_ONCE_EVENTS={js_click:"js_click",js_first_quartile:"js_first_quartile",js_midpoint:"js_midpoint",js_third_quartile:"js_third_quartile",js_complete:"js_complete"},n.MANIFEST_PARSE_ERRORS={PIMPS:"PIMPS",UUID:"UUID",SECURE:"SECURE",AID:"AID",SUPPLY_TAG_ID:"SUPPLY_TAG_ID",TO:"TO",V:"V",COUNTRY:"COUNTRY",SSID:"SSID",WIDTH:"WIDTH",HEIGHT:"HEIGHT",DOMAIN:"DOMAIN",IMP_PXL:"IMP_PXL",TD:"TD",TS:"TS",URLPARAMS:"URLPARAMS",OL:"OL",OV:"OV",SSC_PV:"SSC_PV",SSC_TO:"SSC_TO",PP:"PP",DX_ARRAY:"DX_ARRAY",BROADCAST_ARRAY:"BROADCAST_ARRAY",WATERFALL_OBJECT:"WATERFALL_OBJECT",WATERFALL_ID:"WATERFALL_ID",WATERFALL_URL:"WATERFALL_URL",WATERFALL_TO:"WATERFALL_TO",WATERFALL_A_CC:"WATERFALL_A_CC",WATERFALL_TD:"WATERFALL_TD",WATERFALL_TS:"WATERFALL_TS",WATERFALL_SSC_F:"WATERFALL_SSC_F",WATERFALL_SSC_ID:"WATERFALL_SSC_ID",WATERFALL_PIXELS_OBJECT:"WATERFALL_PIXELS_OBJECT",WATERFALL_PIXELS_VPAID_EVENT:"WATERFALL_PIXELS_VPAID_EVENT",WATERFALL_PIXELS_ARRAY:"WATERFALL_PIXELS_ARRAY",WATERFALL_PIXELS_URL:"WATERFALL_PIXELS_URL",WATERFALL_CALL_CHAIN:"WATERFALL_CALL_CHAIN",WATERFALL_CALL_CHAIN_2:"WATERFALL_CALL_CHAIN_2",WATERFALL_PREDECESSORS:"WATERFALL_PREDECESSORS",WATERFALL_PREDECESSORS_2:"WATERFALL_PREDECESSORS_2",WATERFALL_OL:"WATERFALL_OL",PASSTHRU:"PASSTHRU",PIXELS_OBJECT:"PIXELS_OBJECT",PIXELS_INVALID_EVENT:"PIXELS_INVALID_EVENT",PIXELS_ARRAY:"PIXELS_ARRAY",PIXELS_URL:"PIXELS_URL"},n.CALL_CHAIN_ERRORS={INVALID_CALL_CHAIN:"INVALID_CALL_CHAIN",INVALID_SUPPLY_DEMAND_PAIR:"INVALID_SUPPLY_DEMAND_PAIR",NO_SUPPLY_TAG_FOUND:"NO_SUPPLY_TAG_FOUND",INVALID_CALL_CHAIN_LINK_GENERAL:"INVALID_CALL_CHAIN_LINK_GENERAL",INVALID_CALL_CHAIN_LINK:"INVALID_CALL_CHAIN_LINK",INVALID_CALL_CHAIN_ID:"INVALID_CALL_CHAIN_ID",INVALID_CALL_CHAIN_TAG:"INVALID_CALL_CHAIN_TAG",INVALID_CALL_CHAIN_LINK_NO_SUPPLY_TAG:"INVALID_CALL_CHAIN_LINK_NO_SUPPLY_TAG",NOT_A_VALID_CALL_CHAIN_LINK:"NOT_A_VALID_CALL_CHAIN_LINK"},n.VD_ERROR_CODES={TIMEOUT_MANAGER_INIT_ERROR:"TIMEOUT_MANAGER_INIT_ERROR",VIDEO_ELEMENT_MANAGER_INIT_ERROR:"VIDEO_ELEMENT_MANAGER_INIT_ERROR",PROCESSOR_INIT_ERROR:"PROCESSOR_INIT_ERROR",SSC_RESULT_MANAGER_INIT_ERROR:"SSC_RESULT_MANAGER_INIT_ERROR",INIT_AD_ERROR:"INIT_AD_ERROR",SCRIPT_ON_ERROR:"SCRIPT_ON_ERROR",IFRAME_ON_ERROR:"IFRAME_ON_ERROR",AD_ERROR:"AD_ERROR",JSON_PARSE_ERROR:"JSON_PARSE_ERROR",JSON_PARSE_UNKNOWN_ERROR:"JSON_PARSE_UNKNOWN_ERROR",JSON_PARSE_UNKNOWN_ERROR_2:"JSON_PARSE_UNKNOWN_ERROR_2",MANIFEST_PARSE_ERROR:"MANIFEST_PARSE_ERROR",LOCATION_DATA_PARSE_ERROR:"LOCATION_DATA_PARSE_ERROR",MANIFEST_PARSE_UNKNOWN_ERROR:"MANIFEST_PARSE_UNKNOWN_ERROR",MANIFEST_PARSE_UNKNOWN_ERROR_2:"MANIFEST_PARSE_UNKNOWN_ERROR_2",JSON_RESPONSE_PARSE_ERROR:"JSON_RESPONSE_PARSE_ERROR",JSON_MANIFEST_PARSE_ERROR:"JSON_MANIFEST_PARSE_ERROR",JSON_TIMEOUT:"JSON_TIMEOUT",NO_FILL:"NO_FILL",PLAY_ERROR:"PLAY_ERROR",NO_RESPONSES:"NO_RESPONSES",STOP_AD_CALLED:"STOP_AD_CALLED",SKIP_AD_CALLED:"SKIP_AD_CALLED",NO_SOURCE:"NO_SOURCE",UNKNOWN_REJECTION:"UNKNOWN_REJECTION",VAST_ERROR_EVENT:"VAST_ERROR_EVENT",VPAID_TIMEOUT:"VPAID_TIMEOUT",VIDEO_TIMEOUT:"VIDEO_TIMEOUT",IS_PLAYING_TIMEOUT:"IS_PLAYING_TIMEOUT",NO_XHR:"NO_XHR",BAD_XHR_STATUS:"BAD_XHR_STATUS",FLASH_DISABLED:"FLASH_DISABLED",FLASH_NOT_SUPPORTED:"FLASH_NOT_SUPPORTED",UNSUPPORTED_MEDIA:"UNSUPPORTED_MEDIA",EMPTY_VAST:"EMPTY_VAST",VAST_TIMEOUT:"VAST_TIMEOUT",TOO_MANY_WRAPPERS:"TOO_MANY_WRAPPERS",VASTS_NO_TIME:"VASTS_NO_TIME",AD_STOPPED:"AD_STOPPED",AD_SKIPPED:"AD_SKIPPED",AD_TIMEOUT:"AD_TIMEOUT",XHR_ERROR:"XHR_ERROR",DEMAND_TAG_ERROR:"DEMAND_TAG_ERROR",SUPPLY_TAG_TIMEOUT:"SUPPLY_TAG_TIMEOUT",DEMAND_PARTNER_TIMEOUT:"DEMAND_PARTNER_TIMEOUT",DTO_TIMEOUT:"DTO_TIMEOUT",FLASH_DISPLAY_LOAD_ERROR:"FLASH_DISPLAY_LOAD_ERROR",VAST_LOGIC_ERROR:"VAST_LOGIC_ERROR",CHILD_HANDSHAKE_ERROR:"CHILD_HANDSHAKE_ERROR",CHILD_INIT_AD_ERROR:"CHILD_INIT_AD_ERROR",CHILD_SET_VOLUME_ERROR:"CHILD_SET_VOLUME_ERROR",VAST_WRAPPER_BEGIN_ERROR:"VAST_WRAPPER_BEGIN_ERROR",JS_VPAID_BEGIN_ERROR:"JS_VPAID_BEGIN_ERROR",GET_JS_VPAID_AD_ERROR:"GET_JS_VPAID_AD_ERROR",CREATE_VIDEO_SLOT_ERROR:"CREATE_VIDEO_SLOT_ERROR",GET_VOLUME_ERROR:"GET_VOLUME_ERROR",ADD_CLICK_LISTENER:"ADD_CLICK_LISTENER",FOUND_SOURCE_ERROR:"FOUND_SOURCE_ERROR",ADD_EVENT_LISTENERS_ERROR:"ADD_EVENT_LISTENERS_ERROR",RESPONSE_XML_NULL:"RESPONSE_XML_NULL",DOM_PARSER_PARSE_FAILURE:"RESPONSE_PARSE_FAILURE",JS_VPAID_EMBED_FAIL:"JS_VPAID_EMBED_FAIL",AD_BRIDGE_CREATE_ERROR:"AD_BRIDGE_CREATE_ERROR",JS_VPAID_BRIDGE_LOAD_ERROR:"JS_VPAID_BRIDGE_LOAD_ERROR",JS_VPAID_BRIDGE_SUBSCRIBE_FAIL:"JS_VPAID_BRIDGE_SUBSCRIBE_FAIL",CREATE_VIDEO_SLOT_LOGIC_ERROR:"CREATE_VIDEO_SLOT_LOGIC_ERROR",VAST_IMPRESSION_PIXELS_ERROR:"VAST_IMPRESSION_PIXELS_ERROR",VAST_ERROR_PIXELS_ERROR:"VAST_ERROR_PIXELS_ERROR",VAST_IS_LINEAR_XML_ERROR:"VAST_IS_LINEAR_XML_ERROR",VAST_IS_WRAPPER_XML_ERROR:"VAST_IS_WRAPPER_XML_ERROR",VAST_NOAD_XML_ERROR:"VAST_NOAD_XML_ERROR",VAST_ERROR_ORTB_DETAIL:"VAST_ERROR_ORTB_DETAIL",VAST_ERROR_EXTENSIONS:"VAST_ERROR_EXTENSIONS",FIND_VIDEO_AD_EXCEPTION:"FIND_VIDEO_AD_EXCEPTION",CREATE_VIDEO_ELEMENT_EXCEPTION:"CREATE_VIDEO_ELEMENT_EXCEPTION",CAN_PLAY_VIDEO_EXCEPTION:"CAN_PLAY_VIDEO_EXCEPTION",JS_DEMAND_RESPONSE_EXCEPTION:"JS_DEMAND_RESPONSE_EXCEPTION",VAST_ONLOAD_EXCEPTION:"VAST_ONLOAD_EXCEPTION",EXTEND_VAST_EXCEPTION:"EXTEND_VAST_EXCEPTION",VAST_GET_LINEAR_WRAPPER_XML_ERROR:"VAST_GET_LINEAR_WRAPPER_XML_ERROR",INIT_AD_STATE_INFO_ERROR:"INIT_AD_STATE_INFO_ERROR",INIT_AD_TD_MISMATCH_ERROR:"INIT_AD_TD_MISMATCH_ERROR",INIT_AD_TS_MISMATCH_ERROR:"INIT_AD_TS_MISMATCH_ERROR",INIT_AD_GET_NEW_AD_PARAMETERS_ERROR:"INIT_AD_GET_NEW_AD_PARAMETERS_ERROR",INIT_AD_POST_INIT_ERROR:"INIT_AD_POST_INIT_ERROR",PRE_INIT_STATE_INFO_FAIL:"PRE_INIT_STATE_INFO_FAIL",PRE_INIT_TD_MISMATCH_FAIL:"PRE_INIT_TD_MISMATCH_FAIL",PRE_INIT_TS_MISMATCH_FAIL:"PRE_INIT_TS_MISMATCH_FAIL",PRE_INIT_MISSED_OPPORTUNITY_FAIL:"PRE_INIT_MISSED_OPPORTUNITY_FAIL",POST_INIT_WATERFALL_CHECK_ERROR:"POST_INIT_WATERFALL_CHECK_ERROR",DO_GET_VAST_RESPONSE_START_RESPONSE_FAIL:"DO_GET_VAST_RESPONSE_START_RESPONSE_FAIL",AD_VAST_GET_TIMEOUT_INFO_FAIL:"AD_VAST_GET_TIMEOUT_INFO_FAIL",AD_VAST_GET_OPTIONS_FAIL:"AD_VAST_GET_OPTIONS_FAIL",AD_VAST_GET_CALL_CHAIN_VARS_FAIL:"AD_VAST_GET_CALL_CHAIN_VARS_FAIL",AD_VAST_SEND_AD_REQUEST_FAIL:"AD_VAST_SEND_AD_REQUEST_FAIL",AD_VAST_GV_FAIL:"AD_VAST_GV_FAIL",SSC_NO_XHR:"SSC_NO_XHR",SSC_TIMEOUT:"SSC_TIMEOUT",SSC_BAD_XHR_STATUS:"SSC_BAD_XHR_STATUS",SSC_JSON_PARSE_ERROR:"SSC_JSON_PARSE_ERROR",SSC_RESULT_ERROR:"SSC_RESULT_ERROR",SSC_XHR_ERROR:"SSC_XHR_ERROR",SSC_UNKNOWN_ERROR:"SSC_UNKNOWN_ERROR",SSC_UNKNOWN_ERROR_2:"SSC_UNKNOWN_ERROR_2",SSC_MAKE_DEMAND_REQUEST_ERROR:"SSC_MAKE_DEMAND_REQUEST_ERROR",SSC_MAKE_DEMAND_REQUEST_ERROR_2:"SSC_MAKE_DEMAND_REQUEST_ERROR_2",SSC_JS_VPAID_BR_ERROR:"SSC_JS_VPAID_BR_ERROR",SSC_JS_VPAID_BR_ERROR_2:"SSC_JS_VPAID_BR_ERROR_2",SSC_CALL_LOG_EVENT_ERROR:"SSC_CALL_LOG_EVENT_ERROR",NOT_JS_DEMAND_RESPONSE:"NOT_JS_DEMAND_RESPONSE",ALREADY_SENT_DEMAND_RESPONSE:"ALREADY_SENT_DEMAND_RESPONSE",NEED_SSC_RESULT_IN_AD_CONTAINER:"NEED_SSC_RESULT_IN_AD_CONTAINER",JS_VPAID_BRIDGE_BEGIN_ERROR:"JS_VPAID_BRIDGE_BEGIN_ERROR",JS_BRIDGE_MANAGER_CREATE_ERROR:"JS_BRIDGE_MANAGER_CREATE_ERROR"},n.VPAID_EVENTS={AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLoaded:"AdLoaded",AdLinearChange:"AdLinearChange",AdSizeChange:"AdSizeChange",AdExpandedChange:"AdExpandedChange",AdSkippableStateChange:"AdSkippableStateChange",AdDurationChange:"AdDurationChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError",AdLog:"AdLog"}),o=(n.MANIFEST_PIXEL_EVENTS={initAd:"initAd"},n.PIXEL_EVENTS={AdStarted:"AdStarted",AdImpression:"AdImpression",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLoaded:"AdLoaded",AdError:"AdError",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdUserAcceptInvitation:"AdUserAcceptInvitation"},n.VPAID_FINAL_EVENTS={AdError:"AdError",AdStopped:"AdStopped",AdSkipped:"AdSkipped"},n.VPAID_ONCE_EVENTS={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete"},n.VIDEO_EVENTS={abort:"abort",canplay:"canplay",canplaythrough:"canplaythrough",click:"click",durationchange:"durationchange",emptied:"emptied",ended:"ended",error:"error",loadeddata:"loadeddata",loadedmetadata:"loadedmetadata",loadstart:"loadstart",pause:"pause",play:"play",playing:"playing",progress:"progress",ratechange:"ratechange",suspend:"suspend",seeked:"seeked",seeking:"seeking",timeupdate:"timeupdate",waiting:"waiting"},n.ELEMENT_EVENTS={click:"click"},n.VIDEO_ATTRIBUTES={currentTime:"currentTime",duration:"duration",ended:"ended",paused:"paused",playbackRate:"playbackRate",src:"src",type:"type"},n.VIDEO_ATTRIBUTES_POSTER="poster",n.VPAID_CONSTANTS={NOT_IMPLEMENTED:-1,UNKNOWN:-2},n.VID_IO_PARAMS={instanceId:"instanceId",event:"event",dtidx:"dtidx",dtnum:"dtnum",yh_id:"yh_id",platform:"platform",bv:"bv",cb:"cb",timestamp:"timestamp",id:"id",aid:"aid",d:"d",w:"w",h:"h",cc:"cc",v:"v",ol:"ol",ov:"ov",uuid:"uuid",auctionCallChain:"a_cc",callChainIndicies:"cc_i",initialStage_notnull:"i_sn",initialStage_w:"i_w",initialStage_h:"i_h",initialStageWidth:"i_sw",initialStageHeight:"i_sh",initialStageDisplayState:"i_sds",initialStateInfoExternalInterface__objectID:"i_E_o",initialStateInfoExternalInterface__available:"i_E_a",initialStateInfoExternalInterface__error__getQualifiedClassName:"i_E_e",initialNo_element:"i_ne",initialOffsetWidth:"i_ow",initialOffsetHeight:"i_oh",initialClientWidth:"i_cw",initialClientHeight:"i_ch",initialScrollWidth:"i_Sw",initialScrollHeight:"i_Sh",initialGetBoundingClientRect__left:"i_bl",initialGetBoundingClientRect__top:"i_bt",initialGetBoundingClientRect__right:"i_br",initialGetBoundingClientRect__bottom:"i_bb",initialVpaidWidth:"vw",initialVpaidHeight:"vh",initialVpaidViewMode:"i_vv",inView:"in_v",loaderInfo__swfVersion:"l_s",loaderInfo__loaderURL:"l_l",loaderInfo__actionScriptVersion:"l_a",ExternalInterface__available:"E_a",ExternalInterface__error__getQualifiedClassName:"E_e",window__top__location__href:"d_wtlh",window__location__href:"d_wlh",window__top__location:"d_wtl",window__location__ancestorOrigins:"d_wla",Security__pageDomain:"d_Sp",document__referrer:"d_dr",ancestorOrigins:"d_ao",parentHostnames:"d_ph",domain_match:"d_m",domain_match_source:"d_ms",overflow_required:"o_r",overflow_optional:"o_o",overflow_exclude:"o_e",environmentInfoError:"e_e",stage_notnull:"s_sn",stage_w:"s_w",stage_h:"s_h",stageWidth:"s_sw",stageHeight:"s_sh",stageDisplayState:"s_sds",stateInfoExternalInterface__objectID:"s_E_o",stateInfoExternalInterface__available:"s_E_a",stateInfoExternalInterface__error__getQualifiedClassName:"s_E_e",no_element:"s_ne",offsetWidth:"s_ow",offsetHeight:"s_oh",clientWidth:"s_cw",clientHeight:"s_ch",scrollWidth:"s_Sw",scrollHeight:"s_Sh",getBoundingClientRect__left:"s_bl",getBoundingClientRect__top:"s_bt",getBoundingClientRect__right:"s_br",getBoundingClientRect__bottom:"s_bb",vpaidWidth:"s_vw",vpaidHeight:"s_vh",vpaidViewMode:"s_vv",detected_size_width:"ds_w",detected_size_height:"ds_h",detected_size_match_source:"ds_ms"},n.SSC_FAILED=-1,n.SSC_NOT_BLOCKED=0,n.SSC_NO_ID=0,n.SSC_TO={UNKNOWN:-1,NOT_CALLED:0,TIMEOUT:1,ERROR:2,NON_ERROR:3,OTHER:4},n.NO_PP=-1,n.VIEW_MODE_NORMAL="normal",n.MAX_URL_LENGTH=2e3,n.MAX_URL_LENGTH_IE=2083,n.MAX_URL_LENGTH_APACHE=8190,n.OTHER_PIXEL_PARAMS={response_time:"response_time",reason:"reason",has_ad:"has_ad",wrapper_count:"wrapper_count",time_on_page:"time_on_page",request_time:"request_time",timeout:"timeout",child_handshake_version:"child_handshake_version",creativeData:"creativeData",location:"location",message:"message"},n.TRACKING_EVENTS={creativeView:[],start:[],firstQuartile:[],midpoint:[],thirdQuartile:[],complete:[],mute:[],unmute:[],pause:[],rewind:[],resume:[],fullscreen:[],exitFullscreen:[],expand:[],collapse:[],acceptInvitationLinear:[],acceptInvitation:[],closeLinear:[],skip:[],progress:[]},n.VAST_ERRORCODES={VAST_ERRORCODE_100:100,VAST_ERRORCODE_101:101,VAST_ERRORCODE_102:102,VAST_ERRORCODE_200:200,VAST_ERRORCODE_201:201,VAST_ERRORCODE_202:202,VAST_ERRORCODE_203:203,VAST_ERRORCODE_300:300,VAST_ERRORCODE_301:301,VAST_ERRORCODE_302:302,VAST_ERRORCODE_303:303,VAST_ERRORCODE_400:400,VAST_ERRORCODE_401:401,VAST_ERRORCODE_402:402,VAST_ERRORCODE_403:403,VAST_ERRORCODE_405:405,VAST_ERRORCODE_500:500,VAST_ERRORCODE_501:501,VAST_ERRORCODE_502:502,VAST_ERRORCODE_503:503,VAST_ERRORCODE_600:600,VAST_ERRORCODE_601:601,VAST_ERRORCODE_602:602,VAST_ERRORCODE_603:603,VAST_ERRORCODE_604:604,VAST_ERRORCODE_900:900,VAST_ERRORCODE_901:901},n.VAST_MACROS={ERRORCODE:"[ERRORCODE]",CACHEBUSTING:"[CACHEBUSTING]"},n.QUARTILE_EVENTS=[{event:i.AdVideoStart,pixel:null,value:0},{event:i.AdVideoFirstQuartile,pixel:r.js_first_quartile,value:25},{event:i.AdVideoMidpoint,pixel:r.js_midpoint,value:50},{event:i.AdVideoThirdQuartile,pixel:r.js_third_quartile,value:75}],n.RETRY_MS=200,n.STOP_AD_TIMEOUT=75,n.PROCESSOR_STATES={begin:0,AdLoaded:1,AdStarted:2,AdStopped:3},n.VOLUME_EVENTS={AdLoaded:!0,AdStarted:!0,AdVideoStart:!0},n.LOG_EVENTS={SSC_INIT:"SSC_INIT",MOAT_INIT:"MOAT_INIT",IAS_INIT:"IAS_INIT",CREATE_VIDEO_SLOT:"CREATE_VIDEO_SLOT",CREATE_VIDEO_SLOT_LOGIC_ERROR:"CREATE_VIDEO_SLOT_LOGIC_ERROR",CREATE_VAST_VIDEO_SLOT:"CREATE_VAST_VIDEO_SLOT",CREATE_VIDEO_SLOT_ERROR:"CREATE_VIDEO_SLOT_ERROR",BRIDGE_SHOW:"BRIDGE_SHOW",BRIDGE_HIDE:"BRIDGE_HIDE",JS_VPAID_SLOT_CLICK:"JS_VPAID_SLOT_CLICK",VPAID_VIDEO_WRAPPER_SLOT_CLICK:"VPAID_VIDEO_WRAPPER_SLOT_CLICK",FLASH_BRIDGE_SLOT_CLICK:"FLASH_BRIDGE_SLOT_CLICK",JS_VPAID_VIDEO_SLOT_CLICK:"JS_VPAID_VIDEO_SLOT_CLICK",SSC_ENDPOINT:"SSC_ENDPOINT",SSC_VALID_EVENT:"SSC_VALID_EVENT",VAST_FIRE_PIXEL:"VAST_FIRE_PIXEL",VAST_FIRE_PIXEL_ERROR:"VAST_FIRE_PIXEL_ERROR"},n.FLASH_DIV_ID="vdDiv",n.FLASH_OBJECT_ID="vdObj",n.BRIDGE_EVENTS={EMBED_SUCCESS:"EMBED_SUCCESS",EMBED_FAIL:"EMBED_FAIL",SWF_IS_READY:"SWF_IS_READY",SWF_IS_READY_TIMEOUT:"SWF_IS_READY_TIMEOUT"},n.CREATIVE_TYPES={MEDIA:"MEDIA",JS_VPAID:"JS_VPAID",XFLV:"XFLV",FLASH_VPAID:"FLASH_VPAID"},n.VAST_PIXEL_TYPES={VAST_ERROR:"VAST_ERROR",VAST_IMPRESSION:"VAST_IMPRESSION",VAST_CLICKTRACKING:"VAST_CLICKTRACKING",VAST_CREATIVEVIEW:"VAST_CREATIVEVIEW",VAST_START:"VAST_START",VAST_FIRSTQUARTILE:"VAST_FIRSTQUARTILE",VAST_MIDPOINT:"VAST_MIDPOINT",VAST_THIRDQUARTILE:"VAST_THIRDQUARTILE",VAST_COMPLETE:"VAST_COMPLETE",VAST_MUTE:"VAST_MUTE",VAST_UNMUTE:"VAST_UNMUTE",VAST_PAUSE:"VAST_PAUSE",VAST_REWIND:"VAST_REWIND",VAST_RESUME:"VAST_RESUME",VAST_FULLSCREEN:"VAST_FULLSCREEN",VAST_EXITFULLSCREEN:"VAST_EXITFULLSCREEN",VAST_EXPAND:"VAST_EXPAND",VAST_COLLAPSE:"VAST_COLLAPSE",VAST_ACCEPTINVITATIONLINEAR:"VAST_ACCEPTINVITATIONLINEAR",VAST_ACCEPTINVITATION:"VAST_ACCEPTINVITATION",VAST_CLOSELINEAR:"VAST_CLOSELINEAR",VAST_SKIP:"VAST_SKIP",VAST_PROGRESS:"VAST_PROGRESS"},n.JSON_PIXEL_PARAMS={url:"url",w:"w",h:"h",declaredDomain:"decl_d",declaredWidth:"decl_w",declaredHeight:"decl_h",detectedDomain:"det_d",detectedWidth:"det_w",detectedHeight:"det_h",fullUrl:"fullUrl",td:"td",ts:"ts",cb:"cb"},n.ERROR_LOG_EVENT="ERROR_LOG_EVENT",n.IAS_EXTRA_PARAMS={aCc:"a_cc",aId:"advId",country:"country",declaredDomain:"decl_d",declaredWidth:"decl_w",declaredHeight:"decl_h",detectedDomain:"det_d",detectedWidth:"det_w",detectedHeight:"det_h",ssId:"ssid"},n.IAS_EVENTS={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdSkippableStateChange:"AdSkippableStateChange",AdDurationChange:"AdDurationChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError"},n.ORTB_DETAIL="ortb-detail",n.CALL_CHAIN_IDENTIFIERS={SUPPLY:"s",DEMAND:"d",ACCOUNT:"a"},n.CALL_CHAIN_IDENTIFIER_BLACKLIST={sf:!0,a:!0},n.SIZE={XS:0,S:250,M:350,L:500,XL:800,UNKNOWN:-1},n.POSTER_SIZES={"16:9":[{width:426,height:240,filename:"426x240"},{width:640,height:360,filename:"640x360"},{width:720,height:480,filename:"720x480"},{width:1280,height:720,filename:"1280x720"},{width:1920,height:1080,filename:"1920x1080"}],"4:3":[{width:176,height:144,filename:"176x144"},{width:320,height:240,filename:"320x240"},{width:480,height:360,filename:"480x360"},{width:640,height:480,filename:"640x480"},{width:1280,height:960,filename:"1280x960"}]},n.CALL_CHAIN_LINK_SEPARATOR="_",n.CALL_CHAIN_VARIABLE_SEPARATOR="-",n.CALL_CHAIN_VARIABLE_ID_SEPARATOR=".",n.SLOT_STATES={DEMAND_TAG_READY:"DEMAND_TAG_READY",REQUESTING_VAST:"REQUESTING_VAST",NO_VAST:"NO_VAST",VAST_READY:"VAST_READY",REQUESTING_VPAID:"REQUESTING_VPAID",VPAID_FAILED:"VPAID_FAILED"},n.SLOT_EVENTS={VastDone:"VastDone"}),a=(n.BROADCAST_STATES={INIT:"INIT",REQUESTING:"REQUESTING",DONE:"DONE"},n.BROADCAST_EVENTS={VastReady:"VastReady",Done:"Done",VastRequestTimerTimeout:"VastRequestTimerTimeout"});n.EVENT_TYPES={_:r,Slot:o,Broadcast:a},n.TRUST_BUT_VERIFY_MACROS={DETECTED_DOMAIN:"{{DETECTED_DOMAIN}}",DETECTED_URL:"{{DETECTED_URL}}",DETECTED_ENCODED_URL:"{{DETECTED_ENCODED_URL}}",DETECTED_DOUBLE_ENCODED_URL:"{{DETECTED_DOUBLE_ENCODED_URL}}",DETECTED_HEIGHT:"{{DETECTED_HEIGHT}}",DETECTED_WIDTH:"{{DETECTED_WIDTH}}",DETECTED_IN_VIEW:"{{IS_INVIEW}}",DETECTED_IS_VISIBLE:"{{IS_VISIBLE}}"},n.VIEWABILITY={UNKNOWN:-1,NOT_VIEWABLE:0,VIEWABLE:1},n.DEMAND_PARTNER_MACROS={D_WIDTH:"{{D_WIDTH}}",D_HEIGHT:"{{D_HEIGHT}}"},n.NO_TIMER=0,n.POST_IMP_PROVIDER_ID_IAS="i",n.POST_IMP_PROVIDER_ID_MOAT="m",n.POST_IMP_PROVIDER_ID_WHITEOPS="w"},{}],209:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){r(this,t),this.mutexEvents_=e,this.onceEvents_=n,this.sentFinalEvent_=!1,this.sentOnceEvent_={}}return i(t,[{key:"sendEventType",value:function(t){var e=void 0;return this.isMutexEvent(t)?(e=this.sentFinalEvent(),this.sentFinalEvent_=!0,!e):!this.isOnceEvent(t)||(e=this.sentOnceEvent(t),this.sentOnceEvent_[t]=!0,!e)}},{key:"sentFinalEvent",value:function(){return this.sentFinalEvent_}},{key:"sentOnceEvent",value:function(t){return this.sentOnceEvent_.hasOwnProperty(t)&&this.sentOnceEvent_[t]}},{key:"isMutexEvent",value:function(t){return this.mutexEvents_.hasOwnProperty(t)}},{key:"isOnceEvent",value:function(t){return this.onceEvents_.hasOwnProperty(t)}}]),t}();n.default=o},{}],210:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.initMoatTracking=function(t,e,n,r,i){return function(t,e,n,r,i){var o=document.createElement("script"),a=[];e={adData:{ids:e,duration:n,url:i},dispatchEvent:function(t){this.sendEvent?(a&&(a.push(t),t=a,a=!1),this.sendEvent(t)):a.push(t)}},n="_moatApi"+Math.floor(1e8*Math.random());var s=void 0,_=void 0;try{s=t.ownerDocument,_=s.defaultView||s.parentWindow}catch(t){s=document,_=window}return _[n]=e,o.type="text/javascript",t&&t.insertBefore(o,t.childNodes[0]||null),o.src="https://z.moatads.com/"+r+"/moatvideo.js#"+n,e}(t,e,n,r,i)}},{}],211:[function(t,e,n){"use strict";function r(t,e,n){var r=t.pimps,o=(r.s||{})[n]||[],a=(r.d||{})[n]||[],s=e.supplyTagId,_=e.demandTagId;return(0,i.default)(o,s)>-1||(0,i.default)(a,_)>-1}Object.defineProperty(n,"__esModule",{value:!0}),n.shouldFireLink=r,n.shouldFire=function(t,e,n){for(var i=e.callChain.callChainLinks,o=0;o<i.length;o++)if(r(t,i[o],n))return!0;return!1};var i=function(t){return t&&t.__esModule?t:{default:t}}(t("lodash/indexOf"))},{"lodash/indexOf":145}],212:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e,n,r,i,o){var s={ai:o,si:e.supplyTagId,sr:e.demandTagId,dm:n+"x"+r,di:t.domain,c1:i,ui:t.ssid,r1:e.toString(),ti:t.uuid,gt:t.country,dt:_.default.dt};return t.hasOwnProperty("pimps")&&(t.pimps.hasOwnProperty("w_pv")&&""!==t.pimps.w_pv&&(s.pv=t.pimps.w_pv),t.pimps.hasOwnProperty("w_to")&&t.pimps.w_to>a.SSC_TO.UNKNOWN&&(s.to=t.pimps.w_to)),s}function o(t,e,n,r,o){for(var s=[],_=e.callChain.callChainLinks,l=0;l<_.length;l++){var c=_[l];if(u.shouldFireLink(t,c,a.POST_IMP_PROVIDER_ID_WHITEOPS)){var d=void 0;d=0===l?t.aid:c.getFirstOtherTagId(a.CALL_CHAIN_IDENTIFIERS.ACCOUNT),s.push(i(t,c,n,r,o,d))}}return s}Object.defineProperty(n,"__esModule",{value:!0}),n.getDatas=o,n.load=function(t,e,n,r,i,a,u){for(var l=o(e,n,r,i,a),c=0;c<l.length;c++)s.addScript(t,s.makeUrl(s.getProtocol(u),_.default.url,l[c]));return l};var a=r(t("./constants")),s=r(t("./utils")),_=function(t){return t&&t.__esModule?t:{default:t}}(t("../../../ssc.json")),u=r(t("./post_imp_detection"))},{"../../../ssc.json":218,"./constants":208,"./post_imp_detection":211,"./utils":214}],213:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getStateInfo=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(t("lodash/isElement"));n.getStateInfo=function(t,e,n){var i=t.width,o=t.height,a=t.environmentVars.videoSlot;(0,r.default)(a)||(a=t.environmentVars.slot);var s={no_element:null,offsetWidth:null,offsetHeight:null,clientWidth:null,clientHeight:null,detectedHeight:null,detectedWidth:null,detectedSizeSource:null,scrollWidth:null,scrollHeight:null,getBoundingClientRect__left:null,getBoundingClientRect__top:null,getBoundingClientRect__right:null,getBoundingClientRect__bottom:null,other:{}};try{window.jwplayer&&(s.other.jwplayer_version=window.jwplayer.version),window.vidible&&(s.other.vidible_version=window.vidible.version()),window.videojs&&(s.other.videojs_version=videojs.VERSION),window.google&&window.google.ima&&(s.other.google_ima_version=window.google.ima.VERSION)}catch(t){}try{if(s.no_element=null===a,!s.no_element&&(0,r.default)(a)){s.offsetWidth=a.offsetWidth,s.offsetHeight=a.offsetHeight,s.clientWidth=a.clientWidth,s.clientHeight=a.clientHeight,s.scrollWidth=a.scrollWidth,s.scrollHeight=a.scrollHeight;var _=a.getBoundingClientRect();null!==_&&(s.getBoundingClientRect__left=_.left,s.getBoundingClientRect__top=_.top,s.getBoundingClientRect__right=_.right,s.getBoundingClientRect__bottom=_.bottom)}else s.clientWidth=i||e,s.clientHeight=o||n;isNaN(parseFloat(s.clientWidth))?s.detectedWidth=i:s.detectedWidth=parseFloat(s.clientWidth),isNaN(parseFloat(s.clientHeight))?s.detectedHeight=o:s.detectedHeight=parseFloat(s.clientHeight),s.detectedSizeSource=isNaN(parseFloat(s.clientHeight))?"vpaid":"client"}catch(t){}return s}},{"lodash/isElement":151}],214:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return t?p:E}function o(t,e,n){var r=t+"//"+e;if(null===n)return r;var i=[];for(var o in n)n.hasOwnProperty(o)&&i.push(o+"="+encodeURIComponent(n[o]));return r+"?"+i.join("&")}function a(t,e){var n=t.createElement("img");n.src=e,n.style.width="1px",n.style.height="1px",n.style.display="none",t.body.appendChild(n)}function s(t){return null!==t.getElementsByTagName("script")?t.getElementsByTagName("script")[0]:null}function _(t){return isNaN(t)||t<0?f.SIZE.UNKNOWN:t<f.SIZE.S?f.SIZE.XS:t<f.SIZE.M?f.SIZE.S:t<=f.SIZE.L?f.SIZE.M:t<f.SIZE.XL?f.SIZE.L:f.SIZE.XL}function u(t,e){return 3*t/e>4?"16:9":"4:3"}function l(t){return(0,h.default)(t)&&0===t.indexOf("www.")?t.substr(4):t}Object.defineProperty(n,"__esModule",{value:!0}),n.INSECURE_PROTOCOL=n.SECURE_PROTOCOL=void 0,n.getCb=function(){return Math.floor(1e7*Math.random())},n.getProtocol=i,n.promoteProtocol=function(t,e){return e===p&&function(e,n,r){return t.substr(r||0,n.length)===n}(0,E)?e+t.substr(E.length):t},n.makeUrl=o,n.addImage=a,n.firePixels=function(t,e){if((0,c.default)(e))for(var n=0;n<e.length;n++)a(t,e[n])},n.checkVPAIDInterface=function(t){return t.handshakeVersion&&"function"==typeof t.handshakeVersion&&t.initAd&&"function"==typeof t.initAd&&t.startAd&&"function"==typeof t.startAd&&t.stopAd&&"function"==typeof t.stopAd&&t.skipAd&&"function"==typeof t.skipAd&&t.resizeAd&&"function"==typeof t.resizeAd&&t.pauseAd&&"function"==typeof t.pauseAd&&t.resumeAd&&"function"==typeof t.resumeAd&&t.expandAd&&"function"==typeof t.expandAd&&t.collapseAd&&"function"==typeof t.collapseAd&&t.subscribe&&"function"==typeof t.subscribe&&t.unsubscribe&&"function"==typeof t.unsubscribe&&t.getAdVolume&&"function"==typeof t.getAdVolume&&t.getAdExpanded&&"function"==typeof t.getAdExpanded&&t.getAdCompanions&&"function"==typeof t.getAdCompanions&&t.getAdDuration&&"function"==typeof t.getAdDuration&&t.getAdHeight&&"function"==typeof t.getAdHeight&&t.getAdIcons&&"function"==typeof t.getAdIcons&&t.getAdLinear&&"function"==typeof t.getAdLinear&&t.getAdRemainingTime&&"function"==typeof t.getAdRemainingTime&&t.getAdSkippableState&&"function"==typeof t.getAdSkippableState&&t.getAdWidth&&"function"==typeof t.getAdWidth},n.getRequestMethod=function(t,e){var n=new XMLHttpRequest,r=!1;if("withCredentials"in n)n.open("GET",t,!0),e&&(n.withCredentials=!0,r=!0);else{if("undefined"==typeof XDomainRequest)return null;(n=new XDomainRequest).open("GET",t)}return{xhr:n,withCredentials:r}},n.canPlayVideo=function(t,e){return t.canPlayType&&""!==t.canPlayType(e).replace(/no/,"")||!t.canPlayType},n.getDigest=function(t){return t&&t.length>f.DIGEST_LENGTH?t.slice(0,f.DIGEST_LENGTH):t},n.getArgs=function(t){return Array.prototype.slice.call(t,0)},n.getDocumentAndWindow=function(t){var e=void 0,n=void 0;try{e=t.ownerDocument,n=e.defaultView||e.parentWindow}catch(t){e=document,n=window}return null!==e&&null!==n||(e=document,n=window),{document:e,window:n}},n.getScriptLocation=s,n.addScript=function(t,e){var n=t.createElement("script");n.type="text/javascript",n.async=!0;var r=s(t);null!==r?r.parentNode.insertBefore(n,r):t.head.appendChild(n),n.src=e},n.printError=function(t){return t.fileName+":"+t.lineNumber+" "+t.message},n.getSize=_,n.sizeMatch=function(t,e){return _(t.width)===_(e.detectedWidth)},n.isBc=function(t,e){var n=e.slice(0,e.indexOf(":"))+"://"+t+"/bc/";return 0===e.indexOf(n)},n.getORtbElement=function(t,e,n){try{var r=t.getElementsByTagName(e)[0].textContent.trim();try{return n(r)}catch(t){return r}}catch(t){return""}},n.getHistoryManager=function(){return{demand_events:{request:{},response:{},opportunity:{},error:{}},blockedRequests:{},supplyTagOpportunities:{}}},n.identityWrapper=function(t){return t},n.forEachType=function(t,e){(0,d.default)(t,function(t,n){(0,d.default)(t,function(t,r){e(t,n,r)})})},n.getClosestAspectRatio=u,n.getPosterFilename=function(t,e){for(var n=f.POSTER_SIZES[u(t,e)],r=0;r<n.length;r++){var i=n[r];if(t<=i.width)return i.filename}return n[n.length-1].filename},n.getPoster=function(t,e,n){return o(i(t),e+n+".jpg",null)},n.cleanDomain=l,n.domainMatch=function(t,e){return l(t.domain)===l(e.domain_match)};var c=r(t("lodash/isArray")),d=r(t("lodash/forEach")),h=r(t("lodash/isString")),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./constants")),p=n.SECURE_PROTOCOL="https:",E=n.INSECURE_PROTOCOL="http:"},{"./constants":208,"lodash/forEach":141,"lodash/isArray":147,"lodash/isString":159}],215:[function(t,e,n){"use strict";function r(t,e){var n=e.getElementsByTagName(t);return n.length>0?n[0]:null}function i(t){var e=t.trim().split(":");if(3!==e.length)return null;var n=e[2].split("."),r=parseInt(n[0]);2===n.length&&(r+=parseFloat("0."+n[1]));var i=60*parseInt(e[1]),o=60*parseInt(e[0])*60;return isNaN(o)||isNaN(i)||isNaN(r)||i>3600||r>60?null:o+i+r}Object.defineProperty(n,"__esModule",{value:!0}),n.getFirstElement=r,n.getTextFromTagName=function(t,e){var n=r(t,e);if(null!==n){var i=n.textContent.trim();if(""!==i)return i}return null},n.parseDuration=i,n.getSkipOffset=function(t,e){var n=t.trim();return"%"===n[n.length-1]?null!==e&&e>0?parseFloat(n)/100*e:null:i(n)}},{}],216:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(t("lodash/defaults")),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./constants")),s=function(){function t(e,n,i){r(this,t),this.pixelNotifier_=e,this.historyManager_=n,this.demandTag_=i}return i(t,[{key:"send",value:function(t,e,n,r){this.pixelNotifier_(t,e,n,r)}},{key:"internalError",value:function(t,e){this.send(a.VID_IO_EVENTS.js_demand_response,this.demandTag_,{cc_i:this.demandTag_.callChain.getCallChainIndices(this.historyManager_.demand_events.response,!0).join(","),response_time:0,wrapper_count:0,has_ad:!1,timeout:e,reason:t,dtype:a.DEMAND_TYPES.UNKNOWN},null)}},{key:"missedOpportunity",value:function(t,e){this.send(a.VID_IO_EVENTS.js_demand_missed_opportunity,this.demandTag_,{cc_i:this.demandTag_.callChain.getCallChainIndices(this.historyManager_.demand_events.opportunity,!0).join(","),td:t,ts:e},null)}},{key:"fireChain",value:function(t,e){for(var n=e.callChain.getSupplyTagHistory(this.historyManager_.supplyTagOpportunities),r=e.callChain.callChainLinks,i=0;i<n.length;i++){var o=n[i];if(o>0){var s=r[o].supplyTagId;this.send(a.VID_IO_EVENTS.ad_request,null,t,s),this.send(a.VID_IO_EVENTS.js_opportunity,null,t,s)}}}},{key:"fireFlashDemandRequest",value:function(t,e,n){var r=(0,o.default)({},t);null!==n&&(r.cc_i=n.join(",")),this.send(a.VID_IO_EVENTS.js_demand_request,e,r)}},{key:"fireFlashDemandResponse",value:function(t,e){this.send(a.VID_IO_EVENTS.js_demand_response,e,t)}},{key:"demandRequest",value:function(t){this.fireChain(t,this.demandTag_),this.fireFlashDemandRequest(t,this.demandTag_,this.demandTag_.callChain.getCallChainIndices(this.historyManager_.demand_events.request,!0))}}]),t}();n.default=s},{"./constants":208,"lodash/defaults":135}],217:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){u=t}Object.defineProperty(n,"__esModule",{value:!0}),n.ViewabilityDetection=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n._set=i,n.init=function(t,e,n){i(new _(t,e));var r=n||function(){u._hasBeenDetected=!0};return u.setViewRightNow(r),u.poll(),u},n.detector=function(){return u};var a=function(t){return t&&t.__esModule?t:{default:t}}(t("lodash/isElement"));t("oath-viewability/dist/clj");var s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./constants")),_=n.ViewabilityDetection=function(){function t(e,n){r(this,t),this.slot=e,this.doc=n||document,this._isInView=s.VIEWABILITY.UNKNOWN,this._viewablePercent=-1,this._tabIsInView=!0,this._hasBeenDetected=!1,this.hiddenAttribute=null,this.visibilityChangeEvent=null}return o(t,[{key:"setViewRightNow",value:function(t){var e=this;(0,a.default)(this.slot)&&window.oath.viewability.then(function(n){e._viewablePercent=n.getPercent(e.slot),e._isInView=n.getVisible(e.slot),e._hasBeenDetected=!0,t()}).catch(function(e){t()})}},{key:"poll",value:function(){var t=this;setInterval(function(){t.setViewRightNow(function(){})},1e3)}},{key:"hasBeenDetected",get:function(){return this._hasBeenDetected}},{key:"viewabilityPercent",get:function(){return this._viewablePercent}},{key:"isInView",get:function(){return this._isInView}}]),t}(),u=null},{"./constants":208,"lodash/isElement":151,"oath-viewability/dist/clj":177}],218:[function(t,e,n){e.exports={url:"s.update.morgdog.springserve.com/2/465673/analytics.js",dt:"4656731475874383737000"}},{}],219:[function(t,e,n){e.exports={MAX_WRAPPERS:10,VAST_TIMEOUT:3e3,VASTS_TIMEOUT:15e3,VPAID_SCRIPT_TIMEOUT:5e3,SUPPLY_ERROR_PIXEL_TIMEOUT:1e3,JSON_TIMEOUT:2e4,SSC_TIMEOUT:2e4,BROADCAST_VAST_REQUEST_TIMEOUT:1e3}},{}]},{},[192])(192)});