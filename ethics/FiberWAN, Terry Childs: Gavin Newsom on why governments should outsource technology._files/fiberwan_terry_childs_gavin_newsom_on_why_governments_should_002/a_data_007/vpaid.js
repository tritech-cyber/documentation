function getBuildInfo(){return"version:2.1.2 build:UNKNOWN date:2017-10-31 14:58:00"}function initMoatTrackingLegacy(e,t,i,a,s){var r=document.createElement("script"),n=[];t={adData:{ids:t,duration:i,url:s},dispatchEvent:function(e){this.sendEvent?(n&&(n.push(e),e=n,n=!1),this.sendEvent(e)):n.push(e)}},i="_moatApi"+Math.floor(1e8*Math.random());var o,l;try{o=e.ownerDocument,l=o.defaultView||o.parentWindow}catch(d){o=document,l=window}return l[i]=t,r.type="text/javascript",e&&e.insertBefore(r,e.childNodes[0]||null),r.src="https://z.moatads.com/"+a+"/moatvideo.js#"+i,t}var ADG=ADG||{};ADG.html5={},ADG.html5.addPackageName=function(e){for(var t=e.split("."),i=this,a=0;a<t.length;a++)i[t[a]]=i[t[a]]||{},i=i[t[a]]},ADG.html5.getPackage=function(name){return this.addPackageName(name),eval("this."+name)},function(e,t){"use strict";var i="0.7.12",a="",s="?",r="function",n="undefined",o="object",l="string",d="major",c="model",u="name",m="type",h="vendor",g="version",p="architecture",A="console",v="mobile",f="tablet",w="smarttv",b="wearable",C="embedded",E={extend:function(e,t){var i={};for(var a in e)i[a]=t[a]&&t[a].length%2===0?t[a].concat(e[a]):e[a];return i},has:function(e,t){return"string"==typeof e?t.toLowerCase().indexOf(e.toLowerCase())!==-1:!1},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===l?e.replace(/[^\d\.]/g,"").split(".")[0]:t},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},y={rgx:function(){var e,i,a,s,n,l,d={},c=0,u=arguments;for(a=0;a<u[1].length;a++)s=u[1][a],d[typeof s===o?s[0]:s]=t;for(;c<u.length&&!n;){var m=u[c],h=u[c+1];for(e=i=0;e<m.length&&!n;)if(n=m[e++].exec(this.getUA()))for(a=0;a<h.length;a++)l=n[++i],s=h[a],typeof s===o&&s.length>0?2===s.length?d[s[0]]=typeof s[1]===r?s[1].call(this,l):s[1]:3===s.length?d[s[0]]=typeof s[1]!==r||s[1].exec&&s[1].test?l?l.replace(s[1],s[2]):t:l?s[1].call(this,l,s[2]):t:4===s.length&&(d[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):t):d[s]=l?l:t;c+=2}return d},str:function(e,i){for(var a in i)if(typeof i[a]===o&&i[a].length>0){for(var r=0;r<i[a].length;r++)if(E.has(i[a][r],e))return a===s?t:a}else if(E.has(i[a],e))return a===s?t:a;return e}},T={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},k={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[u,g],[/(opios)[\/\s]+([\w\.]+)/i],[[u,"Opera Mini"],g],[/\s(opr)\/([\w\.]+)/i],[[u,"Opera"],g],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[u,g],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[u,"IE"],g],[/(edge)\/((\d+)?[\w\.]+)/i],[u,g],[/(yabrowser)\/([\w\.]+)/i],[[u,"Yandex"],g],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],g],[/(micromessenger)\/([\w\.]+)/i],[[u,"WeChat"],g],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[g,[u,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[u,/(.+)/,"$1 WebView"],g],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[g,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[u,g],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[[u,"UCBrowser"],g],[/(dolfin)\/([\w\.]+)/i],[[u,"Dolphin"],g],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[u,"Chrome"],g],[/;fbav\/([\w\.]+);/i],[g,[u,"Facebook"]],[/fxios\/([\w\.-]+)/i],[g,[u,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[g,[u,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[g,u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[u,[g,y.str,T.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[u,g],[/(navigator|netscape)\/([\w\.-]+)/i],[[u,"Netscape"],g],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[u,g]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,E.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[p,/ower/,"",E.lowerize]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[p,E.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[c,h,[m,f]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[h,"Apple"],[m,f]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[h,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[h,c,[m,f]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[c,[h,"Amazon"],[m,f]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[c,y.str,T.device.amazon.model],[h,"Amazon"],[m,v]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,h,[m,v]],[/\((ip[honed|\s\w*]+);/i],[c,[h,"Apple"],[m,v]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[h,c,[m,v]],[/\(bb10;\s(\w+)/i],[c,[h,"BlackBerry"],[m,v]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[c,[h,"Asus"],[m,f]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[h,"Sony"],[c,"Xperia Tablet"],[m,f]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[h,"Sony"],[c,"Xperia Phone"],[m,v]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[h,c,[m,A]],[/android.+;\s(shield)\sbuild/i],[c,[h,"Nvidia"],[m,A]],[/(playstation\s[34portablevi]+)/i],[c,[h,"Sony"],[m,A]],[/(sprint\s(\w+))/i],[[h,y.str,T.device.sprint.vendor],[c,y.str,T.device.sprint.model],[m,v]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[h,c,[m,f]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[h,[c,/_/g," "],[m,v]],[/(nexus\s9)/i],[c,[h,"HTC"],[m,f]],[/(nexus\s6p)/i],[c,[h,"Huawei"],[m,v]],[/(microsoft);\s(lumia[\s\w]+)/i],[h,c,[m,v]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[h,"Microsoft"],[m,A]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[h,"Microsoft"],[m,v]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[h,"Motorola"],[m,v]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[h,"Motorola"],[m,f]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[h,E.trim],[c,E.trim],[m,w]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[h,"Samsung"],[m,w]],[/\(dtv[\);].+(aquos)/i],[c,[h,"Sharp"],[m,w]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[h,"Samsung"],c,[m,f]],[/smart-tv.+(samsung)/i],[h,[m,w],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[h,"Samsung"],c,[m,v]],[/sie-(\w+)*/i],[c,[h,"Siemens"],[m,v]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[h,"Nokia"],c,[m,v]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[c,[h,"Acer"],[m,f]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[h,"LG"],c,[m,f]],[/(lg) netcast\.tv/i],[h,c,[m,w]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[c,[h,"LG"],[m,v]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[h,"Lenovo"],[m,f]],[/linux;.+((jolla));/i],[h,c,[m,v]],[/((pebble))app\/[\d\.]+\s/i],[h,c,[m,b]],[/android.+;\s(glass)\s\d/i],[c,[h,"Google"],[m,b]],[/android.+;\s(pixel c)\s/i],[c,[h,"Google"],[m,f]],[/android.+;\s(pixel xl|pixel)\s/i],[c,[h,"Google"],[m,v]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[c,/_/g," "],[h,"Xiaomi"],[m,v]],[/android.+a000(1)\s+build/i],[c,[h,"OnePlus"],[m,v]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[m,E.lowerize],h,c]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[g,[u,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,g],[/rv\:([\w\.]+).*(gecko)/i],[g,u]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[u,g],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[u,[g,y.str,T.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[g,y.str,T.os.windows.version]],[/\((bb)(10);/i],[[u,"BlackBerry"],g],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[u,g],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[u,"Symbian"],g],[/\((series40);/i],[u],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"],g],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[u,g],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium OS"],g],[/(sunos)\s?([\w\.]+\d)*/i],[[u,"Solaris"],g],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[u,g],[/(haiku)\s(\w+)/i],[u,g],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[u,"iOS"],[g,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[u,"Mac OS"],[g,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[u,g]]},x=function(t,i){if(!(this instanceof x))return new x(t,i).getResult();var s=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:a),r=i?E.extend(k,i):k;return this.getBrowser=function(){var e=y.rgx.apply(this,r.browser);return e.major=E.major(e.version),e},this.getCPU=function(){return y.rgx.apply(this,r.cpu)},this.getDevice=function(){return y.rgx.apply(this,r.device)},this.getEngine=function(){return y.rgx.apply(this,r.engine)},this.getOS=function(){return y.rgx.apply(this,r.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return s},this.setUA=function(e){return s=e,this},this};x.VERSION=i,x.BROWSER={NAME:u,MAJOR:d,VERSION:g},x.CPU={ARCHITECTURE:p},x.DEVICE={MODEL:c,VENDOR:h,TYPE:m,CONSOLE:A,MOBILE:v,SMARTTV:w,TABLET:f,WEARABLE:b,EMBEDDED:C},x.ENGINE={NAME:u,VERSION:g},x.OS={NAME:u,VERSION:g},typeof exports!==n?(typeof module!==n&&module.exports&&(exports=module.exports=x),exports.UAParser=x):typeof define===r&&define.amd?define(function(){return x}):e.UAParser=x;var D=e.jQuery||e.Zepto;if(typeof D!==n){var I=new x;D.ua=I.getResult(),D.ua.get=function(){return I.getUA()},D.ua.set=function(e){I.setUA(e);var t=I.getResult();for(var i in t)D.ua[i]=t[i]}}}("object"==typeof window?window:this);var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils");Package.Utils=Package.Utils||function(){var e=["rockyou.com","gourmetads.com","ad.manager.s3.amazonaws.com"],t=function(e){return null==e},i=function(e){return!t(e)&&Array.isArray(e)},a=function(e,t){try{if("object"!=typeof e)throw"::mergeObjects() -- Invalid type Error ["+typeof e+"] given as 1st parameter.  Arguments must be of type 'object'";if("object"!=typeof t)throw"::mergeObjects() -- Invalid type Error ["+typeof t+"] given as 2nd parameter.  Arguments must be of type 'object'";var i={};for(var a in e)i[a]=e[a];for(var s in t)i[s]=t[s];return i}catch(r){return log.error(r),null}},s=function(){var e=function(){},a=function(t,a){if(!r(t))if(i(t)){if(t.length>0)for(var s=0;s<t.length;s++)try{a(t[s],s)}catch(n){if(n instanceof e)break}}else a(t,0)},s=function(t,i){if(!r(t))for(var a in t)if(t.hasOwnProperty(a))try{i(a,t[a])}catch(s){if(s instanceof e)break}},r=function(e){if(t(e))return!0;if(i(e))return!(e.length>0);try{return!Object.keys(e).length}catch(a){}return!0},n=function(e,a){return r(e)?!1:i(e)?e.indexOf(a)>-1:e.hasOwnProperty(a)&&!t(e[a])},o=function(e){for(var t,i,a=e.length;0!==a;)i=Math.floor(Math.random()*a),a-=1,t=e[a],e[a]=e[i],e[i]=t;return e};return{each:a,eachMap:s,Break:e,isNullOrEmpty:r,contains:n,shuffle:o}}(),r=function(){var e;try{e=window.top.location.href}catch(t){}if(!e)try{e=window.location.href}catch(t){}return e||""},n=function(){var e=document.referrer;try{e=window.top.document.referrer}catch(t){if(window.parent)try{e=window.parent.document.referrer}catch(t){}}if(!e&&window.opener)try{e=window.opener.location.href}catch(t){}return e||""},o=function(){var t=!1,i=ADG.html5.com.genesismedia.admanager.utils.Url.parse(r()).host;return e.some(function(e){return i.search(e)>=0?(t=!0,!0):!1}),t},l=function(e){var t="",i=e||r();if(null!=i&&""!=i){var a=/:\/\/(.[^\/]+)/;t=i.match(a)[1];for(var s,n=t.split(".").reverse(),o=new Array,l=0;l<n.length&&(s=n[l],o.push(s),2==s.length&&2==String(n[0]).length||!(o.length>1));l++);t=o.reverse().join(".")}return t};return{isNull:t,isArray:i,mergeObjects:a,Iterable:s,"break":s.Break,each:s.each,getPageUrl:r,getRefererUrl:n,getRootDomain:l,pt:o}}();var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils"),Class=Package.GUIDUtils={};Class.create=function(){var e=(new Date).getTime();window.performance&&"function"==typeof window.performance.now&&(e+=performance.now());var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:3&i|8).toString(16)});return t};var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils");Package.JSUtils=function(){this.classConstructor=arguments.callee,this.classConstructor.injectJS=function(e,t){var i=function(e,t){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,t.appendChild(i)};e&&(ADG.html5.com.genesismedia.admanager.utils.Logger.log("injectJS(): "+e),Array.isArray(e)?e.map(function(e){i(e,t)}):i(e,t))}},new Package.JSUtils;var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils");Package.Logger=function(){this.classConstructor=arguments.callee,this.classConstructor.devMode=!1,this.classConstructor.FATAL=1e3,this.classConstructor.ERROR=8,this.classConstructor.WARN=6,this.classConstructor.INFO=4,this.classConstructor.DEBUG=2,this.classConstructor.ALL=0,this.classConstructor.getLevelString=function(e){switch(e){case this.FATAL:return"FATAL";case this.ERROR:return"ERROR";case this.WARN:return"WARN";case this.INFO:return"INFO";case this.DEBUG:return"DEBUG";case this.ALL:return"ALL";default:return"UNKNOWN_LEVEL"}},this.classConstructor.serverLogLevel=this.ERROR,this.classConstructor.infoBeaconCt=0,this.eventTracker=null,this.classConstructor.fnServerBeaconCall=function(e,t){var i={category:this.getLevelString(e),name:this.infoBeaconCt.toString(),message:t},a=window.btoa(JSON.stringify(i));this.eventTracker&&this.eventTracker.track({evt:"AdError",em:a})},this.classConstructor.setEventTracker=function(e){this.eventTracker=e},this.classConstructor.setDevMode=function(e){this.devMode=e},this.classConstructor.setServerLogLevel=function(e){this.log("setServerLogLevel: "+e),"number"==typeof e&&(this.serverLogLevel=e)},this.classConstructor.output=function(e,t){this.infoBeaconCt++;var i="["+this.getLevelString(e)+"] "+t;this.devMode&&console.log(i),e>=this.serverLogLevel&&this.fnServerBeaconCall(e,i)},this.classConstructor.log=function(e){this.output(this.DEBUG,e)},this.classConstructor.debug=function(e){this.output(this.DEBUG,e)},this.classConstructor.warn=function(e){this.output(this.WARN,e)},this.classConstructor.error=function(e){this.output(this.ERROR,e)},this.classConstructor.info=function(e){this.output(this.INFO,e)},this.classConstructor.event=function(e){this.output(this.ALL+e)}},new Package.Logger;var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils");Package.MDotHelper=function(){function e(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,document.getElementsByTagName("head")[0].appendChild(t)}this.classConstructor=arguments.callee;var t=ADG.html5.com.genesismedia.admanager.events.KibanaTracker,i="http://b.voicefive.com/c2/19765422/rs.js#c1=3&amp;c3=19765422_vme&amp;c4=[CAMPAIGNID]&amp;c5=[PLACMENTID]&amp;c6=gam&amp;c10=1&amp;c11=&amp;c13=&amp;c16=gen&amp;ax_vme=2&amp";this.load=function(a){var s=i.replace("[CAMPAIGNID]",a.mediaGuid||"");s=s.replace("[PLACMENTID]",a.placementGuid||""),s=s.replace("[GENESISDOMAIN]",t.DOCUMENT_HOST),e(s)}};var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils"),Class=Package.NumberUtils={};Class.getRandomNum=function(e,t){return Math.floor(Math.random()*(1+t-e))+e},Class.getRandomNumWithException=function(e,t,i){for(var a=this.getRandomNum(e,t);a==i;)a=this.getRandomNum(e,t);return a},Class.msTommmFormat=function(e){var t=""+e;return t=t.slice(t.length-3,t.length)},Class.msToSSLeadingZero=function(e){var t=Math.floor(e/1e3%60),i=10>t?"0"+String(t):String(t);return i},Class.msToMMLeadingZero=function(e){var t=Math.round(Math.floor(e/1e3/60)),i=10>t?"0"+String(t):String(t);return i},Class.msToMMNoLeadingZero=function(e){var t=Math.round(Math.floor(e/1e3/60)),i=String(t);return i},Class.msToHHLeadingZero=function(e){var t=Math.round(Math.floor(e/1e3/60/60)),i=10>t?"0"+String(t):String(t);return i},Class.formatTime=function(e){return this.msToHHLeadingZero(e)+":"+this.msToMMLeadingZero(e)+":"+this.msToSSLeadingZero(e)+"."+this.msTommmFormat(e)},Class.getTimeUTCStamp=function(){return(new Date).toUTCString()},Class.calcAspectChange=function(e,t,i,a,s){s||(s=0);var r=0==s?e/t:s,n=i,o=a;return r>=1?(o=i/r,o>i&&(o=i,n=o*r)):(n=a*r,n>a&&(n=a,o=n/r)),{ratio:r,width:n,height:o}},Class.HHSSMMToSecond=function(e){var t=e,i=t.indexOf(".");i>=0&&(t=t.substring(0,i));var a=t.split(":");return 3600*a[0]+60*a[1]+1*a[2]},Class.fromString=function(e){var t=Number(e);return isNaN(t)?0:t},function(){function e(e){var t=e.__resizeTriggers__,i=t.firstElementChild,a=t.lastElementChild,s=i.firstElementChild;a.scrollLeft=a.scrollWidth,a.scrollTop=a.scrollHeight,s.style.width=i.offsetWidth+1+"px",s.style.height=i.offsetHeight+1+"px",i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight}function t(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height}function i(i){var a=this;e(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=n(function(){t(a)&&(a.__resizeLast__.width=a.offsetWidth,a.__resizeLast__.height=a.offsetHeight,a.__resizeListeners__.forEach(function(e){e.call(a,i)}))})}function a(){if(!r){var e=(f?f:"")+".resize-triggers { "+(w?w:"")+"visibility: hidden; opacity: 0; } "+'.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),t.appendChild(i),r=!0}}var s=document.attachEvent,r=!1;if(!s){var n=function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return function(t){return e(t)}}(),o=function(){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(t){return e(t)}}(),l=!1,d="animation",c="",u="animationstart",m="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g="",p=document.createElement("fakeelement");if(void 0!==p.style.animationName&&(l=!0),l===!1)for(var A=0;A<m.length;A++)if(void 0!==p.style[m[A]+"AnimationName"]){g=m[A],d=g+"Animation",c="-"+g.toLowerCase()+"-",u=h[A],l=!0;break}var v="resizeanim",f="@"+c+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",w=c+"animation: 1ms "+v+"; "}window.addResizeListener=function(t,r){s?t.attachEvent("onresize",r):(t.__resizeTriggers__||("static"==getComputedStyle(t).position&&(t.style.position="relative"),a(),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=document.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div>'+'<div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),e(t),t.addEventListener("scroll",i,!0),u&&t.__resizeTriggers__.addEventListener(u,function(i){i.animationName==v&&e(t)})),t.__resizeListeners__.push(r))},window.removeResizeListener=function(e,t){s?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",i),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))}}();var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils");Package.StringUtils=function(){this.classConstructor=arguments.callee,this.classConstructor.DOCUMENT_INFO=function(){var e=function(){try{return void 0==top.location||void 0==top.location.href?!1:!0}catch(e){return!1}return!0}(),t=window;if(e===!0)t=top;else for(;t.parent&&t.parent!=t;){var i=t.parent;try{var a=i.location.href;if(""===a)break;t=i}catch(s){break}}var r=t.location.href,n=t.location.host;if(!e&&t.document.referrer){var o=document.createElement("a");o.href=r=t.document.referrer,o.host&&o.host.length>0&&(n=o.host)}return{url:t.location.href,href:r,referrer:t.document.referrer,title:t.document.title,host:n}}(),this.classConstructor.VALID_URL_REGEX=new RegExp(/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:\/~\+#]*[\w\-\@?^=%&\/~\+#])?/),this.classConstructor.filterAdTag=function(e){var t=e,i=t.indexOf("pgDomain=");return 0>=i&&(t=t.replace("ac?","ac?pgDomain=[INSERT_PAGE_URL:encode]&")),i=t.indexOf("vpw="),0>=i&&(t=t.replace("ac?","ac?vpw=[PLAYER_WIDTH]&vph=[PLAYER_HEIGHT]&")),t=t.replace("ac?","ac?vpaidt=js&vpaidv=1,2&"),this.filterPixel(t)},this.classConstructor.filterPixelArray=function(e){for(var t=0;t<e.length;t++)e[t]&&""!=e[t]&&(e[t]=this.filterPixel(e[t]));return e},this.classConstructor.filterPixel=function(e){var t=ADG.html5.com.genesismedia.admanager.AdManager.getInstance(),i=t.pageUrl?t.pageUrl:this.DOCUMENT_INFO.href,a=this.DOCUMENT_INFO.referrer,s=this.trimSubDomain(this.DOCUMENT_INFO.host),r=function(){try{return void 0==top.location||void 0==top.location.href?!1:!0}catch(e){return!1}return!0}();r===!1&&a&&a.length>0&&!t.pageUrl&&(i=a);var n=document.title,o=this.trimWhitespace(e),l=String((new Date).getTime()),d=t.getAdWidth(),c=t.getAdHeight();isNaN(d)&&(d=-1),1>=d&&(d=0),isNaN(c)?c=-1:1>=c&&(c=0),d=Math.floor(d),c=Math.floor(c);var u="",m="";try{u=t.vastObjectManager.mediaObject.mediaName,m=t.vastObjectManager.mediaObject.mediaGuid}catch(h){u="",m=""}return o=o.split("REPLACE_ME_WITH_A_TIMESTAMP").join(l),o=o.split("%%CACHEBUSTER%%").join(l),o=o.split("[CACHE_BUSTER]").join(l),o=o.split("CACHEBUSTER").join(l),o=o.split("INSERT_RANDOM_NUMBER_HERE").join(l),o=o.split("[timestamp]").join(l),o=o.split("[TIMESTAMP]").join(l),o=o.split("[INSERT_PAGE_TITLE]").join(n),o=o.split("[page_title]").join(n),o=o.split("%5Bpage_title%5D").join(n),o=o.split("[DOMAIN_NAME]").join(s),o=o.split("[INSERT_PAGE_URL]").join(i),o=o.split("[PAGE_URL]").join(i),o=o.split("[Page_URL]").join(i),o=o.split("[page_url]").join(i),o=o.split("%5Bpage_url%5D").join(i),o=o.split("[SOURCE_PAGE_URL]").join(i),o=o.split("[SOURCE_PAGE_URL:encode]").join(encodeURIComponent(i)),o=o.split("[SOURCE_PAGE_URL:REQUIRED]").join(i),o=o.split("%%REFERRER_URL%%").join(i),o=o.split("[INSERT_PAGE_URL:encode]").join(encodeURIComponent(i)),o=o.split("[INSERT_PAGE_URL:double_encode]").join(encodeURIComponent(encodeURIComponent(i))),o=o.split("[page_referer]").join(a),o=o.split("%5Bpage_referer%5D").join(a),o=o.split("%%WIDTH%%").join(d),o=o.split("[VIDEO_WIDTH]").join(d),o=o.split("[PLAYER_WIDTH]").join(d),o=o.split("[PLAYER_WIDTH:REQUIRED]").join(d),o=o.split("%%HEIGHT%%").join(c),o=o.split("[VIDEO_HEIGHT]").join(c),o=o.split("[PLAYER_HEIGHT]").join(c),o=o.split("[PLAYER_HEIGHT:REQUIRED]").join(c),o=o.split("[media_name]").join(u),o=o.split("%5Bmedia_name%5D").join(u),o=o.split("[media_guid]").join(m),o=o.split("%5Bmedia_guid%5D").join(m),o=o.split("[UUID]").join(t.guid),o=o.split("[BUILD_DATE]").join(t.classConstructor.BUILD_DATE),o=o.split("[BUILD_NUMBER]").join(t.classConstructor.BUILD_NUMBER),o=o.split("[BUILD_VERSION]").join(t.classConstructor.BUILD_VERSION)},this.classConstructor.evalURL=function(e){return this.VALID_URL_REGEX.test(e)},this.classConstructor.getXMLNodeValue=function(e,t){if(e)if(t){var i=e.getElementsByTagName(t);if(i.length>0&&i[0].firstChild)return i[0].firstChild.wholeText?i[0].firstChild.wholeText.trim():i[0].firstChild.nodeValue}else if(e.firstChild)return e.firstChild.wholeText?e.firstChild.wholeText.trim():e.firstChild.nodeValue;return""},this.classConstructor.getXMLNodeAttribute=function(e,t,i){if(e&&t){var a=e.getElementsByTagName(t);if(a.length>0&&a[0].getAttribute(i))return a[0].getAttribute(i).trim()}return""},this.classConstructor.toUnderscoreCase=function(e){return e&&""!=e?e.replace(/\.?([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,""):""},this.classConstructor.trimWhitespace=function(e){return e?e.replace(/^s+|\s+/g,""):""},this.classConstructor.trimSubDomain=function(e){if(!e)return"";var t=e.length-4;if(e.indexOf(".com")===t||e.indexOf(".org")===t||e.indexOf(".net")===t){var i=e.split(".");return i.length>2?i[i.length-2]+"."+i[i.length-1]:e}return 0===e.indexOf("www.")?e.substring(4,e.length):0===e.indexOf("m.")?e.substring(2,e.length):e};var e=function(e){return"undefined"==typeof e||null===e},t=function(t){return!e(t)&&Array.isArray(t)};this.classConstructor.Strings=function(){var i=function(t){return e(t)||""==t?!0:!1},a=function(e){return"string"==typeof e||e instanceof String},s=function(t){return e(t)?"":t},r=function(t,i){return e(t)?i:t},n=function(e,t){return~e.indexOf(t)},o=function(e){return i(e)?!1:"1"==e||"true"==e||"t"==e?!0:!1},l=function(e){var t=e,a=!1,s=!1,r={trimResults:function(){return a=!0,r},omitEmptyStrings:function(){return s=!0,r},split:function(e){var r=new Array;if(!i(e)){var n=e.split(t);ADG.html5.com.genesismedia.admanager.utils.Utils.Iterable.each(n,function(e){if(!i(e)&&a)try{e=e.trim()}catch(t){}s&&i(e)||r.push(e)})}return r}};return r},d=function(t){var a=t,s=!1,r=!1,n={skipNulls:function(){return s=!0,n},nullsToEmpty:function(){return r=!0,n},join:function(t){var n=new Array;return Iterable.each(t,function(t){var a=t;s&&e(t)||(r&&i(t)&&(a=""),n.push(a))}),n.join(a)}};return n},c=function(i,a){var r=i,n=a,o=!1,l=!1,d=function(e){return l?s(e):e},c={skipNulls:function(){return o=!0,c},nullsToEmpty:function(){return l=!0,c},join:function(i){var a=new Array;return Iterable.eachMap(i,function(i,s){if(!e(i)){if(o&&e(s))return;t(s)?Iterable.each(s,function(t){o&&e(t)||a.push([i,d(t)].join(n))}):a.push([i,d(s)].join(n))}}),a.join(r)}};return c};return{isString:a,isNullOrEmpty:i,nullToEmpty:s,nullTo:r,contains:n,toBoolean:o,Joiner:d,MapJoiner:c,Splitter:l}}()},new Package.StringUtils;var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils");Package.Url=Package.Url||function(){var e=ADG.html5.com.genesismedia.admanager.utils.Utils,t=ADG.html5.com.genesismedia.admanager.utils.StringUtils.Strings,i=e.Iterable,a=t.MapJoiner("&","="),s=t.Splitter("&").trimResults().omitEmptyStrings(),r=function(i,a){if(!e.isNull(a)){var s=n(a,!0);if(!t.isNullOrEmpty(s))return i.indexOf("?")>0?i+"&"+s:i+"?"+s}return i},n=function(s,r){if(!e.isNull(s)){var n={};return 0==r?n=s:i.eachMap(s,function(a,s){e.isArray(s)?(n[a]=new Array,i.each(s,function(e){t.isNullOrEmpty(e)||n[a].push(encodeURIComponent(e))})):t.isNullOrEmpty(s)||(n[a]=encodeURIComponent(s))}),a.join(n)}return""},o=function(a){var r=e.mergeObjects(a||{},{}),o=function(t,a){if(!e.isNull(t))if(i.contains(r,t)){if(!e.isArray(r[t])){var s=r[t];r[t]=new Array,r[t].push(s)}r[t]=r[t].concat(a)}else r[t]=a},l=function(e,t){r[e]=t};return{add:o,set:l,extend:function(e){i.eachMap(e,function(e,t){o(e,t)})},replace:function(e){i.eachMap(e,function(e,t){l(e,t)})},get:function(t){return e.isNull(t)?r:i.contains(r,t)?r[t]:null},toQueryString:function(){return n(r,!0)},remove:function(e){delete r[e]},fromQueryString:function(e){if(!t.isNullOrEmpty(e)){var a=s.split(e);i.each(a,function(e){if(!t.isNullOrEmpty(e)){var i=e.split("=",2);o(i[0],decodeURIComponent(i[1]))}})}}}};return{toQueryString:n,addQueryParams:r,ParamCollection:o,parse:function(e){if(t.isNullOrEmpty(e))return null;var i={scheme:"",host:"",path:"",base:"",query:o()},a=e.split("//",2);2==a.length&&(i.scheme=a[0].replace(":",""),e=a[1]);var s="";if(a=e.split("/"),a.length>=2){i.host=a.shift();var r=a.join("/").split("?");2==r.length?(i.path=r[0],s=r[1]):i.path=a[1]}else{var r=e.split("?");2==r.length?(i.host=r[0],s=r[1]):i.host=e}i.query.fromQueryString(s);var n="";return t.isNullOrEmpty(i.scheme)||(n+=i.scheme+"://"),n+=i.host,t.isNullOrEmpty(i.path)||(n+="/"+i.path),i.base=n,i}}}();var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils");Package.UserAgent=function(){this.classConstructor=arguments.callee;var e=(new UAParser).getResult();return{name:e.browser.name,version:e.browser.version,os:e.os.name,osversion:e.os.version,table:"tablet"===e.device.type,mobile:"mobile"===e.device.type,deviceType:e.device.type||"desktop",iosdevice:"iOS"===e.os.name,android:"Android"===e.os.name}};var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils");Package.VastUtils=function(){this.classConstructor=arguments.callee,this.classConstructor.autoplayBlackList=["viralgains"],this.classConstructor.shouldAvoidAutoplay=function(e){for(var t=0;t<this.autoplayBlackList.length;t++){var i=this.autoplayBlackList[t].toLocaleLowerCase();if(e.toLocaleLowerCase().indexOf(i)>=0)return!0}return!1}},new Package.VastUtils;var Package=ADG.html5.getPackage("com.genesismedia.admanager.events");Package.AdEvents=function(){this.classConstructor=arguments.callee,this.classConstructor.STANDARD_AD_DURATION=15,this.classConstructor.RETAIL_AD_LOAD_READY="retailAdLoadReady",this.classConstructor.RETAIL_AD_LOAD_ERROR="retailAdLoadError",this.classConstructor.RETAIL_AD_READY="retailAdReady",this.classConstructor.RETAIL_AD_ERROR="retailAdError",this.classConstructor.RETAIL_AD_PLAY_ERROR="retailAdPlayError",this.classConstructor.INNER_AD_LOAD_FAILURE="innerAdLoadFailure",this.classConstructor.USER_INTERACTION_START="userInteractionStart",this.classConstructor.USER_INTERACTION_AFTER_START="userInteractionAfterStart",this.classConstructor.BILLABLE_TIME_REACHED="billableTimeReached",this.classConstructor.DEFAULT_ELIGIBLE_AD_TIME=15,this.classConstructor.ELIGIBLE_AD_PLAYBACK="eligibleAdPlayback",
this.classConstructor.ELIGIBLE_AD_START="eligibleAdStart"},new Package.AdEvents;var Package=ADG.html5.getPackage("com.genesismedia.admanager.events");Package.EventTracker=function(){var e=ADG.html5.com.genesismedia.admanager.utils.StringUtils,t=ADG.html5.com.genesismedia.admanager.utils.Utils;if(this.classConstructor=arguments.callee,this.classConstructor.DOCUMENT_HOST=e.DOCUMENT_INFO.host,this.classConstructor.DOCUMENT_HREF=e.DOCUMENT_INFO.href,this.classConstructor.DOCUMENT_REFERRER=e.DOCUMENT_INFO.referrer,this.classConstructor.Image=Image,this.classConstructor.adAttemptFired=!1,this.classConstructor.nameTable={},this.classConstructor.nameTable.AdImpression="rollimp",this.classConstructor.nameTable.AdVideoStart="rollst",this.classConstructor.nameTable.AdVideoFirstQuartile="roll25",this.classConstructor.nameTable.AdVideoMidpoint="roll50",this.classConstructor.nameTable.AdVideoThirdQuartile="roll75",this.classConstructor.nameTable.AdVideoComplete="roll100",this.classConstructor.nameTable.AdClickThru="rollck",this.classConstructor.nameTable.AdError="error",this.classConstructor.nameTable.ad_request="adattempt",this.classConstructor.nameTable.adattemptdetails="adattemptdetails",this.classConstructor.baseUrl="",this.classConstructor.baseParams={},this.classConstructor.additionalParams={},this.classConstructor.sameDomain=function(){try{return void 0==top.location||void 0==top.location.href?!1:!0}catch(e){return!1}return!0}(),this.classConstructor.sameDomain===!1&&this.classConstructor.DOCUMENT_REFERRER&&this.classConstructor.DOCUMENT_REFERRER.length>0){this.classConstructor.DOCUMENT_HREF=this.classConstructor.DOCUMENT_REFERRER;var i=document.createElement("a");i.href=this.classConstructor.DOCUMENT_REFERRER,i.host&&i.host.length>0&&(this.DOCUMENT_HOST=i.host)}this.classConstructor.setBaseUrl=function(e){var t=e.split("?");if(this.baseUrl=t[0]+"?",t.length>1)for(var i=t[1].split("&"),a=0;a<i.length;a++){var s=i[a],r=s.substring(0,s.indexOf("=")),n=decodeURIComponent(s.substring(s.indexOf("=")+1,s.length));(0===n.indexOf("http%3A%2F%2F")||0===n.indexOf("https%3A%2F%2F"))&&(n=decodeURIComponent(n)),this.baseParams[r]=n}},this.classConstructor.fireAdAttempt=function(){this.adAttemptFired=!0,this.track({evt:"ad_request"})},this.classConstructor.clearAdAttempt=function(){this.adAttemptFired=!1},this.classConstructor.fireAdAttemptDetails=function(e){var t=ADG.html5.com.genesismedia.admanager.AdManager.getInstance();if(t&&t.adTimer&&this.adAttemptFired){var i=Date.now()-t.adTimer;this.track({evt:"adattemptdetails",result:e,response_time:i})}},this.classConstructor.track=function(e){if(""!==this.baseUrl){var i={},a=this.normalizeName(e.evt);if(a){i.ev=a,e.em&&(i.em=e.em),e.result&&(i.result=e.result),e.response_time&&(i.response_time=e.response_time);var s=ADG.html5.com.genesismedia.admanager.AdManager.getInstance(),r=null;s.vastObjectManager&&(r=s.vastObjectManager.mediaObject);var n=this.baseUrl,o=this.filterUrl(this.DOCUMENT_REFERRER),l=function(){try{return void 0==top.location||void 0==top.location.href?!1:!0}catch(e){return!1}return!0}();l===!0&&(o=this.filterUrl(top.document.referrer));var d=s.getAdWidth(),c=s.getAdHeight();isNaN(d)?d=-1:1>=d&&(d=0),isNaN(c)?c=-1:1>=c&&(c=0),d=Math.floor(d),c=Math.floor(c);for(var u in this.baseParams)i[u]=this.baseParams[u];i.bd=s.classConstructor.BUILD_DATE,i.bv=s.classConstructor.BUILD_VERSION,i.bn=s.classConstructor.BUILD_NUMBER,i.vpaid="js",i.dm=s.pageUrl?t.getRootDomain(s.pageUrl):this.DOCUMENT_HOST,i.loc=s.pageUrl?s.pageUrl:this.filterUrl(this.DOCUMENT_HREF),i.rr=o,i.v="",i.sw=Math.round(d),i.sh=Math.round(c);for(var u in this.additionalParams)i[u]=this.additionalParams[u];r&&(r.rtbMeta&&r.rtbMeta.length>0&&(i.rm=r.rtbMeta),r.alignmentMeta&&(i.al=r.alignmentMeta),r.placementMeta&&(i.pm=r.placementMeta));var m=new this.Image;m.src=n+this.objToUrlQuery(i)}}},this.classConstructor.setData=function(e){"string"==typeof e.tp&&""!==e.tp&&(this.additionalParams.tp=e.tp),"string"==typeof e.rcode&&""!==e.rcode&&(this.additionalParams.fc=e.rcode)},this.classConstructor.filterUrl=function(e){try{var t=e.split("?")[0];return t=t.replace("https://",""),t=t.replace("http://",""),"/"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t}catch(i){return""}},this.classConstructor.objToUrlQuery=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")},this.classConstructor.normalizeName=function(e){return e&&this.nameTable[e]?this.nameTable[e]:null}},new Package.EventTracker;var Package=ADG.html5.getPackage("com.genesismedia.admanager.events");Package.KibanaTracker=function(){var e=ADG.html5.com.genesismedia.admanager.utils.UserAgent,t=ADG.html5.com.genesismedia.admanager.utils.StringUtils;if(this.classConstructor=arguments.callee,this.classConstructor.DOCUMENT_HOST=t.DOCUMENT_INFO.host,this.classConstructor.DOCUMENT_HREF=t.DOCUMENT_INFO.href,this.classConstructor.DOCUMENT_REFERRER=t.DOCUMENT_INFO.referrer,this.classConstructor.PIXEL_URL="//gmpx.bzgint.com/collectorx/"+this.classConstructor.DOCUMENT_HOST,this.classConstructor.Image=Image,this.classConstructor.userAgent=new e,this.classConstructor.nameTable={},this.classConstructor.nameTable.AdLoaded="ad_loaded",this.classConstructor.nameTable.AdStarted="ad_started",this.classConstructor.nameTable.AdStopped="ad_stopped",this.classConstructor.nameTable.AdLinearChange="ad_linear_change",this.classConstructor.nameTable.AdExpandedChange="ad_expanded_change",this.classConstructor.nameTable.AdRemainingTimeChange="ad_remaining_time_change",this.classConstructor.nameTable.AdVolumeChange="ad_volume_change",this.classConstructor.nameTable.AdImpression="ad_impression",this.classConstructor.nameTable.AdVideoStart="ad_video_start",this.classConstructor.nameTable.AdVideoFirstQuartile="ad_video_first_quartile",this.classConstructor.nameTable.AdVideoMidpoint="ad_video_midpoint",this.classConstructor.nameTable.AdVideoThirdQuartile="ad_video_third_quartile",this.classConstructor.nameTable.AdVideoComplete="ad_video_complete",this.classConstructor.nameTable.AdClickThru="ad_click_thru",this.classConstructor.nameTable.AdUserAcceptInvitation="ad_user_accept_invitation",this.classConstructor.nameTable.AdUserMinimize="ad_user_minimize",this.classConstructor.nameTable.AdUserClose="ad_user_close",this.classConstructor.nameTable.AdPaused="ad_paused",this.classConstructor.nameTable.AdResumed="ad_resumed",this.classConstructor.nameTable.AdPlaying="ad_playing",this.classConstructor.nameTable.AdLog="ad_log",this.classConstructor.nameTable.AdError="ad_error",this.classConstructor.ignoreList={},this.classConstructor.ignoreList.furi=!0,this.classConstructor.ignoreList.evuri=!0,this.classConstructor.ignoreList.assets=!0,this.classConstructor.ignoreList.vastUri=!0,this.classConstructor.ignoreList.vastPlain=!0,this.classConstructor.ignoreList.log=!0,this.classConstructor.ignoreList.fl=!0,this.classConstructor.ignoreList.tmedia=!0,this.classConstructor.ignoreList.rto=!0,this.classConstructor.ignoreList.serverLogLevel=!0,this.classConstructor.ignoreList.bto=!0,this.classConstructor.ignoreList.cto=!0,this.classConstructor.ignoreList.vto=!0,this.classConstructor.ignoreList.cid=!0,this.classConstructor.ignoreList.tid=!0,this.classConstructor.ignoreList.rtbMeta=!0,this.classConstructor.ignoreList.guaranteed=!0,this.classConstructor.ignoreList.mcall=!0,this.classConstructor.mediaObject={},this.classConstructor.additionalParams={player_type:"html5"},this.classConstructor.sameDomain=function(){try{return void 0==top.location||void 0==top.location.href?!1:!0}catch(e){return!1}return!0}(),this.classConstructor.sameDomain===!1&&this.classConstructor.DOCUMENT_REFERRER&&this.classConstructor.DOCUMENT_REFERRER.length>0){this.classConstructor.DOCUMENT_HREF=this.classConstructor.DOCUMENT_REFERRER;var i=document.createElement("a");i.href=this.classConstructor.DOCUMENT_REFERRER,i.host&&i.host.length>0&&(this.DOCUMENT_HOST=i.host)}this.classConstructor.track=function(e,t,i){var a=ADG.html5.com.genesismedia.admanager.AdManager.getInstance(),s=(this.PIXEL_URL,encodeURIComponent(this.filterUrl(this.DOCUMENT_REFERRER))),r=function(){try{return void 0==top.location||void 0==top.location.href?!1:!0}catch(e){return!1}return!0}();r===!0&&(s=encodeURIComponent(this.filterUrl(top.document.referrer))),""==s&&(s="direct");var n=a.getAdWidth(),o=a.getAdHeight();isNaN(n)?n=-1:1>=n&&(n=0),isNaN(o)?o=-1:1>=o&&(o=0),n=Math.floor(n),o=Math.floor(o);var l={};l.uuid=a.guid,l.tpc="cs",l.width=Math.round(n),l.height=Math.round(o),l.time=a.getLifetime(),l.url=encodeURIComponent(this.filterUrl(this.DOCUMENT_HREF)),l.domain=this.DOCUMENT_HOST,l.referrer=s,l.cdiframe=!this.sameDomain,l.admanager=!0,this.userAgent&&(l.browser_name=this.userAgent.name,l.browser_version=this.userAgent.version);for(var d in this.mediaObject)this.ignoreList[d]||"string"!=typeof this.mediaObject[d]&&"number"!=typeof this.mediaObject[d]||(l[d]=this.mediaObject[d]);for(var d in this.additionalParams)l[d]=this.additionalParams[d];for(var c in e)l[c]="evt"==c?this.normalizeName(e[c]):e[c];if(t)for(var u in t)l[u]=t[u];if(i)for(var m in i)l[m]=i[m]},this.classConstructor.addParams=function(e){for(var t in e)this.ignoreList[t]||"string"!=typeof e[t]&&"number"!=typeof e[t]||(this.additionalParams[t]=e[t])},this.classConstructor.setInitParams=function(e){var t=this.getParams(e,"ac?");t.siteid&&(this.additionalParams.site_id=t.siteid),t.pgid&&(this.additionalParams.page_id=t.pgid)},this.classConstructor.getAdParams=function(e){var t={};return e.campaignId&&(t.campaign_id=e.campaignId),e.creativeId&&(t.creative_id=e.creativeId),e.insertionId&&(t.insertion_id=e.insertionId),t},this.classConstructor.getParams=function(e,t){var i={};if(t||(t="?"),null!=e&&e.indexOf(t)>-1){var a=e.split(t)[1];if(a&&a.length>0)for(var s=a.split("&"),r=0;r<s.length;r++){queryParam=s[r];var n=queryParam.substring(0,queryParam.indexOf("=")),o=queryParam.substring(queryParam.indexOf("=")+1,queryParam.length);i[n]=o}}return i},this.classConstructor.objToUrlQuery=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")},this.classConstructor.filterUrl=function(e){try{var t=e.split("?")[0];return t=t.replace("https://",""),t=t.replace("http://",""),"/"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t}catch(i){return""}},this.classConstructor.normalizeName=function(e){var t=e;return this.nameTable[t]&&(t=this.nameTable[t]),t}},new Package.KibanaTracker;var Package=ADG.html5.getPackage("com.genesismedia.admanager.events");Package.PixelTracker=function(){var e=ADG.html5.com.genesismedia.admanager.events.EventTracker,t=ADG.html5.com.genesismedia.admanager.events.KibanaTracker;this.classConstructor=arguments.callee,this.classConstructor.Image=Image,this.classConstructor.enable=!0,this.classConstructor.fire=function(i,a,s,r){if(this.enable&&(a&&(t.track({evt:a},s,r),e.track({evt:a})),i))for(var n=0;n<i.length;n++)if(i[n]&&""!=i[n]){var o=new this.Image;o.src=i[n]}}},new Package.PixelTracker;var Package=ADG.html5.getPackage("com.genesismedia.admanager.events");Package.ThirdPartyTracker=function(){this.classConstructor=arguments.callee,this.classConstructor.ALT_MOAT_PARTNER_CODE="altitudedigital923lsdkfj20edkjkjjd6",this.classConstructor.GENESIS_MOAT_PARTNER_CODE="genesismediavideo91098djls921",this.classConstructor.genesisEnableMoat=!1,this.classConstructor.genesisMoatApi=null,this.classConstructor.moatPlacementClientCode=null,this.classConstructor.altitudeMoatApi=null,this.classConstructor.slot=null,this.classConstructor.pixels={impressionJS:new Array,impression:new Array},this.classConstructor.siteGuid="",this.classConstructor.placementGuid="",this.classConstructor.publisherGuid="",this.classConstructor.tmeta="";var e=ADG.html5.com.genesismedia.admanager.utils.JSUtils,t=ADG.html5.com.genesismedia.admanager.events.PixelTracker,i=ADG.html5.com.genesismedia.admanager.utils.Logger,a=ADG.html5.com.genesismedia.admanager.utils.StringUtils;this.classConstructor.initMoat=function(){var e=ADG.html5.com.genesismedia.admanager.AdManager,t=(ADG.html5.com.genesismedia.admanager.events.KibanaTracker,this.moatPlacementClientCode);if(i.log("initMoat(): using placement-level clientCode: "+t),e.getInstance().vastObjectManager.mediaObject){var a=e.getInstance().vastObjectManager.mediaObject;if(a.mcall&&a.mcall.custom&&a.mcall.custom.moat&&a.mcall.custom.moat.clientCode&&(t=a.mcall.custom.moat.clientCode,i.log("initMoat(): using media-level clientCode: "+t)),i.log("initMoat(): clientCode: "+t),i.log("this.genesisEnableMoat: "+this.genesisEnableMoat),this.genesisEnableMoat||t){var s={level1:a.advertiserGuid,level2:a.ioGuid,level3:a.campaignGuid,level4:a.guid,slicer1:this.siteGuid,slicer2:this.placementGuid,zMoatClientId:t,zMoatTID:this.tmeta};this.altitudeMoatApi=initMoatTrackingLegacy(e.getInstance().environmentVars.slot,s,e.getInstance().getAdDuration(),this.ALT_MOAT_PARTNER_CODE,null),i.log("initMoat(): MOAT is SET")}else i.log("initMoat(): MOAT is NOT set")}else i.error("No media found - initMoat called to early!")},this.classConstructor.dispatchEvent=function(e){if(this.altitudeMoatApi){i.log("Sending Altitude Moat event: "+e);var t=ADG.html5.com.genesismedia.admanager.AdManager;this.altitudeMoatApi.dispatchEvent({type:e,adVolume:t.getInstance().getAdVolume()})}},this.classConstructor.callOps=function(s){s&&s.calls&&(s.calls.op&&(i.log("callOps() firing opp pixels: "+s.calls.op),t.fire(a.filterPixelArray(s.calls.op),null,null)),e.injectJS(s.calls.oj,ADG.html5.com.genesismedia.admanager.AdManager.getInstance().environmentVars.slot))},this.classConstructor.loadPixels=function(e){e&&e.calls&&(e.calls.ip&&(this.pixels.impression=a.filterPixelArray(e.calls.ip)),e.calls.ij&&(this.pixels.impressionJS=a.filterPixelArray(e.calls.ij)))},this.classConstructor.callImps=function(){t.fire(this.pixels.impression,null,null),e.injectJS(this.pixels.impressionJS,ADG.html5.com.genesismedia.admanager.AdManager.getInstance().environmentVars.slot)},this.classConstructor.enableMoat=function(e,t){i.log("enableMoat()"),e&&e.enableMoat&&"true"==e.enableMoat&&(this.genesisEnableMoat=!0,i.log("enableMoat(): genesisEnableMoat = true")),t&&t.calls&&t.calls.custom&&t.calls.custom.moat&&t.calls.custom.moat.clientCode&&(this.moatPlacementClientCode=t.calls.custom.moat.clientCode,i.log("Setting placement-level moat clientCode: "+this.moatPlacementClientCode)),t&&t.params&&(this.siteGuid=t.params.siteg,this.placementGuid=t.params.placeg,this.publisherGuid=t.params.pubg,this.tmeta=t.params.tmeta)}},new Package.ThirdPartyTracker;var Package=ADG.html5.getPackage("com.genesismedia.admanager");Package.AdManager=function(e){function t(){E.log("AdManager ::: loadNextAd: "+f.adIndex);var e=!1;return f.ads&&f.adIndex<f.ads.length&&(E.log("AdManager ::: start timer"),s(),f.vastObjectManager&&f.vastObjectManager.unsubscribe(D.DONE),f.vastObjectManager=new D,f.vastObjectManager.subscribe(u,D.DONE),f.vastObjectManager.init(f.ads[f.adIndex++]),P.mediaObject=f.vastObjectManager.mediaObject,f.kibanaParams=P.getAdParams(f.vastObjectManager),f.kibanaParams.sequence_id=f.adIndex,P.track({evt:"ad_request"},f.kibanaParams),N.fireAdAttempt(),e=!0),{hasAd:e}}function a(){return!f.ads||f.adIndex>=f.ads.length?!1:!0}function s(){o(),G=setTimeout(r,f.adTimeout),f.adTimer=Date.now()}function r(){P.track({evt:"ad_wait_timeout"},f.kibanaParams),N.fireAdAttemptDetails("timeout"),E.log("adWaitTimerHandler triggered"),o(),a()?(n(),t()):(f.opportunityNotFilled=!0,P.mediaObject={},P.track({evt:"opportunity_not_filled"},f.kibanaParams),N.fireAdAttemptDetails("no_ad"),n(),g())}function n(){if(clearInterval(j),N.clearAdAttempt(),f.VPAIDAd){for(var e in f.callbacks)try{f.VPAIDAd.unsubscribe(e)}catch(t){}try{f.VPAIDAd.stopAd(),f.VPAIDAd=null}catch(t){}}f.vastObjectManager&&(f.vastObjectManager=null)}function o(){if(G>-1)try{E.log("AdManager :: An an ad wait timer was removed"),clearTimeout(G),G=-1}catch(e){}}function l(e){P.setInitParams(e),U=new x(F,Number(P.additionalParams.page_id),d,e)}function d(e){F&&P.addParams(U.kibanaParams),e=U.filterAdUrl(e),P.track({evt:"ad_opportunity"},f.kibanaParams);var t;t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t.onreadystatechange=function(){4==t.readyState&&(200==t.status?(P.track({evt:"ad_response_received"},f.kibanaParams),f.mediaInfo=JSON.parse(t.responseText),c(f.mediaInfo)):0!=t.status||B?P.track({evt:"no_ad_response"},f.kibanaParams):(B=!0,t.abort(),t.open("GET",e,!0),t.withCredentials=!1,t.send()))};try{k.evalURL(e)?(t.open("GET",e,!0),t.withCredentials=!0,B=!1,t.send()):(P.mediaObject={},P.track({evt:"opportunity_default"},f.kibanaParams))}catch(i){P.mediaObject={},P.track({evt:"opportunity_default"},f.kibanaParams)}}function c(e){if(e){N.setData(e);var t=e.vmedia||[],i=e.rmedia||[],a=e.amedia||[],s=e.bm||{},r=e.bp||{},n=e.mcalls||{};f.ads=new Array;for(var o=0;o<t.length;o++){var l=t[o],d=new R;d.mediaType=R.MEDIA_TYPE_VAST,d.guid=l.guid||"",d.advertiserGuid=l.advguid||"",d.placementGuid=l.pguid||"",d.ioGuid=l.ioguid||"",d.campaignGuid=l.campguid||"",d.mediaGuid=l.guid||"",d.mediaName=l.name||"",d.vastUri=l.uri||"",d.vastPlain=l.vast||"",d.cpm=T.fromString(l.cpm),d.priority=T.fromString(l.dp),d.weight=T.fromString(l.dw),d.order=T.fromString(l["do"]),d.guaranteed=T.fromString(l.dg),d.mcall=n[d.mediaGuid]||{},d.addAlignmentMeta(l.al),d.addAlignmentMeta(s[l.pguid]),d.addPlacementMeta(r[l.pguid]),E.log(l.uri?"Added vast media: "+l.uri:"Added vast media: "+l.vast),f.ads.push(d)}for(var c=0;c<i.length;c++){var u=i[c],d=new R;d.mediaType=R.MEDIA_TYPE_RTB,d.guid=u.guid||"",d.advertiserGuid=u.advguid||"",d.placementGuid=u.pguid||"",d.ioGuid=u.ioguid||"",d.campaignGuid=u.campguid||"",d.mediaGuid=u.guid||"",d.mediaName=u.name||"",d.vastUri=u.uri||"",d.vastPlain=u.vast||"",d.cpm=T.fromString(u.cpm),d.order=T.fromString(u["do"]),d.guaranteed=T.fromString(u.dg),d.mcall=n[d.mediaGuid]||{},d.addAlignmentMeta(u.al),d.addAlignmentMeta(s[u.pguid]),d.addPlacementMeta(r[u.pguid]),E.log("Added vast media: "+u.uri),f.ads.push(d)}for(var m=0;m<a.length;m++){var h=a[m],d=new R;d.mediaType=R.MEDIA_TYPE_ASSET,d.guid=h.guid||"",d.advertiserGuid=h.advguid||"",d.placementGuid=h.pguid||"",d.ioGuid=h.ioguid||"",d.campaignGuid=h.campguid||"",d.mediaGuid=h.guid||"",d.mediaName=h.name||"",d.cpm=T.fromString(h.cpm),d.priority=T.fromString(h.dp),d.weight=T.fromString(h.dw),d.order=T.fromString(h["do"]),d.guaranteed=T.fromString(h.dg),d.mcall=n[d.mediaGuid]||{};for(var p=0;p<h.assets.length;p++){var A=h.assets[p],w=new L;w.uri=A.uri||"",w.mimeType=A.mime||"",w.width=T.fromString(A.width),w.height=T.fromString(A.height),w.bitRate=T.fromString(A.bitrate),w.duration=A.duration||"",w.clickThroughUrl=A.clickThroughUrl||"",E.info("Added AssetMedia: "+w.uri),d.assets.push(w)}d.addAlignmentMeta(h.al),d.addAlignmentMeta(s[h.pguid]),d.addPlacementMeta(r[h.pguid]),f.ads.push(d)}f.ads&&f.ads.length>1&&(f.ads=R.sortMedia(f.ads)),v("AdLoaded"),f.ads.length>0||(P.mediaObject={},P.track({evt:"opportunity_default"},f.kibanaParams),g(!0))}}function u(){if(f.vastObjectManager&&f.vastObjectManager.vastObjects&&f.vastObjectManager.vastObjects[0])if(f.vastObject=f.vastObjectManager.vastObjects[0],f.vastObject.isVPAID)m();else{var e=new I;f.onVPAIDReady(e)}else P.track({evt:"ads_load_failure",ad_failure_reason:"innerAdError"},f.kibanaParams),N.fireAdAttemptDetails("error"),a()?(n(),t()):(f.opportunityNotFilled=!0,P.mediaObject={},P.track({evt:"opportunity_not_filled"},f.kibanaParams),N.fireAdAttemptDetails("no_ad"),n(),g())}function m(){f.vpaidFrame=document.createElement("iframe"),f.vpaidFrame.style.display="none",f.vpaidFrame.onload=function(){var e=f.vpaidFrame.contentWindow.document.createElement("script");e.src=f.vastObject.mediaFile,e.onload=function(){f.onVPAIDReady({getVPAIDAd:f.vpaidFrame.contentWindow.getVPAIDAd})},f.vpaidFrame.contentWindow.document.body.appendChild(e)},document.body.appendChild(f.vpaidFrame)}function h(e){o(),f.startFired||(M.initMoat(),v("AdStarted"),v("AdImpression"),v("AdVideoStart"),S.fire(f.vastObject.pixels.impression,"AdImpression",f.kibanaParams,{impression_triggered_by:e}),O.injectJS(f.vastObject.pixels.impressionJS,f.environmentVars.slot),M.callImps(),S.fire(f.vastObject.pixels.start,"AdStarted",f.kibanaParams),P.track({evt:"AdVideoStart"},f.kibanaParams),N.fireAdAttemptDetails("ad"),N.track({evt:"AdVideoStart"}),f.startFired=!0,f.skipCountdown>0&&f.skipDiv&&(f.skipDiv.style.display="block",f.skip.startCountdown()),f.reposition(),j=setInterval(function(){var e=f.getAdDuration(),t=Math.floor(f.getAdDuration()-f.getAdRemainingTime());if(!(0==e||0>t)){var i=String(t);!f.progressFired[i]&&f.vastObject.pixels.progress[i]&&(S.fire(f.vastObject.pixels.progress[i],null,null),f.progressFired[i]=!0)}},500),z&&(H=new y,H.load(P.mediaObject)))}function g(e){f.stopFired!==!0&&(f.stopFired=!0,e&&e!==!1||f.startFired||f.opportunityNotFilled||(P.mediaObject={},P.track({evt:"opportunity_default"},f.kibanaParams)),setTimeout(function(){v("AdStopped")},500))}function p(){f.skip.unsubscribe("SkipAd"),P.track({evt:"ad_skipped"},f.kibanaParams),f.stopAdCalled=!0,S.enable=!1,A()}function A(e){f.firstQuartileFired&&f.midpointFired&&f.thirdQuartileFired&&!f.completeFired&&f.startFired&&!f.completeFired&&!e&&f.vastObject&&(S.fire(f.vastObject.pixels.complete,"AdVideoComplete",f.kibanaParams),f.completeFired=!0,v("AdVideoComplete")),n(),g()}function v(e){if(M.dispatchEvent(e),e in f.eventsCallbacks)for(var t=0;t<f.eventsCallbacks[e].length;t++)setTimeout(function(e,t){f.eventsCallbacks[e][t]()},0,e,t)}var f=this;this.classConstructor=arguments.callee,this.classConstructor.AD_WAIT_TIME=15e3,this.classConstructor.BUILD_DATE="2017-10-31 14:58:00",this.classConstructor.BUILD_VERSION="2.1.2",this.classConstructor.BUILD_NUMBER="UNKNOWN",this.classConstructor.LOTAME="//ad.crwdcntrl.net/5/c=1890/pe=y/callback=ADG.html5.instance.setAudience",this.classConstructor.MOAT_PARTNER_CODE="genesismediavideo91098djls921",this.classConstructor.instance=f,this.classConstructor.getInstance=function(){return this.instance};var w=ADG.html5.com.genesismedia.admanager.utils.Utils,b=ADG.html5.com.genesismedia.admanager.utils.Url,C=ADG.html5.com.genesismedia.admanager.utils.GUIDUtils,E=ADG.html5.com.genesismedia.admanager.utils.Logger,y=ADG.html5.com.genesismedia.admanager.utils.MDotHelper,T=ADG.html5.com.genesismedia.admanager.utils.NumberUtils,k=ADG.html5.com.genesismedia.admanager.utils.StringUtils,x=ADG.html5.com.genesismedia.admanager.wham.Allocation,D=ADG.html5.com.genesismedia.admanager.data.vast.VastObjectManager,I=ADG.html5.com.genesismedia.admanager.ads.VideoPlayer,N=ADG.html5.com.genesismedia.admanager.events.EventTracker,S=ADG.html5.com.genesismedia.admanager.events.PixelTracker,P=ADG.html5.com.genesismedia.admanager.events.KibanaTracker,M=ADG.html5.com.genesismedia.admanager.events.ThirdPartyTracker,O=ADG.html5.com.genesismedia.admanager.utils.JSUtils,_=ADG.html5.com.genesismedia.admanager.skip.Skip,R=ADG.html5.com.genesismedia.admanager.data.MediaObject,L=ADG.html5.com.genesismedia.admanager.data.MediaAsset;this.vastObjectManager=null,this.vastObject,this.playerDiv,this.skipDiv,this.adChoicesDiv,this.guid=C.create(),this.divName="adgHtml5MainStage_"+this.guid,this.slotName="adgHtml5Slot_"+this.guid,this.skipDivName="adgHtml5MainSkip_"+this.guid,this.environmentVars={},this.VPAIDAd=null,this.params=e,this.parseType="",this.ads=null,this.adIndex=0,this.volume=1,this.skipCountdown=-1,this.adTimeout=this.classConstructor.AD_WAIT_TIME,this.skip,this.adChoices,this.width=0,this.height=0,this.pageUrl=null,this.viewMode="Normal",this.desiredBitrate="",this.retailTag="",this.kibanaParams={},this.startFired=!1,this.firstQuartileFired=!1,this.midpointFired=!1,this.thirdQuartileFired=!1,this.completeFired=!1,this.progressFired={},this.stopAdCalled=!1,this.stopFired=!1,this.initAdCalled=!1,this.opportunityNotFilled=!1,this.eventsCallbacks={},this.callbacks={},this.attributes={companions:"",desiredBitrate:256,duration:30,expanded:!1,height:0,icons:"",linear:!0,skippableState:!1,viewMode:"normal",width:0,volume:1},this.quartileEvents=[{event:"AdVideoStart",value:0},{event:"AdVideoFirstQuartile",value:25},{event:"AdVideoMidpoint",value:50},{event:"AdVideoThirdQuartile",value:75},{event:"AdVideoComplete",value:100}],this.progressFired={},this.lastQuartileIndex=0,this.parameters={},this.pixels={impressionJS:new Array,impression:new Array};var U,V=(new Date).getTime(),G=-1,j=-1,B=!1,F=!1,z=!1,H=null,Q=!1,X="";this.params.devMode&&"true"===this.params.devMode&&E.setDevMode(!0),console.log("initializing GMAdManager version:"+f.classConstructor.BUILD_VERSION+" build:"+f.classConstructor.BUILD_NUMBER+" on:"+f.classConstructor.BUILD_DATE),this.getLifetime=function(){return(new Date).getTime()-V},this.onVPAIDReady=function(e){var i;e&&(i=e.getVPAIDAd),i&&"function"==typeof i&&(f.VPAIDAd=i()),f.callbacks={AdStarted:function(){E.log("on AdStarted event")},AdStopped:function(){f.startFired&&(E.log("on AdStopped event"),f.thirdQuartileFired&&v("AdVideoComplete"),clearInterval(j),g())},AdSkipped:function(){E.log("on AdSkipped event"),v("AdSkipped")},AdLoaded:function(){E.log("on AdLoaded event");try{f.VPAIDAd&&(E.log("AdLoaded(): Found VPAID, attempting to startAd()"),f.VPAIDAd.startAd())}catch(e){E.log("AdLoaded(): Error while trying to startAd()")}},AdLinearChange:function(){E.log("on AdLinearChange event"),v("AdLinearChange")},AdSizeChange:function(){E.log("on AdSizeChange event"),v("AdSizeChange")},AdExpandedChange:function(){E.log("on AdExpandedChange event"),v("AdExpandedChange")},AdSkippableStateChange:function(){E.log("on AdSkippableStateChange event"),v("AdSkippableStateChange")},AdDurationChange:function(){E.log("on AdDurationChange event"),v("AdDurationChange")},AdRemainingTimeChange:function(){E.log("on AdRemainingTimeChange event"),v("AdRemainingTimeChange")},AdVolumeChange:function(){E.log("on AdVolumeChange event"),v("AdVolumeChange")},AdImpression:function(){E.log("on AdImpression event"),h("AdImpression")},AdClickThru:function(){E.log("on AdClickThru event"),v("AdClickThru"),S.fire(f.vastObject.pixels.click,"AdClickThru",f.kibanaParams)},AdInteraction:function(){E.log("on AdInteraction event"),v("AdInteraction")},AdVideoStart:function(){E.log("on AdVideoStart event"),h("AdVideoStart")},AdVideoFirstQuartile:function(){E.log("on AdVideoFirstQuartile event"),f.firstQuartileFired||(S.fire(f.vastObject.pixels.firstQuartile,"AdVideoFirstQuartile",f.kibanaParams),f.firstQuartileFired=!0),v("AdVideoFirstQuartile")},AdVideoMidpoint:function(){E.log("on AdVideoMidpoint event"),f.midpointFired||(S.fire(f.vastObject.pixels.midpoint,"AdVideoMidpoint",f.kibanaParams),f.midpointFired=!0),v("AdVideoMidpoint")},AdVideoThirdQuartile:function(){E.log("on AdVideoThirdQuartile event"),f.thirdQuartileFired||(S.fire(f.vastObject.pixels.thirdQuartile,"AdVideoThirdQuartile",f.kibanaParams),f.thirdQuartileFired=!0),v("AdVideoThirdQuartile")},AdVideoComplete:function(){E.log("on AdVideoComplete event"),f.completeFired||(S.fire(f.vastObject.pixels.complete,"AdVideoComplete",f.kibanaParams),f.completeFired=!0),v("AdVideoComplete")},AdUserAcceptInvitation:function(){E.log("on AdUserAcceptInvitation event"),v("AdUserAcceptInvitation")},AdUserMinimize:function(){E.log("on AdUserMinimize event"),v("AdUserMinimize")},AdUserClose:function(){E.log("on AdUserClose event"),v("AdUserClose")},AdPaused:function(){E.log("on AdPaused event"),v("AdPaused")},AdPlaying:function(){E.log("on AdPlaying event"),v("AdPlaying")},AdError:function(){f.stopAdCalled||(P.track({evt:"ads_load_failure",ad_failure_reason:"innerAdError"},f.kibanaParams),N.fireAdAttemptDetails("error"),a()?(n(),t()):(f.opportunityNotFilled=!0,P.mediaObject={},P.track({evt:"opportunity_not_filled"},f.kibanaParams),N.fireAdAttemptDetails("no_ad"),n(),g()))},AdLog:function(){E.log("on AdLog event"),v("AdLog")}};for(var s in f.callbacks)f.VPAIDAd.subscribe(f.callbacks[s],s);f.VPAIDAd.handshakeVersion("2.0"),f.VPAIDAd.initAd(f.width,f.height,"normal",0,{AdParameters:f.vastObject.extensions},f.environmentVars)},this.reposition=function(){try{f.VPAIDAd&&f.VPAIDAd.resizeAd(f.width,f.height)}catch(e){}},this.resizeAd=function(e,t){f.width=e,f.height=t,f.reposition()},this.getAdWidth=function(){return f.width},this.getAdHeight=function(){return f.height},this.getAdCompanions=function(){return""},this.getAdIcons=function(){return""},this.getAdLinear=function(){return!0},this.expandAd=function(){v("AdExpanded")},this.getAdExpanded=function(){return!1},this.getAdSkippableState=function(){return!1},this.collapseAd=function(){},this.skipAd=function(){if(f.VPAIDAd)try{f.VPAIDAd.skipAd()}catch(e){}},this.getAdDuration=function(){return f.VPAIDAd?f.VPAIDAd.getAdDuration():0},this.getAdRemainingTime=function(){try{if(f.VPAIDAd)return f.VPAIDAd.getAdRemainingTime()}catch(e){return-1}return-1},this.setAdVolume=function(e){try{f.VPAIDAd&&f.VPAIDAd.setAdVolume(e)}catch(t){}f.volume=e},this.getAdVolume=function(){try{if(f.VPAIDAd)return f.VPAIDAd.getAdVolume()}catch(e){}return 1},this.removePlayerReferences=function(){},this.playingAd=function(){return!0},this.pauseAd=function(){try{f.VPAIDAd.pauseAd()}catch(e){}},this.resumeAd=function(){try{f.VPAIDAd&&f.VPAIDAd.resumeAd()}catch(e){}},this.handshakeVersion=function(){return"2.0"},this.setAudience=function(e){var t=e.Profile.Audiences;f.audiences="";for(var a in t){var s=t[a];for(i=0;i<s.length;i++)f.audiences+="abbr="+s[i].id+";"}var r=X.split("abbr=${aud_ids:;abbr=};").join(f.audiences);l(k.filterAdTag(r))},this.initAd=function(e,t,i,a,s,r){if(f.initAdCalled!==!0){f.initAdCalled=!0,f.width=e,f.height=t,f.viewMode=i,f.desiredBitrate=a,f.parameters=JSON.parse(s.AdParameters),k.Strings.toBoolean(f.parameters.params.log)&&E.setDevMode(!0),isNaN(f.parameters.params.serverLogLevel)||E.setServerLogLevel(f.parameters.params.serverLogLevel);var n=function(){var e=b.parse(f.parameters.params.furi);if(null!=e){var t=e.query.get("pu"),i="";return Array.isArray(t)&&t.length>0?i=decodeURIComponent(t[0]):"string"!=typeof t||k.Strings.isNullOrEmpty(t)||(i=decodeURIComponent(t)),(i.startsWith("http%3A%2F%2F")||i.startsWith("https%3A%2F%2F"))&&(i=decodeURIComponent(i)),i}return null};if(w.pt()&&(f.pageUrl=n(),E.log("pageUrl = getPassedUrl "+f.pageUrl)),P.addParams(f.parameters.params),N.setBaseUrl(f.parameters.params.evuri),E.setEventTracker(N),f.params.skip){var o=Number(f.params.skip);isNaN(o)&&(o=0),f.skipCountdown=o}if(f.params.adTimeout&&(f.adTimeout=Number(f.params.adTimeout),f.adTimeout<0&&(f.adTimeout=f.classConstructor.AD_WAIT_TIME)),r.slot&&(f.playerDiv=document.createElement("div"),r.slot.appendChild(f.playerDiv),f.playerDiv.setAttribute("style","width: 100%;height: 100%;top: 0px;left: 0px;position: absolute;pointer-events:auto;"),f.skipCountdown>0&&(f.skipDiv=document.createElement("div"),f.playerDiv.appendChild(f.skipDiv),f.skipDiv.setAttribute("style","display:none;width: 100%;height:100%;left: 0px;position: absolute;top: 0px;z-index: 10000002;pointer-events:none;"),f.skip=new _(f.skipDiv,f.skipCountdown),f.skip.subscribe(p,"SkipAd")),f.environmentVars.slot=f.playerDiv,f.reposition(),r.videoSlot?f.environmentVars.videoSlot=r.videoSlot:(f.environmentVars.videoSlot=document.createElement("video"),f.environmentVars.slot.appendChild(f.environmentVars.videoSlot))),S.enable=!0,M.loadPixels(f.parameters),M.callOps(f.parameters),f.params.kw_domain){var d=f.params.kw_domain;d&&""!=d&&P.addParams({passed_domain:d})}var c={};for(var u in f.params)if(u.indexOf("gam_")>=0){var m=u.split("gam_")[1],h=f.params[u];c[m]=h}f.params.useLotame&&"true"==f.params.useLotame&&(Q=!0),f.params.adXmlUrl=f.parameters.params.furi,f.params.adXmlUrl+=f.params.adXmlUrl.indexOf("?")===-1?"?":"&",f.params.adXmlUrl+="bd=[BUILD_DATE]&bv=[BUILD_VERSION]&bn=[BUILD_NUMBER]&w=[PLAYER_WIDTH]&h=[PLAYER_HEIGHT]&v=-1&vpaid=js&u=[SOURCE_PAGE_URL:encode]",P.addParams(c),addResizeListener(f.playerDiv,f.reposition),
Q&&(X=f.params.adXmlUrl),f.params.useWham&&"true"==f.params.useWham&&(F=!0),M.enableMoat(f.params,f.parameters),f.params.useMDot&&"true"==f.params.useMDot&&(z=!0),""!=X?O.injectJS(f.classConstructor.LOTAME,document.getElementsByTagName("head")[0]):l(k.filterAdTag(f.params.adXmlUrl))}},this.startAd=function(){f.ads.length>0&&t(),f.reposition()},this.stopAd=function(){f.stopAdCalled!==!0&&(f.stopAdCalled=!0,P.track({evt:"stop_ad_called",startFired:f.startFired}),f.kibanaParams,S.enable=!1,A())},this.subscribe=function(e,t,i){var a=e.bind(i);"undefined"==typeof f.eventsCallbacks[t]&&(f.eventsCallbacks[t]=new Array),f.eventsCallbacks[t].push(a)},this.unsubscribe=function(e,t){if("undefined"==typeof t)return void(f.eventsCallbacks[e]=null);if("undefined"!=typeof f.eventsCallbacks[e])for(var i=0;i<f.eventsCallbacks[e].length;i++)f.eventsCallbacks[e][i]==fCallback&&f.eventsCallbacks[e].splice(i,1)}};var Package=ADG.html5.getPackage("com.genesismedia.admanager.adchoices");Package.AdChoices=function(e,t){this.classConstructor=arguments.callee;var i=this;if(this.containerDiv=e,this.adChoices=t,this.eventsCallbacks={},this.subscribe=function(e,t,a){var s=e.bind(a);i.eventsCallbacks[t]=s},this.unsubscribe=function(e){i.eventsCallbacks[e]=null},this.callEvent=function(e){e in i.eventsCallbacks&&"function"==typeof i.eventsCallbacks[e]&&i.eventsCallbacks[e]()},!isNaN(this.adChoices.width)&&!isNaN(this.adChoices.height)){var a=document.createElement("div");this.containerDiv.appendChild(a),a.setAttribute("style","position: absolute;right: 0px;bottom:0px;width:"+this.adChoices.width+"px;height:"+this.adChoices.height+"px;cursor: pointer;pointer-events:auto;");var s=document.createElement("img");s.src=this.adChoices.icon,a.appendChild(s),a.addEventListener("mouseup",function(){})}};var Package=ADG.html5.getPackage("com.genesismedia.admanager.ads");Package.VideoPlayer=function(){function e(){try{var e=r.filterPixel(s.parameters.vastObject.clickThroughUrl);e&&e.length>0&&(a("AdClickThru"),window.open(e,"_blank"))}catch(t){}}function t(){null==s.videoSlot&&(s.videoSlot=document.createElement("video"),s.slot.appendChild(s.videoSlot));var t=document.createElement("div");s.slot.appendChild(t),t.style.width="100%",t.style.height="100%",t.style.left="0px",t.style.top="0px",t.style.position="absolute",t.style.cursor="pointer",t.addEventListener("mouseup",e,!1),i();for(var r=!1,n=s.parameters.videos||[],o=0;o<n.length;o++)if(""!=s.videoSlot.canPlayType(n[o].mimetype)&&""!=n[o].url){s.videoSlot.setAttribute("src",n[o].url),r=!0;break}r||a("AdError")}function i(){s.videoSlot.setAttribute("width",s.attributes.width),s.videoSlot.setAttribute("height",s.attributes.height)}function a(e){e in s.eventsCallbacks&&"function"==typeof s.eventsCallbacks[e]&&s.eventsCallbacks[e]()}var s=this;this.classConstructor=arguments.callee;var r=ADG.html5.com.genesismedia.admanager.utils.StringUtils;this.slot=null,this.videoSlot=null,this.eventsCallbacks={},this.attributes={companions:"",desiredBitrate:256,duration:30,expanded:!1,height:0,icons:"",linear:!0,skippableState:!1,viewMode:"normal",width:0,volume:1},this.quartileEvents=[{event:"AdVideoStart",value:0},{event:"AdVideoFirstQuartile",value:25},{event:"AdVideoMidpoint",value:50},{event:"AdVideoThirdQuartile",value:75},{event:"AdVideoComplete",value:100}],this.lastQuartileIndex=0,this.parameters={},this.initAd=function(e,i,r,n,o,l){s.attributes.width=e,s.attributes.height=i,s.attributes.viewMode=r,s.attributes.desiredBitrate=n,s.slot=l.slot,s.videoSlot=l.videoSlot,s.parameters=o.AdParameters,t(),s.videoSlot.addEventListener("timeupdate",s.timeUpdateHandler.bind(s),!1),s.videoSlot.addEventListener("durationchange",function(){s.attributes.duration=s.videoSlot.duration,a("AdDurationChange")},!1),s.videoSlot.addEventListener("ended",s.stopAd.bind(s),!1),a("AdLoaded")},this.timeUpdateHandler=function(){if(!(s.lastQuartileIndex>=s.quartileEvents.length)){var e=100*s.videoSlot.currentTime/s.videoSlot.duration;if(e>=s.quartileEvents[s.lastQuartileIndex].value){var t=s.quartileEvents[s.lastQuartileIndex].event;"function"==typeof s.eventsCallbacks[t]&&s.eventsCallbacks[t](),s.lastQuartileIndex+=1}}},this.stopAd=function(){var e=a.bind(s);setTimeout(e,75,["AdStopped"])},this.startAd=function(){s.videoSlot.play(),a("AdImpression"),a("AdStarted")},this.handshakeVersion=function(){return"2.0"},this.setAdVolume=function(e){s.attributes.volume=e;try{s.videoSlot.volume=e}catch(t){}a("AdVolumeChanged")},this.getAdVolume=function(){return s.attributes.volume},this.resizeAd=function(e,t,r){s.attributes.width=e,s.attributes.height=t,s.attributes.viewMode=r,i(),a("AdSizeChange")},this.pauseAd=function(){s.videoSlot.pause(),a("AdPaused")},this.resumeAd=function(){s.videoSlot.play(),a("AdPlaying")},this.expandAd=function(){s.attributes.expanded=!0,a("AdExpanded")},this.getAdExpanded=function(){return s.attributes.expanded},this.getAdSkippableState=function(){return s.attributes.skippableState},this.collapseAd=function(){s.attributes.expanded=!1},this.skipAd=function(){var e=s.attributes.skippableState;e&&a("AdSkipped")},this.subscribe=function(e,t,i){var a=e.bind(i);s.eventsCallbacks[t]=a},this.unsubscribe=function(e){s.eventsCallbacks[e]=null},this.getAdWidth=function(){return s.attributes.width},this.getAdHeight=function(){return s.attributes.height},this.getAdRemainingTime=function(){return s.videoSlot.duration&&s.videoSlot.duration>0?s.videoSlot.duration-s.videoSlot.currentTime:0},this.getAdDuration=function(){return s.attributes.duration},this.getAdCompanions=function(){return s.attributes.companions},this.getAdIcons=function(){return s.attributes.icons},this.getAdLinear=function(){return s.attributes.linear},this.getVPAIDAd=function(){return s}};var Package=ADG.html5.getPackage("com.genesismedia.admanager.data");Package.MediaAsset=function(){this.classConstructor=arguments.callee,this.uri="",this.mimeType="",this.width=0,this.height=0,this.bitRate=0,this.duration="",this.clickThroughUrl=""};var Package=ADG.html5.getPackage("com.genesismedia.admanager.data");Package.MediaObject=function(){var e=this;this.classConstructor=arguments.callee,this.classConstructor.MEDIA_TYPE_ASSET="AMEDIA",this.classConstructor.MEDIA_TYPE_RTB="RMEDIA",this.classConstructor.MEDIA_TYPE_VAST="VMEDIA",this.mediaType="",this.alignmentMeta=new Array,this.placementMeta=new Array,this.rtbMeta="",this.guid="",this.advertiserGuid="",this.placementGuid="",this.ioGuid="",this.campaignGuid="",this.mediaGuid="",this.mediaName="",this.vastUri="",this.vastPlain="",this.cpm=0,this.priority=0,this.weight=0,this.order=0,this.guaranteed=0,this.assets=new Array,this.mcall={},this.addAlignmentMeta=function(t){t&&""!=t&&e.alignmentMeta.push(t)},this.addPlacementMeta=function(t){t&&""!=t&&e.placementMeta.push(t)},this.classConstructor.sortMedia=function(e){var t=e||[];return t.sort(this.sortByPriority),t},this.classConstructor.sortByPriority=function(e,t){return e.priority>t.priority?1:e.priority<t.priority?-1:1==e.guaranteed&&1==t.guaranteed?e.cpm>t.cpm?-1:e.cpm>t.cpm?1:e.order>t.order?-1:e.order<t.order?1:0:1==e.guaranteed?-1:1==t.guaranteed?1:e.order>t.order?-1:e.order<t.order?1:0}};var Package=ADG.html5.getPackage("com.genesismedia.admanager.data.vast");Package.VastObject=function(e,t,i,a,s){function r(e){for(var t=e.getElementsByTagName("Impression"),i=0;i<t.length;i++){var a=g.getXMLNodeValue(t[i]);h.pixels.impression.push(a)}}function n(e){for(var t=e.getElementsByTagName("Tracking"),i=0;i<t.length;i++){var a=g.getXMLNodeValue(t[i]);switch(a=g.filterPixel(a),t[i].getAttribute("event")){case"creativeView":case"start":h.pixels.start.push(a);break;case"firstQuartile":h.pixels.firstQuartile.push(a);break;case"midpoint":h.pixels.midpoint.push(a);break;case"thirdQuartile":h.pixels.thirdQuartile.push(a);break;case"complete":h.pixels.complete.push(a);break;case"skip":h.pixels.skip.push(a);break;case"mute":h.pixels.mute.push(a);break;case"unmute":h.pixels.unmute.push(a);break;case"pause":h.pixels.pause.push(a);break;case"resume":h.pixels.resume.push(a);break;case"progress":var s=t[i].getAttribute("offset"),r="";r=String(s&&""!=s?p.HHSSMMToSecond(s):Math.floor(Number(t[i].getAttribute("value")))),""!=r&&(h.pixels.progress[r]||(h.pixels.progress[r]=new Array),h.pixels.progress[r].push(a))}}}function o(e){for(var t=e.getElementsByTagName("ClickThrough"),i=0;i<t.length;i++){var a=g.getXMLNodeValue(t[i]);a=g.filterPixel(a),h.clickThroughUrl=g.evalURL(a)?a:location.protocol+"//"+a}for(var s=e.getElementsByTagName("ClickTracking"),r=0;r<s.length;r++){var n=g.getXMLNodeValue(s[r]);n=g.filterPixel(n),h.pixels.click.push(n)}}function l(e){for(var t=e.getElementsByTagName("MediaFile"),i=document.createElement("video"),a=!1,s=!1,r="",n=0;n<t.length;n++){var o=t[n];h.mediaFile=g.getXMLNodeValue(o);var l=o.getAttribute("type"),d=o.getAttribute("bitrate"),c=o.getAttribute("width"),u=o.getAttribute("height"),m=o.getAttribute("delivery"),p=o.getAttribute("customCreative");h.customCreative=p?p:!1,c&&(h.videoWidth=Number(parseInt(c))),u&&(h.videoHeight=Number(parseInt(u))),m&&(h.delivery=m),d&&(h.bitrate=d),h.mediaFile.length>0&&(""!=i.canPlayType(l)&&(a=!0,h.videos.push({url:h.mediaFile,mimetype:l})),l&&"application/javascript"==l&&(s=!0,r=h.mediaFile))}!a&&s&&(h.isVPAID=!0,h.mediaFile=r)}function d(e){var t=e.getElementsByTagName("Creative");if(t.length>0){var i=t[0];""==h.adDuration&&(h.adDuration=g.getXMLNodeValue(i,"Duration")),n(i),o(i),l(i)}}function c(e,t){h.title=g.getXMLNodeValue(e,"AdTitle"),h.adSystem=g.getXMLNodeValue(e,"AdSystem"),h.smartAd=h.adSystem.match("SMART")?!0:!1,r(e),d(e);var i=e.getElementsByTagName("Extensions");h.extensions=i.length>0?(new XMLSerializer).serializeToString(i[0])+t:t;var a=new DOMParser;h.extDoc=a.parseFromString("<xml>"+h.extensions+"</xml>","text/xml"),h.extensions=g.getXMLNodeValue(e,"AdParameters");for(var s=h.extDoc.getElementsByTagName("Extension"),n=0;n<s.length;n++){var o=s[n];h.adExchange=g.getXMLNodeValue(o,"adExchange"),h.insertionId=g.getXMLNodeValue(o,"insertionId"),h.campaignId=g.getXMLNodeValue(o,"campaignId"),h.creativeId=g.getXMLNodeValue(o,"creativeId");var l=g.getXMLNodeValue(o,"AdChoices");l&&""!=l&&(h.adChoices.icon=l,h.adChoices.width=Number(g.getXMLNodeAttribute(o,"AdChoices","width")),h.adChoices.height=Number(g.getXMLNodeAttribute(o,"AdChoices","height")))}h.isVPAID||(h.extensions={videos:h.videos,vastObject:h}),h.status="DONE"}function u(e){for(var t=document.createElement("video"),i=!1,a=0;a<e.length;a++){var s=e[a];h.mediaFile=s.uri,h.mimeType=s.mimeType,h.bitrate=s.bitRate,h.videoWidth=s.width,h.videoHeight=s.height,h.clickThroughUrl=s.clickThroughUrl,h.mediaFile.length>0&&""!=t.canPlayType(h.mimeType)&&(i=!0,h.videos.push({url:h.mediaFile,mimetype:h.mimeType}))}h.extensions={videos:h.videos,vastObject:h},h.status="DONE"}function m(e,t){h.pixels[e].push(t)}var h=this;this.classConstructor=arguments.callee;var g=ADG.html5.com.genesismedia.admanager.utils.StringUtils,p=ADG.html5.com.genesismedia.admanager.utils.NumberUtils;this.adId=a,this.title="",this.adSystem="",this.clickThroughUrl="",this.mediaFile="",this.bitrate=0,this.videoWidth=0,this.videoHeight=0,this.delivery="",this.isVPAID=!1,this.insertionId="",this.campaignId="",this.creativeId="",this.adExchange="",this.adDuration="",this.smartAd=!1,this.progressMsFormat=!1,this.extensions="",this.extDoc,this.videos=new Array,this.adChoices={},this.status="PENDING",this.pixels={impressionJS:new Array,impression:new Array,start:new Array,firstQuartile:new Array,midpoint:new Array,thirdQuartile:new Array,complete:new Array,skip:new Array,mute:new Array,unmute:new Array,pause:new Array,resume:new Array,click:new Array,progress:{}},this.mergePixels=function(e){for(var t in e)if(Array.isArray(e[t]))for(var i in e[t])m(t,e[t][i]);else for(var a in e[t])h.pixels[t][a]=e[t][a]},s?u(s):c(e,t)};var Package=ADG.html5.getPackage("com.genesismedia.admanager.data.vast");Package.VastObjectManager=function(){function e(e){e in u.eventCallbacks&&u.eventCallbacks[e](u)}function t(t){m.log("loadDoc() :: Requesting URL: "+t);var i;i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status){var a=new DOMParser;u.xmlDoc=a.parseFromString(i.responseText,"text/xml"),c(u.xmlDoc)}else 0!=i.status||v?e(u.classConstructor.DONE):(v=!0,i.abort(),i.open("GET",t,!0),i.withCredentials=!1,i.send())};try{h.evalURL(t)?(i.open("GET",t,!0),i.withCredentials=!0,v=!1,i.send()):e(u.classConstructor.DONE)}catch(a){e(u.classConstructor.DONE)}}function i(e,t){var i=h.getXMLNodeValue(e,"AdSystem");return i&&!t&&(t=i),t}function a(e){for(var t=e.getElementsByTagName("Impression"),i=0;i<t.length;i++){var a=h.getXMLNodeValue(t[i]);a=h.filterPixel(a),A.impression.push(a)}}function s(e){for(var t=e.getElementsByTagName("Tracking"),i=0;i<t.length;i++){var a=h.getXMLNodeValue(t[i]);switch(a=h.filterPixel(a),t[i].getAttribute("event")){case"creativeView":case"start":A.start.push(a);break;case"firstQuartile":A.firstQuartile.push(a);break;case"midpoint":A.midpoint.push(a);break;case"thirdQuartile":A.thirdQuartile.push(a);break;case"complete":A.complete.push(a);break;case"skip":A.skip.push(a);break;case"mute":A.mute.push(a);break;case"unmute":A.unmute.push(a);break;case"pause":A.pause.push(a);break;case"resume":A.resume.push(a);break;case"progress":var s=t[i].getAttribute("offset"),r="";r=String(s&&""!=s?g.HHSSMMToSecond(s):Math.floor(Number(t[i].getAttribute("value")))),""!=r&&(A.progress[r]||(A.progress[r]=new Array),A.progress[r].push(a))}}}function r(e){for(var t=e.getElementsByTagName("ClickTracking"),i=0;i<t.length;i++){var a=h.getXMLNodeValue(t[i]);a=h.filterPixel(a),A.click.push(a)}}function n(e){var t=e.getElementsByTagName("Creative");if(t.length>0){var i=t[0];s(i),r(i)}}function o(e){var s=e.getAttribute("id");s&&""==u.adId&&(u.adId=s),u.adSystem=i(e,u.adSystem),u.smartAd=u.adSystem.match("SMART")?!0:!1,a(e),n(e);var r=e.getElementsByTagName("Extensions")[0],o="";try{o=(new XMLSerializer).serializeToString(r)}catch(l){o=""}if(u.mediaObject.rtbMeta=r.getElementsByTagName("RtbMeta")[0]?r.getElementsByTagName("RtbMeta")[0].textContent:"",r.getElementsByTagName("Price")[0]){var d=r.getElementsByTagName("Price")[0].textContent;try{var c=parseFloat(d);!isNaN(c)&&c>0&&(u.mediaObject.cpm=c)}catch(g){}}if(r.getElementsByTagName("Alignment")[0]&&u.mediaObject.addAlignmentMeta(r.getElementsByTagName("Alignment")[0].textContent),r.getElementsByTagName("AlignmentGuids")[0]){var p=r.getElementsByTagName("AlignmentGuids")[0].textContent,A=p.split(",");4==A.length&&(m.debug("Updating GUID with the following values: "+p),u.mediaObject.advertiserGuid=A[0],u.mediaObject.ioGuid=A[1],u.mediaObject.campaignGuid=A[2],u.mediaObject.mediaGuid=A[3])}if(r.getElementsByTagName("DP")[0]){var v=r.getElementsByTagName("DP")[0].textContent;try{var f=parseFloat(v);isNaN(f)||(u.mediaObject.priority=f)}catch(g){m.error("Failed to parse priority: "+g)}}if(r.getElementsByTagName("DW")[0]){var w=r.getElementsByTagName("DW")[0].textContent;try{var b=parseFloat(w);isNaN(b)||(u.mediaObject.weight=b)}catch(g){m.error("Failed to parse weight:"+g)}}u.extensions=u.extensions+o,u.insertionId=r.getElementsByTagName("insertionId")[0]?r.getElementsByTagName("insertionId")[0].textContent:"",u.campaignId=r.getElementsByTagName("campaignId")[0]?r.getElementsByTagName("campaignId")[0].textContent:"",u.creativeId=r.getElementsByTagName("creativeId")[0]?r.getElementsByTagName("creativeId")[0].textContent:"";var C=h.getXMLNodeValue(e,"VASTAdTagURI");C=text=h.filterPixel(C),t(C)}function l(t){if(t){try{var i=t.getAttribute("id")}catch(a){return void e(u.classConstructor.DONE)}i&&""==u.adId&&(u.adId=i);for(var s=t.getElementsByTagName("InLine"),r=0;r<s.length;r++){var n=s[r],o=new p(n,u.extensions,u,i);o.progressMsFormat=u.progressMsFormat,o.mergePixels(A),u.insertionId=o.insertionId?o.insertionId:"",u.campaignId=o.campaignId?o.campaignId:"",u.creativeId=o.creativeId?o.creativeId:"",u.vastObjects.push(o)}}setTimeout(d,0)}function d(){for(var t=0;t<u.vastObjects.length;t++)if("DONE"!==u.vastObjects[t].status)return void setTimeout(d,100);e(u.classConstructor.DONE)}function c(t){try{if(t&&"Ad"!=t.nodeName){var i=t.getElementsByTagName("Ad");i.length>0&&(t=i[0])}var a=t.getElementsByTagName("Wrapper")}catch(s){return void e(u.classConstructor.DONE)}t?a.length>0?o(t):l(t):e(u.classConstructor.DONE)}var u=this;this.classConstructor=arguments.callee;var m=ADG.html5.com.genesismedia.admanager.utils.Logger,h=ADG.html5.com.genesismedia.admanager.utils.StringUtils,g=ADG.html5.com.genesismedia.admanager.utils.NumberUtils,p=ADG.html5.com.genesismedia.admanager.data.vast.VastObject;this.vastObjects=new Array,this.adSystem="",this.extensions="",this.adId="",this.smartAd=!1,this.insertionId="",this.campaignId="",this.creativeId="",this.mediaObject;var A={impressionJS:new Array,impression:new Array,start:new Array,firstQuartile:new Array,midpoint:new Array,thirdQuartile:new Array,complete:new Array,skip:new Array,mute:new Array,unmute:new Array,pause:new Array,resume:new Array,click:new Array,progress:{}},v=!1;this.xmlDoc,this.eventCallbacks={},this.subscribe=function(e,t,i){var a=e.bind(i);u.eventCallbacks[t]=a},this.unsubscribe=function(e){u.eventCallbacks[e]=null},this.init=function(e){u.mediaObject=e,u.mediaObject.mcall.ip&&(A.impression=A.impression.concat(h.filterPixelArray(u.mediaObject.mcall.ip))),u.mediaObject.mcall.ij&&(A.impressionJS=A.impressionJS.concat(h.filterPixelArray(u.mediaObject.mcall.ij)));var i=e.guid;if(i&&""==u.adId&&(u.adId=i),e.vastUri&&""!=e.vastUri){var a=e.vastUri;a=text=h.filterPixel(a),t(a)}else if(e.vastPlain&&""!=e.vastPlain){var s=new DOMParser;u.xmlDoc=s.parseFromString(e.vastPlain,"text/xml"),c(u.xmlDoc)}else{var r=new p(null,null,null,null,e.assets);r.mergePixels(A),u.vastObjects.push(r),setTimeout(d,0)}}},Package.VastObjectManager.DONE="done";var Package=ADG.html5.getPackage("com.genesismedia.admanager.skip");Package.Skip=function(e,t){function i(){o.innerHTML=n.classConstructor.COUNTDOWN_MESSAGE.replace("[x]",l)}function a(){l--,0>l?(clearInterval(d),s()):i()}function s(){e.removeChild(m),e.appendChild(c),c.setAttribute("style","position: absolute;right: 0px;bottom:35px;width:182px;height:36px;opacity:0.8;pointer-events:auto;"),u.setAttribute("style","position:absolute;width:182px;height:36px;z-index: 1;color: white;font-family: Arial;font-size: 13px;font-weight: bold;text-align: center;vertical-align: middle;line-height: 36px; cursor: pointer;"),c.appendChild(u),u.innerHTML=n.classConstructor.SKIP_MESSAGE,c.addEventListener("mousemove",function(){u.style.textDecoration="underline"}),c.addEventListener("mouseout",function(){u.style.textDecoration="none"}),c.addEventListener("mouseup",function(){r("SkipAd")});var t=document.createElement("div");t.setAttribute("style","position:absolute;width:182px;height:36px;"),c.appendChild(t);var i=document.createElement("img");i.src="data:image/png;base64,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",c.appendChild(i)}function r(e){e in n.eventsCallbacks&&"function"==typeof n.eventsCallbacks[e]&&n.eventsCallbacks[e]()}this.classConstructor=arguments.callee,this.classConstructor.COUNTDOWN_MESSAGE="You can skip this ad in [x]",this.classConstructor.SKIP_MESSAGE="Skip Ad >>";var n=this;this.eventsCallbacks={};var o,l=t,d=-1,c=document.createElement("div"),u=document.createElement("div"),m=document.createElement("div");e.appendChild(m),m.setAttribute("style","position: absolute;right: 0px;bottom:35px;width:182px;height:58px;opacity:0.8;"),o=document.createElement("div"),o.setAttribute("style","position:absolute;width:182px;height:58px;z-index: 1;color: white;font-family: Arial;font-size: 13px;font-weight: bold;text-align: center;vertical-align: middle;line-height: 58px;"),m.appendChild(o);var h=document.createElement("div");h.setAttribute("style","position:absolute;width:182px;height:58px;"),m.appendChild(h);var g=document.createElement("img");g.src="data:image/png;base64,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",h.appendChild(g),this.startCountdown=function(){0>=l||(d=setInterval(a,1e3),i())},this.subscribe=function(e,t,i){var a=e.bind(i);n.eventsCallbacks[t]=a},this.unsubscribe=function(e){n.eventsCallbacks[e]=null}};var Package=ADG.html5.getPackage("com.genesismedia.admanager.wham");Package.Allocation=function(e,t,i,a){function s(){var e;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e.onreadystatechange=function(){if(4==e.readyState)if(200==e.status){try{u=JSON.parse(e.responseText)}catch(t){u={}}u.sorting_rule&&(c=u.sorting_rule),r(),n.loaded=!0,i(a)}else 0==e.status?(u={},r(),n.loaded=!0,i(a)):(u={},r(),n.loaded=!0,i(a))};try{e.open("GET",n.cswUrl,!0),e.send()}catch(t){u={},r(),n.loaded=!0,i(a)}}function r(){if(h="aiid=false;",u&&!isNaN(u.freq)&&u.freq>0&&l.getRandomNum(1,100)<u.freq)try{var e=u[n.whamPageId];if(e)var t=e[o.DOCUMENT_HOST]||[],i=e[n.whamPageId]||[];var a=t.concat(i);if(m=a.filter(function(e,t,i){return i.indexOf(e)==t}),m&&m.length>0){h="",n.kibanaParams={wham:!0,optalg:c};for(var s=0;s<m.length&&10>s;s++)h+="aiid="+m[s]+";"}else d&&(n.kibanaParams={wham:!1})}catch(r){h="aiid=false;"}else d&&(n.kibanaParams={wham:!1})}var n=this;this.classConstructor=arguments.callee;var o=ADG.html5.com.genesismedia.admanager.events.KibanaTracker,l=ADG.html5.com.genesismedia.admanager.utils.NumberUtils;this.classConstructor.ALLOCATION_CSW_URL="https://dzga99c7xcvph.cloudfront.net/wham/__PAGEID__.json",this.whamPageId=!t||isNaN(t)?-1:t,this.loaded=!1,this.kibanaParams={},this.cswUrl=this.classConstructor.ALLOCATION_CSW_URL.replace("__PAGEID__",this.whamPageId);var d=e,c="default",u={},m=[],h="aiid=false;";this.filterAdUrl=function(e){var t=e;return t=t.indexOf("tgt=abbr%3D${aud_ids:%3Babbr%3D}")>0?t.replace("tgt=abbr%3D${aud_ids:%3Babbr%3D}","tgt="+h+"abbr%3D${aud_ids:%3Babbr%3D}"):t.replace("tgt=","tgt="+h)},this.sortAds=function(e){var t=e;if(m&&m.length>0)for(var i=m.length-1;i>=0;i--)for(var a=0;a<t.length;a++){var s=Number(t[a].getAttribute("id"));isNaN(s)||s!=m[i]||t.unshift(t.splice(a,1)[0])}return t},setTimeout(function(){d&&n.whamPageId>-1?s():(n.loaded=!0,i(a))},0)},function(e,t){"use strict";var i="0.7.12",a="",s="?",r="function",n="undefined",o="object",l="string",d="major",c="model",u="name",m="type",h="vendor",g="version",p="architecture",A="console",v="mobile",f="tablet",w="smarttv",b="wearable",C="embedded",E={extend:function(e,t){var i={};for(var a in e)i[a]=t[a]&&t[a].length%2===0?t[a].concat(e[a]):e[a];return i},has:function(e,t){return"string"==typeof e?t.toLowerCase().indexOf(e.toLowerCase())!==-1:!1},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===l?e.replace(/[^\d\.]/g,"").split(".")[0]:t},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},y={rgx:function(){var e,i,a,s,n,l,d={},c=0,u=arguments;for(a=0;a<u[1].length;a++)s=u[1][a],d[typeof s===o?s[0]:s]=t;for(;c<u.length&&!n;){var m=u[c],h=u[c+1];for(e=i=0;e<m.length&&!n;)if(n=m[e++].exec(this.getUA()))for(a=0;a<h.length;a++)l=n[++i],s=h[a],typeof s===o&&s.length>0?2===s.length?d[s[0]]=typeof s[1]===r?s[1].call(this,l):s[1]:3===s.length?d[s[0]]=typeof s[1]!==r||s[1].exec&&s[1].test?l?l.replace(s[1],s[2]):t:l?s[1].call(this,l,s[2]):t:4===s.length&&(d[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):t):d[s]=l?l:t;c+=2}return d},str:function(e,i){for(var a in i)if(typeof i[a]===o&&i[a].length>0){for(var r=0;r<i[a].length;r++)if(E.has(i[a][r],e))return a===s?t:a}else if(E.has(i[a],e))return a===s?t:a;return e}},T={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},k={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[u,g],[/(opios)[\/\s]+([\w\.]+)/i],[[u,"Opera Mini"],g],[/\s(opr)\/([\w\.]+)/i],[[u,"Opera"],g],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[u,g],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[u,"IE"],g],[/(edge)\/((\d+)?[\w\.]+)/i],[u,g],[/(yabrowser)\/([\w\.]+)/i],[[u,"Yandex"],g],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],g],[/(micromessenger)\/([\w\.]+)/i],[[u,"WeChat"],g],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[g,[u,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[u,/(.+)/,"$1 WebView"],g],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[g,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[u,g],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[[u,"UCBrowser"],g],[/(dolfin)\/([\w\.]+)/i],[[u,"Dolphin"],g],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[u,"Chrome"],g],[/;fbav\/([\w\.]+);/i],[g,[u,"Facebook"]],[/fxios\/([\w\.-]+)/i],[g,[u,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[g,[u,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[g,u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[u,[g,y.str,T.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[u,g],[/(navigator|netscape)\/([\w\.-]+)/i],[[u,"Netscape"],g],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[u,g]],
cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,E.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[p,/ower/,"",E.lowerize]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[p,E.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[c,h,[m,f]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[h,"Apple"],[m,f]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[h,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[h,c,[m,f]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[c,[h,"Amazon"],[m,f]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[c,y.str,T.device.amazon.model],[h,"Amazon"],[m,v]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,h,[m,v]],[/\((ip[honed|\s\w*]+);/i],[c,[h,"Apple"],[m,v]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[h,c,[m,v]],[/\(bb10;\s(\w+)/i],[c,[h,"BlackBerry"],[m,v]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[c,[h,"Asus"],[m,f]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[h,"Sony"],[c,"Xperia Tablet"],[m,f]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[h,"Sony"],[c,"Xperia Phone"],[m,v]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[h,c,[m,A]],[/android.+;\s(shield)\sbuild/i],[c,[h,"Nvidia"],[m,A]],[/(playstation\s[34portablevi]+)/i],[c,[h,"Sony"],[m,A]],[/(sprint\s(\w+))/i],[[h,y.str,T.device.sprint.vendor],[c,y.str,T.device.sprint.model],[m,v]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[h,c,[m,f]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[h,[c,/_/g," "],[m,v]],[/(nexus\s9)/i],[c,[h,"HTC"],[m,f]],[/(nexus\s6p)/i],[c,[h,"Huawei"],[m,v]],[/(microsoft);\s(lumia[\s\w]+)/i],[h,c,[m,v]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[h,"Microsoft"],[m,A]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[h,"Microsoft"],[m,v]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[h,"Motorola"],[m,v]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[h,"Motorola"],[m,f]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[h,E.trim],[c,E.trim],[m,w]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[h,"Samsung"],[m,w]],[/\(dtv[\);].+(aquos)/i],[c,[h,"Sharp"],[m,w]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[h,"Samsung"],c,[m,f]],[/smart-tv.+(samsung)/i],[h,[m,w],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[h,"Samsung"],c,[m,v]],[/sie-(\w+)*/i],[c,[h,"Siemens"],[m,v]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[h,"Nokia"],c,[m,v]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[c,[h,"Acer"],[m,f]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[h,"LG"],c,[m,f]],[/(lg) netcast\.tv/i],[h,c,[m,w]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[c,[h,"LG"],[m,v]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[h,"Lenovo"],[m,f]],[/linux;.+((jolla));/i],[h,c,[m,v]],[/((pebble))app\/[\d\.]+\s/i],[h,c,[m,b]],[/android.+;\s(glass)\s\d/i],[c,[h,"Google"],[m,b]],[/android.+;\s(pixel c)\s/i],[c,[h,"Google"],[m,f]],[/android.+;\s(pixel xl|pixel)\s/i],[c,[h,"Google"],[m,v]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[c,/_/g," "],[h,"Xiaomi"],[m,v]],[/android.+a000(1)\s+build/i],[c,[h,"OnePlus"],[m,v]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[m,E.lowerize],h,c]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[g,[u,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,g],[/rv\:([\w\.]+).*(gecko)/i],[g,u]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[u,g],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[u,[g,y.str,T.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[g,y.str,T.os.windows.version]],[/\((bb)(10);/i],[[u,"BlackBerry"],g],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[u,g],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[u,"Symbian"],g],[/\((series40);/i],[u],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"],g],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[u,g],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium OS"],g],[/(sunos)\s?([\w\.]+\d)*/i],[[u,"Solaris"],g],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[u,g],[/(haiku)\s(\w+)/i],[u,g],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[u,"iOS"],[g,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[u,"Mac OS"],[g,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[u,g]]},x=function(t,i){if(!(this instanceof x))return new x(t,i).getResult();var s=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:a),r=i?E.extend(k,i):k;return this.getBrowser=function(){var e=y.rgx.apply(this,r.browser);return e.major=E.major(e.version),e},this.getCPU=function(){return y.rgx.apply(this,r.cpu)},this.getDevice=function(){return y.rgx.apply(this,r.device)},this.getEngine=function(){return y.rgx.apply(this,r.engine)},this.getOS=function(){return y.rgx.apply(this,r.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return s},this.setUA=function(e){return s=e,this},this};x.VERSION=i,x.BROWSER={NAME:u,MAJOR:d,VERSION:g},x.CPU={ARCHITECTURE:p},x.DEVICE={MODEL:c,VENDOR:h,TYPE:m,CONSOLE:A,MOBILE:v,SMARTTV:w,TABLET:f,WEARABLE:b,EMBEDDED:C},x.ENGINE={NAME:u,VERSION:g},x.OS={NAME:u,VERSION:g},typeof exports!==n?(typeof module!==n&&module.exports&&(exports=module.exports=x),exports.UAParser=x):typeof define===r&&define.amd?define(function(){return x}):e.UAParser=x;var D=e.jQuery||e.Zepto;if(typeof D!==n){var I=new x;D.ua=I.getResult(),D.ua.get=function(){return I.getUA()},D.ua.set=function(e){I.setUA(e);var t=I.getResult();for(var i in t)D.ua[i]=t[i]}}}("object"==typeof window?window:this);var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index],queryString=myScript.src.replace(/^[^\?]+\??/,""),params=queryString.replace(/(^\?)/,"").split("&").map(function(e){return e=e.split("="),this[e[0]]=e[1],this}.bind({}))[0];if(navigator&&navigator.platform){var sasIsIosUiwebview=!1;if("iP"===navigator.platform.substr(0,2)){var lte9=/constructor/i.test(window.HTMLElement),nav=window.navigator,ua=nav.userAgent,idb=!!window.indexedDB;ua.indexOf("Safari")===-1||ua.indexOf("Version")===-1||nav.standalone?!idb&&lte9||!window.statusbar.visible?sasIsIosUiwebview=!0:(window.webkit&&window.webkit.messageHandlers||!lte9||idb)&&(sasIsIosUiwebview=!0):sasIsIosUiwebview=!1}if(!sasIsIosUiwebview){var smartCsync=document.createElement("IFRAME");smartCsync.onload=function(){if(navigator&&navigator.platform){var e=!1;if("iP"===navigator.platform.substr(0,2)){var t=/constructor/i.test(window.HTMLElement),i=window.navigator,a=i.userAgent,s=!!window.indexedDB;a.indexOf("Safari")===-1||a.indexOf("Version")===-1||i.standalone?!s&&t||!window.statusbar.visible?e=!0:(window.webkit&&window.webkit.messageHandlers||!t||s)&&(e=!0):e=!1}if(!e){var r=new Image;r.src="//rtb-csync.smartadserver.com/h/cs/cn?cname=adserver.genesismediaus.com&ts=636208827421283906"}}},smartCsync.src="//csync.smartadserver.com/rtb/csync/CookieSync.html?nwid=1316&dcid=4",smartCsync.scrolling="no",smartCsync.frameBorder=0,smartCsync.width=0,smartCsync.height=0,smartCsync.style.margin=0,smartCsync.style.padding=0,smartCsync.style.display="none",smartCsync.style.width="0px",smartCsync.style.height="0px",smartCsync.style.visibility="hidden",null!=document.body&&document.body.appendChild(smartCsync)}}ADG.html5.instance=new ADG.html5.com.genesismedia.admanager.AdManager(params),window.getVPAIDAd=function(){return ADG.html5.instance};